{"version":3,"sources":["nameToCountryCode.ts","CountryButton.tsx","Firebase.ts","participatingCountries.ts","Voting.tsx","DndVoting.tsx","ScoreBoard.tsx","App.tsx","index.tsx"],"names":["s","Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antarctica","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bonaire","Botswana","Brazil","Bulgaria","Burundi","Cambodia","Cameroon","Canada","Chad","Chile","China","Colombia","Comoros","Congo","Croatia","Cuba","Curacao","Cyprus","Denmark","Djibouti","Dominica","Ecuador","Egypt","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iraq","Ireland","Israel","Italy","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","Nicaragua","Niger","Nigeria","Niue","Norway","Oman","Pakistan","Palau","Palestine","Panama","Paraguay","Peru","Philippines","Pitcairn","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Reunion","Samoa","Senegal","Serbia","Seychelles","Singapore","Slovakia","Slovenia","Somalia","Spain","Sudan","Suriname","Swaziland","Sweden","Switzerland","Taiwan","Tajikistan","Thailand","Togo","Tokelau","Tonga","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","Uruguay","Uzbekistan","Vanuatu","Venezuela","Yemen","Zambia","Zimbabwe","name","onClick","disabled","flag","nameToCountryCode","toLowerCase","type","className","src","alt","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","Voting","useState","votes","setVotes","points","setPoints","userName","setUserName","nextPoint","restPoints","postSucceeded","setPostSucceeded","countriesWithVotes","Object","values","awardedAllPoints","scoresIsEmpty","keys","length","entries","sort","a","b","parseInt","reverse","map","point","country","key","toString","lastScore","Math","min","otherVotes","countries","c","CountryButton","includes","Fragment","value","onChange","e","target","collection","add","then","docRef","console","log","id","catch","error","pointsInOrder","DndVoting","props","defaultState","items","countryName","index","localStorageContent","localStorage","getItem","savedState","JSON","parse","areSameLength","containSameCountries","setA","setB","_intersection","Set","elem","has","intersection","size","savedCountriesAreEqualToParticipatingCountries","state","onDragEnd","bind","result","destination","list","startIndex","endIndex","Array","from","splice","removed","reorder","this","source","setState","setItem","stringify","style","margin","textAlign","droppableId","provided","snapshot","droppableProps","ref","innerRef","isDraggingOver","background","padding","width","item","draggableId","marginBottom","grid","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","placeholder","reduce","accumulator","Component","ScoreBoard","allVotes","setAllVotes","voteSteps","setVoteSteps","useEffect","get","querySnapshot","scoresAndUsers","forEach","d","push","data","votingState","soFar","ouv","tempAccum","myVoteStep","voteTally","usersVotes","votingUserName","countryList","points1","score","isLatestVote","max","backgroundColor","App","basename","process","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"sQA+PeA,EA3Pc,CAC3BC,YAAa,KACbC,QAAS,KACTC,QAAS,KACT,iBAAkB,KAClBC,QAAS,KACTC,OAAQ,KACRC,SAAU,KACVC,WAAY,KACZ,sBAAuB,KACvBC,UAAW,KACXC,QAAS,KACTC,MAAO,KACPC,UAAW,KACXC,QAAS,KACTC,WAAY,KACZC,QAAS,KACTC,QAAS,KACTC,WAAY,KACZC,SAAU,KACVC,QAAS,KACTC,QAAS,KACTC,OAAQ,KACRC,MAAO,KACPC,QAAS,KACTC,OAAQ,KACRC,QAAS,KACTC,QAAS,KACT,yBAA0B,KAC1BC,SAAU,KACV,gBAAiB,KACjBC,OAAQ,KACR,iCAAkC,KAClC,oBAAqB,KACrBC,SAAU,KACV,eAAgB,KAChBC,QAAS,KACTC,SAAU,KACVC,SAAU,KACVC,OAAQ,KACR,aAAc,KACd,iBAAkB,KAClB,2BAA4B,KAC5BC,KAAM,KACNC,MAAO,KACPC,MAAO,KACP,mBAAoB,KACpB,0BAA2B,KAC3BC,SAAU,KACVC,QAAS,KACTC,MAAO,KACP,mCAAoC,KACpC,eAAgB,KAChB,aAAc,KACdC,QAAS,KACTC,KAAM,KACNC,QAAS,KACTC,OAAQ,KACR,iBAAkB,KAClB,gBAAiB,KACjBC,QAAS,KACTC,SAAU,KACVC,SAAU,KACV,qBAAsB,KACtBC,QAAS,KACTC,MAAO,KACP,cAAe,KACf,oBAAqB,KACrBC,QAAS,KACTC,QAAS,KACTC,SAAU,KACV,8BAA+B,KAC/B,gBAAiB,KACjBC,KAAM,KACNC,QAAS,KACTC,OAAQ,KACR,gBAAiB,KACjB,mBAAoB,KACpB,8BAA+B,KAC/BC,MAAO,KACPC,OAAQ,KACRC,QAAS,KACTC,QAAS,KACTC,MAAO,KACPC,UAAW,KACXC,OAAQ,KACRC,UAAW,KACXC,QAAS,KACTC,WAAY,KACZC,KAAM,KACNC,UAAW,KACXC,SAAU,KACVC,OAAQ,KACR,gBAAiB,KACjBC,OAAQ,KACRC,MAAO,KACP,oCAAqC,KACrC,gCAAiC,KACjCC,SAAU,KACV,YAAa,KACbC,QAAS,KACTC,QAAS,KACTC,MAAO,KACPC,UAAW,KACX,4BAA6B,KAC7BC,KAAM,KACNC,QAAS,KACT,cAAe,KACfC,OAAQ,KACRC,MAAO,KACP,mBAAkB,KAClBC,MAAO,KACPC,OAAQ,KACRC,OAAQ,KACRC,WAAY,KACZC,MAAO,KACPC,SAAU,KACV,2CAA4C,KAC5C,qBAAsB,KACtBC,OAAQ,KACRC,WAAY,KACZC,KAAM,KACNC,OAAQ,KACRC,QAAS,KACTC,QAAS,KACTC,QAAS,KACTC,MAAO,KACPC,cAAe,KACfC,UAAW,KACXC,WAAY,KACZC,MAAO,KACP,kBAAmB,KACnBC,WAAY,KACZC,OAAQ,KACRC,SAAU,KACVC,SAAU,KACVC,KAAM,KACNC,MAAO,KACP,mBAAoB,KACpBC,WAAY,KACZC,WAAY,KACZC,UAAW,KACXC,QAAS,KACTC,OAAQ,KACR,kCAAmC,KACnCC,QAAS,KACTC,OAAQ,KACRC,SAAU,KACVC,WAAY,KACZC,WAAY,KACZC,QAAS,KACTC,WAAY,KACZC,QAAS,KACTC,QAAS,KACTC,MAAO,KACPC,MAAO,KACPC,YAAa,KACb,gBAAiB,KACjB,cAAe,KACfC,UAAW,KACXC,MAAO,KACPC,QAAS,KACTC,KAAM,KACN,iBAAkB,KAClB,2BAA4B,KAC5BC,OAAQ,KACRC,KAAM,KACNC,SAAU,KACVC,MAAO,KACPC,UAAW,KACXC,OAAQ,KACR,mBAAoB,KACpBC,SAAU,KACVC,KAAM,KACNC,YAAa,KACbC,SAAU,KACVC,OAAQ,KACRC,SAAU,KACV,cAAe,KACfC,MAAO,KACPC,QAAS,KACTC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACT,mBAAoB,KACpB,eAAgB,KAChB,wBAAyB,KACzB,cAAe,KACf,6BAA8B,KAC9B,4BAA6B,KAC7B,mCAAoC,KACpCC,MAAO,KACP,aAAc,KACd,wBAAyB,KACzB,eAAgB,KAChBC,QAAS,KACTC,OAAQ,KACRC,WAAY,KACZ,eAAgB,KAChBC,UAAW,KACX,4BAA6B,KAC7BC,SAAU,KACVC,SAAU,KACV,kBAAmB,KACnBC,QAAS,KACT,eAAgB,KAChB,+CAAgD,KAChD,cAAe,KACfC,MAAO,KACP,YAAa,KACbC,MAAO,KACPC,SAAU,KACV,yBAA0B,KAC1BC,UAAW,KACXC,OAAQ,KACRC,YAAa,KACb,uBAAwB,KACxBC,OAAQ,KACRC,WAAY,KACZ,8BAA+B,KAC/BC,SAAU,KACV,cAAe,KACfC,KAAM,KACNC,QAAS,KACTC,MAAO,KACP,sBAAuB,KACvBC,QAAS,KACTC,OAAQ,KACRC,aAAc,KACd,2BAA4B,KAC5BC,OAAQ,KACRC,OAAQ,KACRC,QAAS,KACT,uBAAwB,KACxB,iBAAkB,KAClB,gBAAiB,KACjB,uCAAwC,KACxCC,QAAS,KACTC,WAAY,KACZC,QAAS,KACTC,UAAW,KACX,WAAY,KACZ,yBAA0B,KAC1B,oBAAqB,KACrB,oBAAqB,KACrB,iBAAkB,KAClBC,MAAO,KACPC,OAAQ,KACRC,SAAU,MCnPG,cAAyC,IAAtCC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,SACzBC,EAAI,gBAAYC,EAAkBJ,GAAMK,cAApC,QACV,OACE,4BACEC,KAAK,SACLC,UAAS,6BAAwBL,GAAY,eAC7CA,SAAUA,EACVD,QAASA,GAET,yBAAKO,IAAKL,EAAMI,UAAU,OAAOE,IAAG,kBAAaT,KACjD,0BAAMO,UAAU,YAAYP,K,cCNlCU,gBAVuB,CACrBC,OAAQ,0CACRC,WAAY,mCACZC,YAAa,0CACbC,UAAW,mBACXC,cAAe,+BACfC,kBAAmB,eACnBC,MAAO,wCAKF,IAAMC,EAAKR,cCfH,GACb,SACA,UACA,SACA,UACA,SACA,QACA,WACA,SACA,iBACA,SACA,cACA,UACA,QACA,UACA,UACA,UACA,WACA,YACA,UACA,SACA,aACA,SACA,cACA,QACA,SACA,cC+FaS,EApHA,WAAO,IAAD,EAC2CC,mBAAS,IADpD,mBACZC,EADY,KACLC,EADK,OAESF,mBAAS,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAFhD,mBAEZG,EAFY,KAEJC,EAFI,OAGaJ,mBAAS,IAHtB,mBAGZK,EAHY,KAGFC,EAHE,mBAKgBH,GAA5BI,EALY,KAKEC,EALF,aAMuBR,oBAAS,GANhC,mBAMZS,EANY,KAMGC,EANH,KAQbC,EAA+BC,OAAOC,OAAOZ,GAC7Ca,GAAoBP,EAEpBQ,EAA8C,IAA9BH,OAAOI,KAAKf,GAAOgB,OACzC,OACE,6BACE,6BACE,+BACE,+BACGL,OAAOM,QAAQjB,GACbkB,MAAK,SAACC,EAAGC,GAAJ,OAAUC,SAASF,EAAE,IAAME,SAASD,EAAE,OAC3CE,UACAC,KAAI,mCAAEC,EAAF,KAASC,EAAT,YACH,wBAAIC,IAAKF,EAAMG,WAAaF,GAC1B,4BAAKD,GACL,4BAAKC,WAMfjB,GACA,6BACE,4BACE3B,SAAUiC,EACV5B,UAAS,2BAAsB4B,GAAiB,eAChDlC,QAAS,WACP,GAAIoB,EAAO,CACT,IAAM4B,EAAYC,KAAKC,IAAL,MAAAD,KAAI,YACjBlB,OAAOI,KAAKf,GAAOuB,KAAI,SAAAJ,GAAC,OAAIE,SAASF,QAEbY,GAAe/B,EAAnC4B,GAJA,YAImC5B,EAJnC,CAIA4B,GAJA,WAOTzB,EAAU,CAFIyB,GAAa,GAElB,mBAAY1B,KACrBD,EAAS8B,MAZf,UAoBHzB,GACC,6BACE,4BACGA,EADH,UAEE,6BAFF,aAMHA,GACC,6BACG0B,EAAUT,KAAI,SAAAU,GAAC,OACd,kBAACC,EAAD,CACER,IAAKO,EACLpD,SAAU6B,EAAmByB,SAASF,GACtCrD,QAAS,WACPuB,EAAUI,GACVN,EAAS,eAAKD,EAAN,eAAcM,EAAY2B,MAEpCtD,KAAMsD,QAKbzB,EACC,4CAEA,kBAAC,IAAM4B,SAAP,KACGvB,GACC,kBAAC,IAAMuB,SAAP,KACE,yBAAKlD,UAAU,aACb,8CACA,2BACEmD,MAAOjC,EACPkC,SAAU,SAAAC,GAAC,OAAIlC,EAAYkC,EAAEC,OAAOH,QACpCnD,UAAU,YACVD,KAAK,UAGT,4BACEC,UAAS,8BAAyBkB,GAAY,eAC9CxB,QAAO,sBAAE,sBAAAuC,EAAA,sDACPtB,EAAG4C,WAAW,cACXC,IAAI,CACHtC,WACAJ,UAED2C,MAAK,SAASC,GACbC,QAAQC,IAAI,6BAA8BF,EAAOG,IACjDtC,GAAiB,MAElBuC,OAAM,SAASC,GACdJ,QAAQI,MAAM,0BAA2BA,MAXtC,4CAFX,gB,gECvERC,EAAgB,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAiOrCC,M,YA/Lb,WAAYC,GAAgB,IAAD,sBACzB,4CAAMA,IACN,IACMC,EAAe,CACnBC,MAPJtB,EAAUT,KAAI,SAACgC,EAAaC,GAAd,MAAyB,CAAET,GAAG,QAAD,OAAUS,GAASD,kBAQ1DnD,SAAU,GACVI,eAAe,GAEXiD,EAAsBC,aAAaC,QAAQ,aAC3CC,EAAaH,EACfI,KAAKC,MAAML,GACXJ,EAEEU,EAAgBV,EAAaC,MAAMtC,SAAW4C,EAAWN,MAAMtC,OAC/DgD,EAuKV,SAAyBC,EAAcC,GACrC,IAAIC,EAAgB,IAAIC,IADmC,uBAE3D,YAAiBF,EAAjB,+CAAuB,CAAC,IAAfG,EAAc,QACjBJ,EAAKK,IAAID,IACXF,EAAczB,IAAI2B,IAJqC,kFAO3D,OAAOF,EA7KHI,CACE,IAAIH,IAAIf,EAAaC,MAAM/B,KAAI,qBAAGgC,gBAClC,IAAIa,IACFR,EAAWN,MAAM/B,KACf,qBAAGgC,iBAGPiB,OAASnB,EAAaC,MAAMtC,OAC1ByD,EACJV,GAAiBC,EAxBM,OA0BzBnB,QAAQC,IAAI,gBAAiBiB,GAC7BlB,QAAQC,IAAI,uBAAwBkB,GAGlC,EAAKU,MADHD,EACWb,EAEAP,EAEf,EAAKsB,UAAY,EAAKA,UAAUC,KAAf,gBAlCQ,E,uEAqCjBC,GAER,GAAKA,EAAOC,YAAZ,CAIA,IAAMxB,EArFM,SAACyB,EAAaC,EAAoBC,GAChD,IAAMJ,EAASK,MAAMC,KAAKJ,GAD2C,EAEnDF,EAAOO,OAAOJ,EAAY,GAArCK,EAF8D,oBAKrE,OAFAR,EAAOO,OAAOH,EAAU,EAAGI,GAEpBR,EAgFSS,CACZC,KAAKb,MAAMpB,MACXuB,EAAOW,OAAOhC,MACdqB,EAAOC,YAAYtB,OAGrB+B,KAAKE,SAAS,CACZnC,UAIFI,aAAagC,QADH,YACgB7B,KAAK8B,UAAL,eAAoBJ,KAAKb,MAAzB,CAAgCpB,e,+BAKlD,IAAD,SACqBiC,KAAKb,MAAzBtE,EADD,EACCA,SAAUkD,EADX,EACWA,MAClB,OACE,6BACE,wBAAIsC,MAAO,CAAEC,OAAQ,SAArB,gCACA,yBAAKD,MAAO,CAAEE,UAAW,OAAQD,OAAQ,SACvC,sHAIA,kGAEF,kBAAC,IAAD,CAAiBlB,UAAWY,KAAKZ,WAC/B,kBAAC,IAAD,CAAWoB,YAAY,cACpB,SAACC,EAAUC,GAAX,OACC,uCACMD,EAASE,eADf,CAEEC,IAAKH,EAASI,SACdR,OA3FMS,EA2FcJ,EAASI,eA3FM,CACjDC,WAAYD,EAAiB,YAAc,YAC3CE,QApBW,EAqBXC,MAAO,IACPX,OAAQ,aAyFOvC,EAAM/B,KAAI,SAACkF,EAAMjD,GAAP,OACT,kBAAC,IAAD,CAAW9B,IAAK+E,EAAK1D,GAAI2D,YAAaD,EAAK1D,GAAIS,MAAOA,IACnD,SAACwC,EAA6BC,GAC7B,OACE,yBACEL,MAAO,CACLe,aAAa,GAAD,OAAKC,GAAL,QAGd,qCACE1H,UAAU,2BACViH,IAAKH,EAASI,UACVJ,EAASa,eACTb,EAASc,gBAJf,CAKElB,OA1H1BmB,EA2H4Bd,EAASc,WA1HrCC,EA2H4BhB,EAASa,eAAejB,MA7HjC,aAKnBqB,WAAY,OACZV,QARW,EAYXD,WAAYS,EAAa,aAAe,aAGrCC,MAmHuB,6BACE,yBACE7H,IAAG,gBAAWJ,EACZ0H,EAAKlD,aACLvE,cAFC,QAGHE,UAAU,OACVE,IAAG,kBAAaqH,EAAKlD,eAEtBkD,EAAKlD,aAEPL,EAAcM,IACb,yBACEtE,UAAU,2BACV0G,MAAO,CACLW,QAAS,SACTD,WAAY,SAGbpD,EAAcM,MAlJ1B,IACnBuD,EACAC,QAyJehB,EAASkB,aA3IL,IAACb,MAgJd,yBAAKT,MAAO,CAAEC,OAAQ,SACnBN,KAAKb,MAAMlE,cACV,4CAEA,kBAAC,IAAM4B,SAAP,KACE,yBAAKlD,UAAU,YAAY0G,MAAO,CAAEC,OAAQ,SAC1C,8CACA,2BACExD,MAAOkD,KAAKb,MAAMtE,SAClBkC,SAAU,SAAAC,GAAC,OAAI,EAAKkD,SAAS,CAAErF,SAAUmC,EAAEC,OAAOH,SAClDnD,UAAU,YACVD,KAAK,UAGT,4BACEC,UAAS,8BAAyBkB,GAAY,eAC9CwF,MAAO,CAAEe,aAAc,QACvB/H,QAAO,sBAAE,4BAAAuC,EAAA,sDACDnB,EAEFkD,EAAciE,QAChB,SAACC,EAAa5F,EAAOgC,GAArB,sBACK4D,EADL,eAEG5F,EAAQ8B,EAAME,GAAOD,gBAExB,IAEF1D,EAAG4C,WAAW,cACXC,IAAI,CACHtC,WACAJ,UAED2C,MAAK,SAAAC,GACJC,QAAQC,IAAI,6BAA8BF,EAAOG,IACjD,EAAK0C,SAAS,CAAEjF,eAAe,OAEhCwC,OAAM,SAAAC,GACLJ,QAAQI,MAAM,0BAA2BA,MApBtC,4CAHX,yB,GAjJUoE,aCuFTC,EAhII,WAAO,IAAD,EACSvH,mBAAmB,IAD5B,mBAChBwH,EADgB,KACNC,EADM,OAEWzH,mBAAiB,GAF5B,mBAEhB0H,EAFgB,KAELC,EAFK,KAIvBC,qBAAU,WACR9H,EAAG4C,WAAW,cACXmF,MACAjF,MAAK,SAAAkF,GACJ,IAAMC,EAA2B,GACjCD,EAAcE,SAAQ,SAAAC,GAAC,OACrBF,EAAeG,KAAK,CAClB7H,SAAU4H,EAAEE,OAAO9H,SACnBJ,MAAOgI,EAAEE,OAAOlI,WAGpBwH,EAAYM,QAEf,IAEH,IAAMK,EAA2BZ,EAASJ,QACxC,SAACiB,EAAoBC,GACnB,IACE,OAAO1H,OAAOM,QAAgBoH,EAAIrI,OAC/BuB,KAAsB,mCAAErB,EAAF,WAAuB,CAAvB,KAErBmB,SAASnB,OAEVgB,MAAK,gEACLiG,QACC,SAACmB,EAAD,0BAA0B7G,EAA1B,KAAmCvB,EAAnC,YACEoI,EAAUC,YAAcd,EACpBa,EADJ,eAGSA,EAHT,CAIME,UAAU,eACLF,EAAUE,UADN,eAEN/G,GAAW6G,EAAUE,UAAU/G,IAAY,GAAKvB,IAEnDuI,WACEJ,EAAIjI,WAAakI,EAAUI,eAA3B,eACSJ,EAAUG,WADnB,eACgChH,EAAUvB,IAD1C,eAEOuB,EAAUvB,GACnBqI,WAAYD,EAAUC,WAAa,EACnCG,eAAgBL,EAAIjI,aAG5BgI,GAEJ,MAAO7F,GACP,OAAO6F,KAGX,CACEI,UAAWG,EAAYxB,QAAO,SAACiB,EAAOjH,GAAR,sBAAoBiH,EAApB,eAA4BjH,EAAI,MAAM,IACpEsH,WAAY,GACZC,eAAgB,GAChBH,WAAY,IAMhB,OAHA1F,QAAQC,IAAIqF,GAEZtF,QAAQC,IAAIyE,GAEV,6BACE,0CACA,6BACE,4BACErI,UAAS,uBACTN,QAAS,kBAAM8I,EAAaD,EAAY,KAF1C,WAMA,4BACEvI,UAAS,qBACTN,QAAS,kBAAM8I,EAAaD,EAAY,KAF1C,UAOF,6CAAmBU,EAAYO,gBAC/B,6BACE,yBAAK9C,MAAO,CAAEY,MAAO,QAASX,OAAQ,WACpC,2BACE3G,UAAU,oCACV0G,MAAO,CAAEU,WAAY,cAErB,+BACG3F,OAAOM,QAAgBkH,EAAYK,WACjCtH,MAAK,kBAAI0H,EAAJ,+CAAwCA,KAC7CrH,KAAI,YAAyC,IAAD,mBAAtCE,EAAsC,KAA7BoH,EAA6B,KACrCC,EACJX,EAAYM,WAAWhH,KACvBI,KAAKkH,IAAL,MAAAlH,KAAI,YAAQlB,OAAOC,OAAOuH,EAAYM,cAClC3J,EAAI,gBAAYC,EACpB0C,GACAzC,cAFQ,QAGV,OACE,wBACE4G,MACEkD,EACI,CACEE,gBAAiB,qBAEnB,GAENtH,IAAG,UAAKD,EAAL,YAAgBoH,IAEnB,4BACE,yBACE1J,IAAKL,EACLI,UAAU,OACVE,IAAG,kBAAaqC,KAEjBA,GAEH,4BAAK0G,EAAYM,WAAWhH,IAAY,IACxC,4BAAKoH,a,eChHZI,EAZO,WACpB,OACE,yBAAK/J,UAAU,OACb,kBAAC,IAAD,CAAQgK,SAAUC,sBAChB,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWnG,IACjC,kBAAC,IAAD,CAAOiG,KAAK,QAAQE,UAAWhC,IAC/B,kBAAC,IAAD,CAAO8B,KAAK,OAAOE,UAAWxJ,OCRtCyJ,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.9f324060.chunk.js","sourcesContent":["interface NameToCountryCode {\n  [countryName: string]: string;\n}\n\nconst s: NameToCountryCode = {\n  Afghanistan: \"AF\",\n  Albania: \"AL\",\n  Algeria: \"DZ\",\n  \"American Samoa\": \"AS\",\n  Andorra: \"AD\",\n  Angola: \"AO\",\n  Anguilla: \"AI\",\n  Antarctica: \"AQ\",\n  \"Antigua and Barbuda\": \"AG\",\n  Argentina: \"AR\",\n  Armenia: \"AM\",\n  Aruba: \"AW\",\n  Australia: \"AU\",\n  Austria: \"AT\",\n  Azerbaijan: \"AZ\",\n  Bahamas: \"BS\",\n  Bahrain: \"BH\",\n  Bangladesh: \"BD\",\n  Barbados: \"BB\",\n  Belarus: \"BY\",\n  Belgium: \"BE\",\n  Belize: \"BZ\",\n  Benin: \"BJ\",\n  Bermuda: \"BM\",\n  Bhutan: \"BT\",\n  Bolivia: \"BO\",\n  Bonaire: \"BQ\",\n  \"Bosnia and Herzegovina\": \"BA\",\n  Botswana: \"BW\",\n  \"Bouvet Island\": \"BV\",\n  Brazil: \"BR\",\n  \"British Indian Ocean Territory\": \"IO\",\n  \"Brunei Darussalam\": \"BN\",\n  Bulgaria: \"BG\",\n  \"Burkina Faso\": \"BF\",\n  Burundi: \"BI\",\n  Cambodia: \"KH\",\n  Cameroon: \"CM\",\n  Canada: \"CA\",\n  \"Cape Verde\": \"CV\",\n  \"Cayman Islands\": \"KY\",\n  \"Central African Republic\": \"CF\",\n  Chad: \"TD\",\n  Chile: \"CL\",\n  China: \"CN\",\n  \"Christmas Island\": \"CX\",\n  \"Cocos (Keeling) Islands\": \"CC\",\n  Colombia: \"CO\",\n  Comoros: \"KM\",\n  Congo: \"CG\",\n  \"Democratic Republic of the Congo\": \"CD\",\n  \"Cook Islands\": \"CK\",\n  \"Costa Rica\": \"CR\",\n  Croatia: \"HR\",\n  Cuba: \"CU\",\n  Curacao: \"CW\",\n  Cyprus: \"CY\",\n  \"Czech Republic\": \"CZ\",\n  \"Cote d'Ivoire\": \"CI\",\n  Denmark: \"DK\",\n  Djibouti: \"DJ\",\n  Dominica: \"DM\",\n  \"Dominican Republic\": \"DO\",\n  Ecuador: \"EC\",\n  Egypt: \"EG\",\n  \"El Salvador\": \"SV\",\n  \"Equatorial Guinea\": \"GQ\",\n  Eritrea: \"ER\",\n  Estonia: \"EE\",\n  Ethiopia: \"ET\",\n  \"Falkland Islands (Malvinas)\": \"FK\",\n  \"Faroe Islands\": \"FO\",\n  Fiji: \"FJ\",\n  Finland: \"FI\",\n  France: \"FR\",\n  \"French Guiana\": \"GF\",\n  \"French Polynesia\": \"PF\",\n  \"French Southern Territories\": \"TF\",\n  Gabon: \"GA\",\n  Gambia: \"GM\",\n  Georgia: \"GE\",\n  Germany: \"DE\",\n  Ghana: \"GH\",\n  Gibraltar: \"GI\",\n  Greece: \"GR\",\n  Greenland: \"GL\",\n  Grenada: \"GD\",\n  Guadeloupe: \"GP\",\n  Guam: \"GU\",\n  Guatemala: \"GT\",\n  Guernsey: \"GG\",\n  Guinea: \"GN\",\n  \"Guinea-Bissau\": \"GW\",\n  Guyana: \"GY\",\n  Haiti: \"HT\",\n  \"Heard Island and McDonald Islands\": \"HM\",\n  \"Holy See (Vatican City State)\": \"VA\",\n  Honduras: \"HN\",\n  \"Hong Kong\": \"HK\",\n  Hungary: \"HU\",\n  Iceland: \"IS\",\n  India: \"IN\",\n  Indonesia: \"ID\",\n  \"Iran, Islamic Republic of\": \"IR\",\n  Iraq: \"IQ\",\n  Ireland: \"IE\",\n  \"Isle of Man\": \"IM\",\n  Israel: \"IL\",\n  Italy: \"IT\",\n  \"Jamaica\tJM\tJAM\": \"JM\",\n  Japan: \"JP\",\n  Jersey: \"JE\",\n  Jordan: \"JO\",\n  Kazakhstan: \"KZ\",\n  Kenya: \"KE\",\n  Kiribati: \"KI\",\n  \"Korea, Democratic People's Republic of  \": \"KP\",\n  \"Korea, Republic of\": \"KR\",\n  Kuwait: \"KW\",\n  Kyrgyzstan: \"KG\",\n  Laos: \"LA\",\n  Latvia: \"LV\",\n  Lebanon: \"LB\",\n  Lesotho: \"LS\",\n  Liberia: \"LR\",\n  Libya: \"LY\",\n  Liechtenstein: \"LI\",\n  Lithuania: \"LT\",\n  Luxembourg: \"LU\",\n  Macao: \"MO\",\n  \"North Macedonia\": \"MK\",\n  Madagascar: \"MG\",\n  Malawi: \"MW\",\n  Malaysia: \"MY\",\n  Maldives: \"MV\",\n  Mali: \"ML\",\n  Malta: \"MT\",\n  \"Marshall Islands\": \"MH\",\n  Martinique: \"MQ\",\n  Mauritania: \"MR\",\n  Mauritius: \"MU\",\n  Mayotte: \"YT\",\n  Mexico: \"MX\",\n  \"Micronesia, Federated States of\": \"FM\",\n  Moldova: \"MD\",\n  Monaco: \"MC\",\n  Mongolia: \"MN\",\n  Montenegro: \"ME\",\n  Montserrat: \"MS\",\n  Morocco: \"MA\",\n  Mozambique: \"MZ\",\n  Myanmar: \"MM\",\n  Namibia: \"NA\",\n  Nauru: \"NR\",\n  Nepal: \"NP\",\n  Netherlands: \"NL\",\n  \"New Caledonia\": \"NC\",\n  \"New Zealand\": \"NZ\",\n  Nicaragua: \"NI\",\n  Niger: \"NE\",\n  Nigeria: \"NG\",\n  Niue: \"NU\",\n  \"Norfolk Island\": \"NF\",\n  \"Northern Mariana Islands\": \"MP\",\n  Norway: \"NO\",\n  Oman: \"OM\",\n  Pakistan: \"PK\",\n  Palau: \"PW\",\n  Palestine: \"PS\",\n  Panama: \"PA\",\n  \"Papua New Guinea\": \"PG\",\n  Paraguay: \"PY\",\n  Peru: \"PE\",\n  Philippines: \"PH\",\n  Pitcairn: \"PN\",\n  Poland: \"PL\",\n  Portugal: \"PT\",\n  \"Puerto Rico\": \"PR\",\n  Qatar: \"QA\",\n  Romania: \"RO\",\n  Russia: \"RU\",\n  Rwanda: \"RW\",\n  Reunion: \"RE\",\n  \"Saint Barthelemy\": \"BL\",\n  \"Saint Helena\": \"SH\",\n  \"Saint Kitts and Nevis\": \"KN\",\n  \"Saint Lucia\": \"LC\",\n  \"Saint Martin (French part)\": \"MF\",\n  \"Saint Pierre and Miquelon\": \"PM\",\n  \"Saint Vincent and the Grenadines\": \"VC\",\n  Samoa: \"WS\",\n  \"San Marino\": \"SM\",\n  \"Sao Tome and Principe\": \"ST\",\n  \"Saudi Arabia\": \"SA\",\n  Senegal: \"SN\",\n  Serbia: \"RS\",\n  Seychelles: \"SC\",\n  \"Sierra Leone\": \"SL\",\n  Singapore: \"SG\",\n  \"Sint Maarten (Dutch part)\": \"SX\",\n  Slovakia: \"SK\",\n  Slovenia: \"SI\",\n  \"Solomon Islands\": \"SB\",\n  Somalia: \"SO\",\n  \"South Africa\": \"ZA\",\n  \"South Georgia and the South Sandwich Islands\": \"GS\",\n  \"South Sudan\": \"SS\",\n  Spain: \"ES\",\n  \"Sri Lanka\": \"LK\",\n  Sudan: \"SD\",\n  Suriname: \"SR\",\n  \"Svalbard and Jan Mayen\": \"SJ\",\n  Swaziland: \"SZ\",\n  Sweden: \"SE\",\n  Switzerland: \"CH\",\n  \"Syrian Arab Republic\": \"SY\",\n  Taiwan: \"TW\",\n  Tajikistan: \"TJ\",\n  \"United Republic of Tanzania\": \"TZ\",\n  Thailand: \"TH\",\n  \"Timor-Leste\": \"TL\",\n  Togo: \"TG\",\n  Tokelau: \"TK\",\n  Tonga: \"TO\",\n  \"Trinidad and Tobago\": \"TT\",\n  Tunisia: \"TN\",\n  Turkey: \"TR\",\n  Turkmenistan: \"TM\",\n  \"Turks and Caicos Islands\": \"TC\",\n  Tuvalu: \"TV\",\n  Uganda: \"UG\",\n  Ukraine: \"UA\",\n  \"United Arab Emirates\": \"AE\",\n  \"United Kingdom\": \"GB\",\n  \"United States\": \"US\",\n  \"United States Minor Outlying Islands\": \"UM\",\n  Uruguay: \"UY\",\n  Uzbekistan: \"UZ\",\n  Vanuatu: \"VU\",\n  Venezuela: \"VE\",\n  \"Viet Nam\": \"VN\",\n  \"British Virgin Islands\": \"VG\",\n  \"US Virgin Islands\": \"VI\",\n  \"Wallis and Futuna\": \"WF\",\n  \"Western Sahara\": \"EH\",\n  Yemen: \"YE\",\n  Zambia: \"ZM\",\n  Zimbabwe: \"ZW\"\n};\n\nexport default s;\n","import React from \"react\";\nimport nameToCountryCode from \"./nameToCountryCode\";\n\ntype Props = {\n  name: string;\n  onClick: (event: React.MouseEvent<HTMLElement>) => void;\n  disabled: boolean;\n};\n\nexport default ({ name, onClick, disabled }: Props) => {\n  const flag = `flags/${nameToCountryCode[name].toLowerCase()}.png`;\n  return (\n    <button\n      type=\"button\"\n      className={`nes-btn is-primary ${disabled && \"is-disabled\"}`}\n      disabled={disabled}\n      onClick={onClick}\n    >\n      <img src={flag} className=\"flag\" alt={`Flag of ${name}`} />\n      <span className=\"nes-text\">{name}</span>\n    </button>\n  );\n};\n","import * as firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDMXD0-q5wcY-YxL0CuIS86ibvQEeGpp8c\",\n  authDomain: \"eurovision-voter.firebaseapp.com\",\n  databaseURL: \"https://eurovision-voter.firebaseio.com\",\n  projectId: \"eurovision-voter\",\n  storageBucket: \"eurovision-voter.appspot.com\",\n  messagingSenderId: \"685398369353\",\n  appId: \"1:685398369353:web:d9f10d520a5cf65a\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\n","export default [\n  \"Cyprus\",\n  \"Albania\",\n  \"Israel\",\n  \"Belgium\",\n  \"Russia\",\n  \"Malta\",\n  \"Portugal\",\n  \"Serbia\",\n  \"United Kingdom\",\n  \"Greece\",\n  \"Switzerland\",\n  \"Iceland\",\n  \"Spain\",\n  \"Moldova\",\n  \"Germany\",\n  \"Finland\",\n  \"Bulgaria\",\n  \"Lithuania\",\n  \"Ukraine\",\n  \"France\",\n  \"Azerbaijan\",\n  \"Norway\",\n  \"Netherlands\",\n  \"Italy\",\n  \"Sweden\",\n  \"San Marino\"\n];\n","import React, { useState } from \"react\";\nimport CountryButton from \"./CountryButton\";\nimport { db } from \"./Firebase\";\nimport countries from \"./participatingCountries\";\n\nconst Voting = () => {\n  const [votes, setVotes]: [{ [point: number]: string }, any] = useState([]);\n  const [points, setPoints] = useState([12, 10, 8, 7, 6, 5, 4, 3, 2, 1]);\n  const [userName, setUserName] = useState(\"\");\n\n  const [nextPoint, ...restPoints] = points;\n  const [postSucceeded, setPostSucceeded] = useState(false);\n\n  const countriesWithVotes: string[] = Object.values(votes);\n  const awardedAllPoints = !nextPoint;\n\n  const scoresIsEmpty = Object.keys(votes).length === 0;\n  return (\n    <div>\n      <div>\n        <table>\n          <tbody>\n            {Object.entries(votes)\n              .sort((a, b) => parseInt(a[0]) - parseInt(b[0]))\n              .reverse()\n              .map(([point, country]) => (\n                <tr key={point.toString() + country}>\n                  <td>{point}</td>\n                  <td>{country}</td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      </div>\n      {!postSucceeded && (\n        <div>\n          <button\n            disabled={scoresIsEmpty}\n            className={`nes-btn is-error ${scoresIsEmpty && \"is-disabled\"}`}\n            onClick={() => {\n              if (votes) {\n                const lastScore = Math.min(\n                  ...Object.keys(votes).map(a => parseInt(a))\n                );\n                const { [lastScore]: foo, ...otherVotes } = votes;\n                const point = lastScore || 0;\n\n                setPoints([point, ...points]);\n                setVotes(otherVotes);\n              }\n            }}\n          >\n            Angre\n          </button>\n        </div>\n      )}\n      {nextPoint && (\n        <div>\n          <em>\n            {nextPoint} points\n            <br /> goes to\n          </em>\n        </div>\n      )}\n      {nextPoint && (\n        <div>\n          {countries.map(c => (\n            <CountryButton\n              key={c}\n              disabled={countriesWithVotes.includes(c)}\n              onClick={() => {\n                setPoints(restPoints);\n                setVotes({ ...votes, [nextPoint]: c });\n              }}\n              name={c}\n            />\n          ))}\n        </div>\n      )}\n      {postSucceeded ? (\n        <div>Sendte inn!</div>\n      ) : (\n        <React.Fragment>\n          {awardedAllPoints && (\n            <React.Fragment>\n              <div className=\"nes-field\">\n                <label>Navnet ditt</label>\n                <input\n                  value={userName}\n                  onChange={e => setUserName(e.target.value)}\n                  className=\"nes-input\"\n                  type=\"text\"\n                />\n              </div>\n              <button\n                className={`nes-btn is-primary ${!userName && \"is-disabled\"}`}\n                onClick={async () => {\n                  db.collection(\"user-votes\")\n                    .add({\n                      userName,\n                      votes\n                    })\n                    .then(function(docRef) {\n                      console.log(\"Document written with ID: \", docRef.id);\n                      setPostSucceeded(true);\n                    })\n                    .catch(function(error) {\n                      console.error(\"Error adding document: \", error);\n                    });\n                }}\n              >\n                Send inn\n              </button>\n            </React.Fragment>\n          )}\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default Voting;\n","import React, { Component, CSSProperties } from \"react\";\nimport {\n  DragDropContext,\n  Draggable,\n  DraggableProvided,\n  DraggingStyle,\n  Droppable,\n  DropResult,\n  NotDraggingStyle\n} from \"react-beautiful-dnd\";\nimport countries from \"./participatingCountries\";\nimport nameToCountryCode from \"./nameToCountryCode\";\nimport { db } from \"./Firebase\";\n\n// a little function to help us with reordering the result\nconst reorder = (list: any[], startIndex: number, endIndex: number) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n};\n\nconst pointsInOrder = [12, 10, 8, 7, 6, 5, 4, 3, 2, 1];\n\nconst grid = 8;\n\nconst getItemStyle = (\n  isDragging: boolean,\n  draggableStyle: DraggingStyle | NotDraggingStyle | null | undefined\n): CSSProperties => ({\n  // some basic styles to make the items look a bit nicer\n  userSelect: \"none\",\n  padding: grid,\n  // margin: `0 0 ${grid}px 0`,\n\n  // change background colour if dragging\n  background: isDragging ? \"lightgreen\" : \"lightblue\",\n\n  // styles we need to apply on draggables\n  ...draggableStyle\n});\n\nconst getListStyle = (isDraggingOver: boolean) => ({\n  background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\n  padding: grid,\n  width: 250,\n  margin: \"0 auto\"\n});\n\ntype Item = { id: string; countryName: string };\ntype State = { items: Item[]; userName: string; postSucceeded: boolean };\n\nconst getCountries = (): Item[] =>\n  countries.map((countryName, index) => ({ id: `item-${index}`, countryName }));\n\nclass DndVoting extends Component<any, State> {\n  constructor(props: Object) {\n    super(props);\n    const countriesAsTheyWouldAppearWhenFresh = getCountries();\n    const defaultState = {\n      items: countriesAsTheyWouldAppearWhenFresh,\n      userName: \"\",\n      postSucceeded: false\n    };\n    const localStorageContent = localStorage.getItem(\"lastState\");\n    const savedState = localStorageContent\n      ? JSON.parse(localStorageContent)\n      : defaultState;\n\n    const areSameLength = defaultState.items.length === savedState.items.length;\n    const containSameCountries =\n      intersection(\n        new Set(defaultState.items.map(({ countryName }) => countryName)),\n        new Set(\n          savedState.items.map(\n            ({ countryName }: { countryName: string }) => countryName\n          )\n        )\n      ).size === defaultState.items.length;\n    const savedCountriesAreEqualToParticipatingCountries =\n      areSameLength && containSameCountries;\n\n    console.log(\"areSameLength\", areSameLength);\n    console.log(\"containSameCountries\", containSameCountries);\n\n    if (savedCountriesAreEqualToParticipatingCountries) {\n      this.state = savedState;\n    } else {\n      this.state = defaultState;\n    }\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n\n  onDragEnd(result: DropResult) {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const items = reorder(\n      this.state.items,\n      result.source.index,\n      result.destination.index\n    );\n\n    this.setState({\n      items\n    });\n\n    let key = \"lastState\";\n    localStorage.setItem(key, JSON.stringify({ ...this.state, items }));\n  }\n\n  // Normally you would want to split things out into separate components.\n  // But in this example everything is just done in one place for simplicity\n  render() {\n    const { userName, items } = this.state;\n    return (\n      <div>\n        <h1 style={{ margin: \"1rem\" }}>Eurovision hos Veronica 2019</h1>\n        <div style={{ textAlign: \"left\", margin: \"1rem\" }}>\n          <p>\n            Dra og slipp landene i rekkefølge. Du trenger ikke sortere de som\n            ikke får poeng.\n          </p>\n          <p>Sveip til bunnen for å skrive inn kallenavn og sende inn poeng.</p>\n        </div>\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <Droppable droppableId=\"droppable\">\n            {(provided, snapshot) => (\n              <div\n                {...provided.droppableProps}\n                ref={provided.innerRef}\n                style={getListStyle(snapshot.isDraggingOver)}\n              >\n                {items.map((item, index) => (\n                  <Draggable key={item.id} draggableId={item.id} index={index}>\n                    {(provided: DraggableProvided, snapshot) => {\n                      return (\n                        <div\n                          style={{\n                            marginBottom: `${grid * 2}px`\n                          }}\n                        >\n                          <div\n                            className=\"nes-container is-rounded\"\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                            style={getItemStyle(\n                              snapshot.isDragging,\n                              provided.draggableProps.style\n                            )}\n                          >\n                            <div>\n                              <img\n                                src={`flags/${nameToCountryCode[\n                                  item.countryName\n                                ].toLowerCase()}.png`}\n                                className=\"flag\"\n                                alt={`Flag of ${item.countryName}`}\n                              />\n                              {item.countryName}\n                            </div>\n                            {pointsInOrder[index] && (\n                              <div\n                                className=\"nes-container is-rounded\"\n                                style={{\n                                  padding: \"0.1rem\",\n                                  background: \"#fff\"\n                                }}\n                              >\n                                {pointsInOrder[index]}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    }}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n        <div style={{ margin: \"1rem\" }}>\n          {this.state.postSucceeded ? (\n            <div>Sendte inn!</div>\n          ) : (\n            <React.Fragment>\n              <div className=\"nes-field\" style={{ margin: \"1rem\" }}>\n                <label>Navnet ditt</label>\n                <input\n                  value={this.state.userName}\n                  onChange={e => this.setState({ userName: e.target.value })}\n                  className=\"nes-input\"\n                  type=\"text\"\n                />\n              </div>\n              <button\n                className={`nes-btn is-primary ${!userName && \"is-disabled\"}`}\n                style={{ marginBottom: \"8rem\" }}\n                onClick={async () => {\n                  const votes: {\n                    [point: number]: string;\n                  } = pointsInOrder.reduce(\n                    (accumulator, point, index) => ({\n                      ...accumulator,\n                      [point]: items[index].countryName\n                    }),\n                    {}\n                  );\n                  db.collection(\"user-votes\")\n                    .add({\n                      userName,\n                      votes\n                    })\n                    .then(docRef => {\n                      console.log(\"Document written with ID: \", docRef.id);\n                      this.setState({ postSucceeded: true });\n                    })\n                    .catch(error => {\n                      console.error(\"Error adding document: \", error);\n                    });\n                }}\n              >\n                Send inn poeng\n              </button>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction intersection<T>(setA: Set<T>, setB: Set<T>): Set<T> {\n  let _intersection = new Set<T>();\n  for (let elem of setB) {\n    if (setA.has(elem)) {\n      _intersection.add(elem);\n    }\n  }\n  return _intersection;\n}\n\nexport default DndVoting;\n","import React, { useState, useEffect } from \"react\";\nimport { db } from \"./Firebase\";\nimport countryList from \"./participatingCountries\";\nimport nameToCountryCode from \"./nameToCountryCode\";\n\ntype OneUsersVotes = { userName: string; votes: { [point: number]: string } };\ntype AllVotes = Array<OneUsersVotes>;\ntype VotingState = {\n  voteTally: FinalScore;\n  usersVotes: { [country: string]: number };\n  votingUserName: string;\n  myVoteStep: number;\n};\ntype FinalScore = { [country: string]: number };\n\nconst ScoreBoard = () => {\n  const [allVotes, setAllVotes] = useState<AllVotes>([]);\n  const [voteSteps, setVoteSteps] = useState<number>(0);\n\n  useEffect(() => {\n    db.collection(\"user-votes\")\n      .get()\n      .then(querySnapshot => {\n        const scoresAndUsers: AllVotes = [];\n        querySnapshot.forEach(d =>\n          scoresAndUsers.push({\n            userName: d.data().userName,\n            votes: d.data().votes\n          })\n        );\n        setAllVotes(scoresAndUsers);\n      });\n  }, []);\n\n  const votingState: VotingState = allVotes.reduce(\n    (soFar: VotingState, ouv: OneUsersVotes) => {\n      try {\n        return Object.entries<string>(ouv.votes)\n          .map<[string, number]>(([points, country]) => [\n            country,\n            parseInt(points)\n          ])\n          .sort(([, points1], [, points2]) => points1 - points2)\n          .reduce<VotingState>(\n            (tempAccum: VotingState, [country, points]) =>\n              tempAccum.myVoteStep >= voteSteps\n                ? tempAccum\n                : {\n                    ...tempAccum,\n                    voteTally: {\n                      ...tempAccum.voteTally,\n                      [country]: (tempAccum.voteTally[country] || 0) + points\n                    },\n                    usersVotes:\n                      ouv.userName === tempAccum.votingUserName\n                        ? { ...tempAccum.usersVotes, [country]: points }\n                        : { [country]: points },\n                    myVoteStep: tempAccum.myVoteStep + 1,\n                    votingUserName: ouv.userName\n                  },\n\n            soFar\n          );\n      } catch (e) {\n        return soFar;\n      }\n    },\n    {\n      voteTally: countryList.reduce((soFar, a) => ({ ...soFar, [a]: 0 }), {}),\n      usersVotes: {},\n      votingUserName: \"\",\n      myVoteStep: 0\n    }\n  );\n  console.log(votingState);\n\n  console.log(allVotes);\n  return (\n    <div>\n      <h1>Resultater</h1>\n      <div>\n        <button\n          className={`nes-btn is-secondary`}\n          onClick={() => setVoteSteps(voteSteps - 1)}\n        >\n          Tilbake\n        </button>\n        <button\n          className={`nes-btn is-primary`}\n          onClick={() => setVoteSteps(voteSteps + 1)}\n        >\n          Neste\n        </button>\n      </div>\n      <div>Stemmene fra {votingState.votingUserName}</div>\n      <div>\n        <div style={{ width: \"400px\", margin: \"0 auto\" }}>\n          <table\n            className=\"nes-table is-bordered is-centered\"\n            style={{ background: \"lightblue\" }}\n          >\n            <tbody>\n              {Object.entries<number>(votingState.voteTally)\n                .sort(([, points1], [, points2]) => points2 - points1)\n                .map(([country, score]: [string, number]) => {\n                  const isLatestVote =\n                    votingState.usersVotes[country] ===\n                    Math.max(...Object.values(votingState.usersVotes));\n                  const flag = `flags/${nameToCountryCode[\n                    country\n                  ].toLowerCase()}.png`;\n                  return (\n                    <tr\n                      style={\n                        isLatestVote\n                          ? {\n                              backgroundColor: \"rgb(32, 156, 238)\"\n                            }\n                          : {}\n                      }\n                      key={`${country} ${score}`}\n                    >\n                      <td>\n                        <img\n                          src={flag}\n                          className=\"flag\"\n                          alt={`Flag of ${country}`}\n                        />\n                        {country}\n                      </td>\n                      <td>{votingState.usersVotes[country] || \"\"}</td>\n                      <td>{score}</td>\n                    </tr>\n                  );\n                })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ScoreBoard;\n","import React from \"react\";\nimport \"./App.css\";\nimport Voting from \"./Voting\";\nimport DndVoting from \"./DndVoting\";\nimport ScoreBoard from \"./ScoreBoard\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <Route path=\"/\" exact component={DndVoting} />\n        <Route path=\"/aoeu\" component={ScoreBoard} />\n        <Route path=\"/old\" component={Voting} />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}
/*! For license information please see main.4c5ba9cb.js.LICENSE.txt */
(()=>{var e={5:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case g:case s:return e;default:return t}}case i:return t}}}function S(e){return E(e)===f}},43:(e,t,n)=>{"use strict";e.exports=n(202)},82:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,g=60122,v=60117,m=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),g=b("react.server.block"),v=b("react.fundamental"),m=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return w(e)===s}},86:(e,t,n)=>{"use strict";e.exports=n(82)},123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in o=Object(arguments[s]))n.call(o,c)&&(u[c]=o[c]);if(t){a=t(o);for(var l=0;l<a.length;l++)r.call(o,a[l])&&(u[a[l]]=o[a[l]])}}return u}},141:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},153:(e,t,n)=>{"use strict";n(123);var r=n(43),i=60103;if("function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t,n)=>{"use strict";var r=n(123),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,o={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:u,props:o,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=e),e=""===r?"."+x(s,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+x(u=e[c],c);s+=C(u,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,l=r+x(u,c++),a);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function A(){var e=N.current;if(null===e)throw Error(h(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(h(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var o=r({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:u,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},219:(e,t,n)=>{"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),g=s(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!u||!u[m])){var y=d(n,m);try{c(t,m,y)}catch(b){}}}}return t}},234:(e,t)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(f,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?E.postMessage(null):(g=!1,v=null)}catch(n){throw E.postMessage(null),n}}else g=!1},n=function(e){v=e,g||(g=!0,E.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>T(a,n))void 0!==s&&0>T(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],C=[],D=1,k=null,N=3,A=!1,P=!1,O=!1;function R(e){for(var t=I(C);null!==t;){if(null===t.callback)_(C);else{if(!(t.startTime<=e))break;_(C),t.sortIndex=t.expirationTime,S(x,t)}t=I(C)}}function L(e){if(O=!1,R(e),!P)if(null!==I(x))P=!0,n(M);else{var t=I(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),A=!0;var o=N;try{for(R(n),k=I(x);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=k.callback;if("function"===typeof a){k.callback=null,N=k.priorityLevel;var u=a(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?k.callback=u:k===I(x)&&_(x),R(n)}else _(x);k=I(x)}if(null!==k)var s=!0;else{var c=I(C);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{k=null,N=o,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return I(x)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,a){var u=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?u+a:u:a=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:D++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>u?(e.sortIndex=a,S(C,e),null===I(x)&&e===I(C)&&(O?i():O=!0,r(L,a-u))):(e.sortIndex=s,S(x,e),P||A||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},504:(e,t,n)=>{var r=n(141);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(u+=e.slice(a,h),a=h+f.length,d)u+=d[1];else{var p=e[a],g=n[2],v=n[3],m=n[4],y=n[5],b=n[6],w=n[7];u&&(r.push(u),u="");var E=null!=g&&null!=p&&p!==g,S="+"===b||"*"===b,I="?"===b||"*"===b,_=n[2]||l,T=m||y;r.push({name:v||o++,prefix:g||"",delimiter:_,optional:I,repeat:S,partial:E,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+s(_)+"]+?"})}}return a<e.length&&(u+=e.substr(a)),u&&r.push(u),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",u=t||{},s=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=u[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=s(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)a+=s(c);else{var d=s(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),a+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=s(n.delimiter||"/"),g=a.slice(-p.length)===p;return i||(a=(g?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},579:(e,t,n)=>{"use strict";e.exports=n(153)},681:(e,t,n)=>{"use strict";n(5)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(123),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(g,e)||!h.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,I=60106,_=60107,T=60108,x=60114,C=60109,D=60110,k=60112,N=60113,A=60120,P=60115,O=60116,R=60121,L=60128,M=60129,F=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),I=U("react.portal"),_=U("react.fragment"),T=U("react.strict_mode"),x=U("react.profiler"),C=U("react.provider"),D=U("react.context"),k=U("react.forward_ref"),N=U("react.suspense"),A=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),B=U("react.legacy_hidden")}var V,j="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var G=!1;function H(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case I:return"Portal";case x:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case R:return K(e._render);case O:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,me=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ie[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,De=null,ke=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Ae(e){De?ke?ke.push(e):ke=[e]:De=e}function Pe(){if(De){var e=De,t=ke;if(ke=De=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Be=!1;function Ue(){null===De&&null===ke||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){je=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ve){je=!1}function ze(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ge=!1,He=null,We=!1,Ke=null,Qe={onError:function(e){Ge=!0,He=e}};function $e(e,t,n,r,i,o,a,u,s){Ge=!1,He=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function gt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function St(e){function t(t){return Et(t,e)}if(0<at.length){Et(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&Et(ut,e),null!==st&&Et(st,e),null!==ct&&Et(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function It(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},Tt={},xt={};function Ct(e){if(Tt[e])return Tt[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Tt[e]=n[t];return e}f&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Dt=Ct("animationend"),kt=Ct("animationiteration"),Nt=Ct("animationstart"),At=Ct("transitionend"),Pt=new Map,Ot=new Map,Rt=["abort","abort",Dt,"animationEnd",kt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Ft(s),i=Mt):0!==(u&=o)&&(r=Ft(u),i=Mt)}else 0!==(o=n&~a)?(r=Ft(o),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Vt(10,t):e;case 10:return 0===(e=jt(192&~t))?Vt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function jt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Kt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,o=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=o)||Ue()}}function Xt(e,t,n,r){Qt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&gt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=vt(ut,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;gt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=xe(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),pn=i({},dn,{view:0,detail:0}),gn=sn(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(vn),yn=sn(i({},vn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=sn(En),In=sn(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Dn(){return Cn}var kn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(kn),An=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dn})),On=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var Un=f&&"TextEvent"in window&&!Bn,Vn=f&&(!Fn||Bn&&8<Bn&&11>=Bn),jn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Fr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){kr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,xe(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,Er=null,Sr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==br||br!==J(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&dr(Er,r)||(Er=r,0<(r=Fr(wr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<_r.length;Tr++)Ot.set(_r[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if($e.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var l=He;Ge=!1,He=null,We||(We=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Dr(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Dr(i,u,c),o=s}}}if(We)throw e=Ke,We=!1,Ke=null,e}function Nr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){Cr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),Rr(o,e,i,t),a.add(u))}function Rr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=ni(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{return Me(e,t,n)}finally{Be=!1,Ue()}}((function(){var r=o,i=xe(n),a=[];e:{var u=Pt.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Dt:case kt:case Nt:s=wn;break;case At:s=On;break;case"scroll":s=gn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==d&&(null!=(g=Ve(p,d))&&l.push(Mr(p,g,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,g="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ii(s),h=null==c?u:ii(c),(u=new l(g,p+"leave",s,n,i)).target=f,u.relatedTarget=h,g=null,ni(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,g=l),f=g,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Br(h))p++;for(h=0,g=d;g;g=Br(g))h++;for(;0<p-h;)l=Br(l),p--;for(;0<h-p;)d=Br(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Br(l),d=Br(d)}l=null}else l=null;null!==s&&Ur(a,u,s,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Zn;else if(Kn(u))if(er)v=cr;else{v=ur;var m=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=sr);switch(v&&(v=v(e,r))?Qn(a,v,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(br=m,wr=r,Er=null);break;case"focusout":Er=wr=br=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Ir(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Ir(a,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Fr(r,b)).length&&(b=new In(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(qn=!0,jn);case"textInput":return(e=t.data)===jn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}kr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,o))&&a.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,o))&&a.push(Mr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var jr=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var di={},hi=ci(di),pi=ci(!1),gi=di;function vi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(hi)}function bi(e,t,n){if(hi.current!==di)throw Error(a(168));fi(hi,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=hi.current,fi(hi,e),fi(pi,pi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,gi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),fi(hi,e)):li(pi),fi(pi,n)}var Ii=null,_i=null,Ti=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Di=o.unstable_shouldYield,ki=o.unstable_requestPaint,Ni=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Fi={},Bi=void 0!==ki?ki:function(){},Ui=null,Vi=null,ji=!1,qi=Ni(),zi=1e4>qi?Ni:function(){return Ni()-qi};function Gi(){switch(Ai()){case Pi:return 99;case Oi:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(a(332))}}function Wi(e,t){return e=Hi(e),Ti(e,t)}function Ki(e,t,n){return e=Hi(e),xi(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}$i()}function $i(){if(!ji&&null!==Ui){ji=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),xi(Pi,Qi),n}finally{ji=!1}}}var Yi=E.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var uo=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;uo=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?a=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,u=0,f=l=c=null;;){s=a.lane;var h=a.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(s=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=g.payload)?p.call(h,d,s):p)||void 0===s)break e;d=i({},d,s);break e;case 2:uo=!0}}null!==a.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=h,c=d):f=f.next=h,u|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=d}}function go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var vo=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ps(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),gs(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ps(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),gs(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ps(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),gs(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function wo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(t)?gi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(t)?gi:hi.current,i.context=vi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Io=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===vo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Qs(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=$s(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Qs(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case I:return(t=Js(t,e.mode,n)).return=e,t}if(Io(t)||q(t))return(t=$s(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(Io(n)||q(n))return null!==i?null:f(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function g(i,a,u,s){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<u.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=h(i,f,u[g],s);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===l?c=m:l.sibling=m,l=m,f=v}if(g===u.length)return n(i,f),c;if(null===f){for(;g<u.length;g++)null!==(f=d(i,u[g],s))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);g<u.length;g++)null!==(v=p(f,i,g,u[g],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,g=u,v=u=0,m=null,y=s.next();null!==g&&!y.done;v++,y=s.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),u=o(b,u,v),null===f?l=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),l;if(null===g){for(;!y.done;v++,y=s.next())null!==(y=d(i,y.value,c))&&(u=o(y,u,v),null===f?l=y:f.sibling=y,f=y);return l}for(g=r(i,g);!y.done;v++,y=s.next())null!==(y=p(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),u=o(y,u,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,s){var c="object"===typeof o&&null!==o&&o.type===_&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===_){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=_o(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===_?((r=$s(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Qs(o.type,o.key,o.props,null,e.mode,s)).ref=_o(e,r,o),s.return=e,e=s)}return u(e);case I:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(o,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Xs(o,e.mode,s)).return=e,e=r),u(e);if(Io(o))return g(e,r,o,s);if(q(o))return v(e,r,o,s);if(l&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Co=xo(!0),Do=xo(!1),ko={},No=ci(ko),Ao=ci(ko),Po=ci(ko);function Oo(e){if(e===ko)throw Error(a(174));return e}function Ro(e,t){switch(fi(Po,t),fi(Ao,e),fi(No,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(No),fi(No,t)}function Lo(){li(No),li(Ao),li(Po)}function Mo(e){Oo(Po.current);var t=Oo(No.current),n=pe(t,e.type);t!==n&&(fi(Ao,e),fi(No,n))}function Fo(e){Ao.current===e&&(li(No),li(Ao))}var Bo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,jo=null,qo=!1;function zo(e,t){var n=Hs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(qo){var t=jo;if(t){var n=t;if(!Go(e,t)){if(!(t=Qr(n.nextSibling))||!Go(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Vo=e);zo(Vo,n)}Vo=e,jo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Vo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Ko(e){if(e!==Vo)return!1;if(!qo)return Wo(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=jo;t;)zo(e,t),t=Qr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Vo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){jo=Vo=null,qo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=E.ReactCurrentDispatcher,Jo=E.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Oa:Ra,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=La,e=n(r,i)}while(ia)}if(Xo.current=Pa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,ea.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=u,lr(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);lr(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ru;if(null===i)throw Error(a(349));var o=t._getVersion,u=o(t._source),s=Xo.current,c=s.useState((function(){return ha(i,t,n)})),l=c[1],f=c[0];c=na;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=o(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ps(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var s=31-Gt(a),c=1<<s;r[s]|=e,a&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=ps(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(g,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Aa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=ha(i,t,n),c.memoizedState=c.baseState=f),f}function ga(e,t,n){return pa(ca(),e,t,n)}function va(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Aa.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},sa().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=sa();ea.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function Ea(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,o,r)}ea.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function Sa(e,t){return wa(516,4,e,t)}function Ia(e,t){return Ea(516,4,e,t)}function _a(e,t){return Ea(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ea(4,2,Ta.bind(null,t,e),n)}function Ca(){}function Da(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ka(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Na(e,t){var n=Gi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Aa(e,t,n){var r=hs(),i=ps(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,lr(s,u))return}catch(c){}gs(e,i,r)}}var Pa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Oa={readContext:ao,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:va,useDebugValue:Ca,useDeferredValue:function(e){var t=va(e),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=va(!1),t=e[0];return ya(e=Na.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return va(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Da,useContext:ao,useEffect:Ia,useImperativeHandle:xa,useLayoutEffect:_a,useMemo:ka,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ia((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Da,useContext:ao,useEffect:Ia,useImperativeHandle:xa,useLayoutEffect:_a,useMemo:ka,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Ia((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Ma=E.ReactCurrentOwner,Fa=!1;function Ba(e,t,n,r){t.child=null===e?Do(t,null,n,r):Co(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=ua(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Ws(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qs(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?au(e,t,o):(t.flags|=1,(e=Ks(a,r)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Fa=!1,0===(o&i))return t.lanes=e.lanes,au(e,t,o);0!==(16384&e.flags)&&(Fa=!0)}return Ga(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Is(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Is(t,e),null;t.memoizedState={baseLanes:0},Is(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Is(t,r);return Ba(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var o=mi(n)?gi:hi.current;return o=vi(t,o),oo(t,i),n=ua(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ha(e,t,n,r,i){if(mi(n)){var o=!0;Ei(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=mi(n)?gi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&Eo(t,a,r,c),uo=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),s=t.memoizedState,u!==r||d!==s||pi.current||uo?("function"===typeof l&&(mo(t,n,l,r),s=t.memoizedState),(u=uo||bo(t,n,u,r,d,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=ao(s):s=vi(t,s=mi(n)?gi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||d!==s)&&Eo(t,a,r,s),uo=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var p=t.memoizedState;u!==f||d!==p||pi.current||uo?("function"===typeof h&&(mo(t,n,h,r),p=t.memoizedState),(c=uo||bo(t,n,c,r,d,p,s))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Si(t,n,!1),au(e,t,o);r=t.stateNode,Ma.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,u,o)):Ba(e,t,u,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Ro(e,t.containerInfo)}var Qa,$a,Ya,Xa,Ja={dehydrated:null,retryLane:0};function Za(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Bo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=eu(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,e):"number"===typeof i.unstable_expectedLoadTime?(e=eu(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ja,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=nu(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ja,i):(n=tu(e,t,i.children,n),t.memoizedState=null,n))}function eu(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Ys(t,i,0,null),n=$s(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function tu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function nu(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(a,u),null!==e?r=Ks(e,r):(r=$s(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ru(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function iu(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ou(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ru(e,n);else if(19===e.tag)ru(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),iu(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}iu(t,!0,n,null,o,t.lastEffect);break;case"together":iu(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function uu(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function su(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Lo(),li(pi),li(hi),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ko(t)?t.flags|=4:r.hydrate||(t.flags|=256)),$a(t),null;case 5:Fo(t);var o=Oo(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)Ya(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(No.current),Ko(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Nr(xr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(o=u[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=he(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qa(e,t,!1,!1),t.stateNode=e,c=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<xr.length;o++)Nr(xr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),o=ue(e,r),Nr("invalid",e);break;default:o=r}_e(n,o);var l=o;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?Se(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ae(e,!!r.multiple,u,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(Po.current),Oo(No.current),Ko(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ko(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&qu)&&0===(134217727&zu)||bs(Ru,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),$a(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Bo),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)uu(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,uu(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ku&&(t.flags|=64,u=!0,uu(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Uo(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),uu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,uu(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Bo.current,fi(Bo,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function cu(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(hi),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return li(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Bo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return _s(),null;default:return null}}function lu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(){},Ya=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(No.current);var a,u=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),u=[];break;case"option":o=oe(e,o),r=oe(e,r),u=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":o=ue(e,o),r=ue(e,r),u=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in _e(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xa=function(e,t,n,r){n!==r&&(t.flags|=4)};var du="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Ju=r),fu(0,t)},n}function pu(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return fu(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zu?Zu=new Set([this]):Zu.add(this),fu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var gu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(a(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Bs(n,e),Fs(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&go(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}go(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(a(163))}function bu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function wu(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ii,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Bs(t,n);else{r=t;try{i()}catch(o){js(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){js(t,o)}break;case 5:vu(t);break;case 4:xu(e,t)}}function Eu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Su(e){return 5===e.tag||3===e.tag||4===e.tag}function Iu(e){e:{for(var t=e.return;null!==t;){if(Su(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Su(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Tu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Tu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Tu(e,t,n),e=e.sibling;null!==e;)Tu(e,t,n),e=e.sibling}function xu(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(wu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(wu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Cu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?Se(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ye(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),bu(t.child,!0)),void Du(t);case 19:return void Du(t);case 23:case 24:return void bu(t,null!==t.memoizedState)}throw Error(a(163))}function Du(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new gu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ku(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=E.ReactCurrentDispatcher,Pu=E.ReactCurrentOwner,Ou=0,Ru=null,Lu=null,Mu=0,Fu=0,Bu=ci(0),Uu=0,Vu=null,ju=0,qu=0,zu=0,Gu=0,Hu=null,Wu=0,Ku=1/0;function Qu(){Ku=zi()+500}var $u,Yu=null,Xu=!1,Ju=null,Zu=null,es=!1,ts=null,ns=90,rs=[],is=[],os=null,as=0,us=null,ss=-1,cs=0,ls=0,fs=null,ds=!1;function hs(){return 0!==(48&Ou)?zi():-1!==ss?ss:ss=zi()}function ps(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===cs&&(cs=ju),0!==Yi.transition){0!==ls&&(ls=null!==Hu?Hu.pendingLanes:0),e=cs;var t=4186112&~ls;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Ou)&&98===e?e=Vt(12,cs):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cs),e}function gs(e,t,n){if(50<as)throw as=0,us=null,Error(a(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ru&&(zu|=t,4===Uu&&bs(e,Mu));var r=Gi();1===t?0!==(8&Ou)&&0===(48&Ou)?ws(e):(ms(e,n),0===Ou&&(Qu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===os?os=new Set([e]):os.add(e)),ms(e,n)),Hu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Gt(u),c=1<<s,l=o[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Bt(e,e===Ru?Mu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ci(n)}15===t?(n=ws.bind(null,e),null===Ui?(Ui=[n],Vi=xi(Pi,$i)):Ui.push(n),n=Fi):14===t?n=Ki(99,ws.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ki(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(ss=-1,ls=cs=0,0!==(48&Ou))throw Error(a(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=Bt(e,e===Ru?Mu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var o=Cs();for(Ru===e&&Mu===r||(Qu(),Ts(e,r));;)try{Ns();break}catch(s){xs(e,s)}if(no(),Au.current=o,Ou=i,null!==Lu?r=0:(Ru=null,Mu=0,r=Uu),0!==(ju&zu))Ts(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ds(e,n))),1===r)throw t=Vu,Ts(e,0),bs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Os(e);break;case 3:if(bs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(bs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Gt(n);o=1<<u,(u=r[u])>i&&(i=u),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(a(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function bs(e,t){for(t&=~Gu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function ws(e){if(0!==(48&Ou))throw Error(a(327));if(Ms(),e===Ru&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Ds(e,t);0!==(ju&zu)&&(n=Ds(e,t=Bt(e,t)))}else n=Ds(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ds(e,t))),1===n)throw n=Vu,Ts(e,0),bs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,zi()),null}function Es(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Qu(),Qi())}}function Ss(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Qu(),Qi())}}function Is(e,t){fi(Bu,Fu),Fu|=t,ju|=t}function _s(){Fu=Bu.current,li(Bu)}function Ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Lo(),li(pi),li(hi),Yo();break;case 5:Fo(r);break;case 4:Lo();break;case 13:case 19:li(Bo);break;case 10:ro(r);break;case 23:case 24:_s()}n=n.return}Ru=e,Lu=Ks(e.current,null),Mu=Fu=ju=t,Uu=0,Vu=null,Gu=zu=qu=0}function xs(e,t){for(;;){var n=Lu;try{if(no(),Xo.current=Pa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Pu.current=null,null===n||null===n.return){Uu=1,Vu=t,Lu=null;break}e:{var o=e,a=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Bo.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var g=d.memoizedProps;h=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(c),d.updateQueue=m}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=lo(-1,1);y.tag=2,fo(u,y)}u.lanes|=1;break e}s=void 0,u=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new du,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var w=qs.bind(null,o,c,u);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=lu(s,u),d=a;do{switch(d.tag){case 3:o=s,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,hu(0,o,t));break e;case 1:o=s;var E=d.type,S=d.stateNode;if(0===(64&d.flags)&&("function"===typeof E.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Zu||!Zu.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,pu(d,o,t));break e}}d=d.return}while(null!==d)}Ps(n)}catch(I){t=I,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function Cs(){var e=Au.current;return Au.current=Pa,null===e?Pa:e}function Ds(e,t){var n=Ou;Ou|=16;var r=Cs();for(Ru===e&&Mu===t||Ts(e,t);;)try{ks();break}catch(i){xs(e,i)}if(no(),Ou=n,Au.current=r,null!==Lu)throw Error(a(261));return Ru=null,Mu=0,Uu}function ks(){for(;null!==Lu;)As(Lu)}function Ns(){for(;null!==Lu&&!Di();)As(Lu)}function As(e){var t=$u(e.alternate,e,Fu);e.memoizedProps=e.pendingProps,null===t?Ps(e):Lu=t,Pu.current=null}function Ps(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=su(n,t,Fu)))return void(Lu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Fu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cu(t)))return n.flags&=2047,void(Lu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Uu&&(Uu=5)}function Os(e){var t=Gi();return Wi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ms()}while(null!==ts);if(0!==(48&Ou))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<o;){var c=31-Gt(o),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,o&=~l}if(null!==os&&0===(24&r)&&os.has(e)&&os.delete(e),e===Ru&&(Lu=Ru=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Pu.current=null,jr=$t,mr(u=vr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(x){s=null;break e}var f=0,d=-1,h=-1,p=0,g=0,v=u,m=null;t:for(;;){for(var y;v!==s||0!==o&&3!==v.nodeType||(d=f+o),v!==c||0!==l&&3!==v.nodeType||(h=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===u)break t;if(m===s&&++p===o&&(d=f),m===c&&++g===l&&(h=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},$t=!1,fs=null,ds=!1,Yu=r;do{try{Ls()}catch(x){if(null===Yu)throw Error(a(330));js(Yu,x),Yu=Yu.nextEffect}}while(null!==Yu);fs=null,Yu=r;do{try{for(u=e;null!==Yu;){var b=Yu.flags;if(16&b&&ye(Yu.stateNode,""),128&b){var w=Yu.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:Iu(Yu),Yu.flags&=-3;break;case 6:Iu(Yu),Yu.flags&=-3,Cu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Cu(Yu.alternate,Yu);break;case 4:Cu(Yu.alternate,Yu);break;case 8:xu(u,s=Yu);var S=s.alternate;Eu(s),null!==S&&Eu(S)}Yu=Yu.nextEffect}}catch(x){if(null===Yu)throw Error(a(330));js(Yu,x),Yu=Yu.nextEffect}}while(null!==Yu);if(E=qr,w=vr(),b=E.focusedElem,u=E.selectionRange,w!==b&&b&&b.ownerDocument&&gr(b.ownerDocument.documentElement,b)){null!==u&&mr(b)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),s=b.textContent.length,S=Math.min(u.start,s),u=void 0===u.end?S:Math.min(u.end,s),!E.extend&&S>u&&(s=u,u=S,S=s),s=pr(b,S),o=pr(b,u),s&&o&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),S>u?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$t=!!jr,qr=jr=null,e.current=n,Yu=r;do{try{for(b=e;null!==Yu;){var I=Yu.flags;if(36&I&&yu(b,Yu.alternate,Yu),128&I){w=void 0;var _=Yu.ref;if(null!==_){var T=Yu.stateNode;Yu.tag,w=T,"function"===typeof _?_(w):_.current=w}}Yu=Yu.nextEffect}}catch(x){if(null===Yu)throw Error(a(330));js(Yu,x),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Bi(),Ou=i}else e.current=n;if(es)es=!1,ts=e,ns=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((I=Yu).sibling=null,I.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Zu=null),1===r?e===us?as++:(as=0,us=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ii,n,void 0,64===(64&n.current.flags))}catch(x){}if(ms(e,zi()),Xu)throw Xu=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||Qi(),null}function Ls(){for(;null!==Yu;){var e=Yu.alternate;ds||null===fs||(0!==(8&Yu.flags)?et(Yu,fs)&&(ds=!0):13===Yu.tag&&ku(e,Yu)&&et(Yu,fs)&&(ds=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||es||(es=!0,Ki(97,(function(){return Ms(),null}))),Yu=Yu.nextEffect}}function Ms(){if(90!==ns){var e=97<ns?97:ns;return ns=90,Wi(e,Us)}return!1}function Fs(e,t){rs.push(t,e),es||(es=!0,Ki(97,(function(){return Ms(),null})))}function Bs(e,t){is.push(t,e),es||(es=!0,Ki(97,(function(){return Ms(),null})))}function Us(){if(null===ts)return!1;var e=ts;if(ts=null,0!==(48&Ou))throw Error(a(331));var t=Ou;Ou|=32;var n=is;is=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===o)throw Error(a(330));js(o,c)}}for(n=rs,rs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===o)throw Error(a(330));js(o,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function Vs(e,t,n){fo(e,t=hu(0,t=lu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Vs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r))){var i=pu(n,e=lu(t,e),1);if(fo(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zu||!Zu.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Mu&n)===n&&(4===Uu||3===Uu&&(62914560&Mu)===Mu&&500>zi()-Wu?Ts(e,0):Gu|=n),ms(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===cs&&(cs=ju),0===(t=jt(62914560&~cs))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function Gs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(e,t,n,r){return new Gs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Hs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qs(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return $s(n.children,i,o,t);case M:u=8,i|=16;break;case T:u=8,i|=1;break;case x:return(e=Hs(12,n,t,8|i)).elementType=x,e.type=x,e.lanes=o,e;case N:return(e=Hs(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case A:return(e=Hs(19,n,t,i)).elementType=A,e.lanes=o,e;case F:return Ys(n,i,o,t);case B:return(e=Hs(24,n,t,i)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case D:u=9;break e;case k:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case R:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Hs(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $s(e,t,n,r){return(e=Hs(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Hs(23,e,r,t)).elementType=F,e.lanes=n,e}function Xs(e,t,n){return(e=Hs(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Hs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n,r){var i=t.current,o=hs(),u=ps(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,s);break e}}n=s}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),gs(i,u,o),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zs(e,t,null!=n&&!0===n.hydrate),t=Hs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}Ss((function(){ec(t,a,e,i)}))}return tc(a)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$u=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fa=!0;else{if(0===(n&r)){switch(Fa=!1,t.tag){case 3:Ka(t),Qo();break;case 5:Mo(t);break;case 1:mi(t.type)&&Ei(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Za(e,t,n):(fi(Bo,1&Bo.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ou(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return au(e,t,n)}Fa=0!==(16384&e.flags)}else Fa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),oo(t,n),i=ua(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;Ei(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&mo(t,r,u,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,So(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=au(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Qr(t.stateNode.containerInfo.firstChild),Vo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Do(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),Qo();t=t.child}return t;case 5:return Mo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Gr(r,i)?u=null:null!==o&&Gr(r,o)&&(t.flags|=16),za(e,t),Ba(e,t,u,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Za(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=lr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===s.tag&&((l=lo(-1,n&-n)).tag=2,fo(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),io(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Va(e,t,i,o=Xi(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,Ei(t)):e=!1,oo(t,n),wo(t,r,i),So(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return ou(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(gs(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(gs(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ps(e);gs(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=Es,Re=function(e,t,n,r,i){var o=Ou;Ou|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ou=o)&&(Qu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==os){var e=os;os=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Qi()}(),Ms())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Qu(),Qi())}};var sc={Events:[ri,ii,oi,Ae,Pe,Ms,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ii=fc.inject(lc),_i=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(Ss((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=Es,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},763:(e,t,n)=>{"use strict";e.exports=n(983)},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case g:case s:return e;default:return t}}case i:return t}}}function S(e){return E(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=u,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||E(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(950);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(null,arguments)}function f(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var d="function"===typeof Symbol&&Symbol.observable||"@@observable",h=function(){return Math.random().toString(36).substring(7).split("").join(".")},p={INIT:"@@redux/INIT"+h(),REPLACE:"@@redux/REPLACE"+h(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+h()}};function g(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function v(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(f(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(f(1));return n(v)(e,t)}if("function"!==typeof e)throw new Error(f(2));var i=e,o=t,a=[],u=a,s=!1;function c(){u===a&&(u=a.slice())}function l(){if(s)throw new Error(f(3));return o}function h(e){if("function"!==typeof e)throw new Error(f(4));if(s)throw new Error(f(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(f(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),a=null}}}function m(e){if(!g(e))throw new Error(f(7));if("undefined"===typeof e.type)throw new Error(f(8));if(s)throw new Error(f(9));try{s=!0,o=i(o,e)}finally{s=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}return m({type:p.INIT}),(r={dispatch:m,subscribe:h,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(f(10));i=e,m({type:p.REPLACE})}})[d]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(f(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[d]=function(){return this},e},r}function m(e,t){return function(){return t(e.apply(this,arguments))}}function y(e,t){if("function"===typeof e)return m(e,t);if("object"!==typeof e||null===e)throw new Error(f(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=m(i,t))}return n}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var w=e.createContext(null);var E=function(e){e()},S=function(){return E};var I={notify:function(){},get:function(){return[]}};function _(e,t){var n,r=I;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=S(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=I)},getListeners:function(){return r}};return a}var T="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;const x=function(t){var n=t.store,r=t.context,i=t.children,o=(0,e.useMemo)((function(){var e=_(n);return{store:n,subscription:e}}),[n]),a=(0,e.useMemo)((function(){return n.getState()}),[n]);T((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var u=r||w;return e.createElement(u.Provider,{value:o},i)};function C(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}var D=n(219),k=n.n(D),N=n(86),A=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],P=["reactReduxForwardedRef"],O=[],R=[null,null];function L(e,t){var n=e[1];return[t.payload,n+1]}function M(e,t,n){T((function(){return e.apply(void 0,t)}),n)}function F(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function B(e,t,n,r,i,o,a,u,s,c){if(e){var l=!1,f=null,d=function(){if(!l){var e,n,d=t.getState();try{e=r(d,i.current)}catch(Qw){n=Qw,f=Qw}n||(f=null),e===o.current?a.current||s():(o.current=e,u.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var U=function(){return[null,0]};function V(t,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,o=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,a=r.methodName,u=void 0===a?"connectAdvanced":a,s=r.renderCountProp,c=void 0===s?void 0:s,f=r.shouldHandleStateChanges,d=void 0===f||f,h=r.storeKey,p=void 0===h?"store":h,g=(r.withRef,r.forwardRef),v=void 0!==g&&g,m=r.context,y=void 0===m?w:m,b=C(r,A),E=y;return function(n){var r=n.displayName||n.name||"Component",i=o(r),a=l({},b,{getDisplayName:o,methodName:u,renderCountProp:c,shouldHandleStateChanges:d,storeKey:p,displayName:i,wrappedComponentName:r,WrappedComponent:n}),s=b.pure;var f=s?e.useMemo:function(e){return e()};function h(r){var i=(0,e.useMemo)((function(){var e=r.reactReduxForwardedRef,t=C(r,P);return[r.context,e,t]}),[r]),o=i[0],u=i[1],s=i[2],c=(0,e.useMemo)((function(){return o&&o.Consumer&&(0,N.isContextConsumer)(e.createElement(o.Consumer,null))?o:E}),[o,E]),h=(0,e.useContext)(c),p=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var g=p?r.store:h.store,v=(0,e.useMemo)((function(){return function(e){return t(e.dispatch,a)}(g)}),[g]),m=(0,e.useMemo)((function(){if(!d)return R;var e=_(g,p?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[g,p,h]),y=m[0],b=m[1],w=(0,e.useMemo)((function(){return p?h:l({},h,{subscription:y})}),[p,h,y]),S=(0,e.useReducer)(L,O,U),I=S[0][0],T=S[1];if(I&&I.error)throw I.error;var x=(0,e.useRef)(),D=(0,e.useRef)(s),k=(0,e.useRef)(),A=(0,e.useRef)(!1),V=f((function(){return k.current&&s===D.current?k.current:v(g.getState(),s)}),[g,I,s]);M(F,[D,x,A,s,V,k,b]),M(B,[d,g,y,v,D,x,A,k,b,T],[g,y,v]);var j=(0,e.useMemo)((function(){return e.createElement(n,l({},V,{ref:u}))}),[u,n,V]);return(0,e.useMemo)((function(){return d?e.createElement(c.Provider,{value:w},j):j}),[c,j,w])}var g=s?e.memo(h):h;if(g.WrappedComponent=n,g.displayName=h.displayName=i,v){var m=e.forwardRef((function(t,n){return e.createElement(g,l({},t,{reactReduxForwardedRef:n}))}));return m.displayName=i,m.WrappedComponent=n,k()(m,n)}return k()(g,n)}}function j(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function q(e,t){if(j(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!j(e[n[i]],t[n[i]]))return!1;return!0}function z(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function G(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function H(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=G(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=G(i),i=r(t,n)),i},r}}const W=[function(e){return"function"===typeof e?H(e):void 0},function(e){return e?void 0:z((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?z((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const K=[function(e){return"function"===typeof e?H(e):void 0},function(e){return e?void 0:z((function(){return{}}))}];function Q(e,t,n){return l({},n,e,t)}const $=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,u){var s=e(t,n,u);return a?i&&o(s,r)||(r=s):(a=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Q}}];var Y=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function X(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function J(e,t,n,r,i){var o,a,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,h=!1;function p(i,h){var p=!f(h,a),g=!l(i,o,h,a);return o=i,a=h,p&&g?(u=e(o,a),t.dependsOnOwnProps&&(s=t(r,a)),c=n(u,s,a)):p?(e.dependsOnOwnProps&&(u=e(o,a)),t.dependsOnOwnProps&&(s=t(r,a)),c=n(u,s,a)):g?function(){var t=e(o,a),r=!d(t,u);return u=t,r&&(c=n(u,s,a)),c}():c}return function(i,l){return h?p(i,l):(u=e(o=i,a=l),s=t(r,a),c=n(u,s,a),h=!0,c)}}function Z(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=C(t,Y),a=n(e,o),u=r(e,o),s=i(e,o);return(o.pure?J:X)(a,u,s,e,o)}var ee=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function te(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ne(e,t){return e===t}function re(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?V:n,i=t.mapStateToPropsFactories,o=void 0===i?K:i,a=t.mapDispatchToPropsFactories,u=void 0===a?W:a,s=t.mergePropsFactories,c=void 0===s?$:s,f=t.selectorFactory,d=void 0===f?Z:f;return function(e,t,n,i){void 0===i&&(i={});var a=i,s=a.pure,f=void 0===s||s,h=a.areStatesEqual,p=void 0===h?ne:h,g=a.areOwnPropsEqual,v=void 0===g?q:g,m=a.areStatePropsEqual,y=void 0===m?q:m,b=a.areMergedPropsEqual,w=void 0===b?q:b,E=C(a,ee),S=te(e,o,"mapStateToProps"),I=te(t,u,"mapDispatchToProps"),_=te(n,c,"mergeProps");return r(d,l({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:I,initMergeProps:_,pure:f,areStatesEqual:p,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:w},E))}}const ie=re();var oe;function ae(t,n){var r=(0,e.useState)((function(){return{inputs:n,result:t()}}))[0],i=(0,e.useRef)(!0),o=(0,e.useRef)(r),a=i.current||Boolean(n&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,o.current.inputs))?o.current:{inputs:n,result:t()};return(0,e.useEffect)((function(){i.current=!1,o.current=a}),[a]),a.result}oe=t.unstable_batchedUpdates,E=oe;var ue=ae,se=function(e,t){return ae((function(){return e}),t)},ce="Invariant failed";const le=function(e,t){if(!e)throw new Error(ce)};var fe=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},de=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},he=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},pe={top:0,right:0,bottom:0,left:0},ge=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?pe:n,i=e.border,o=void 0===i?pe:i,a=e.padding,u=void 0===a?pe:a,s=fe(de(t,r)),c=fe(he(t,o)),l=fe(he(c,u));return{marginBox:s,borderBox:fe(t),paddingBox:c,contentBox:l,margin:r,border:o,padding:u}},ve=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&le(!1),n},me=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,u=e.padding,s=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return ge({borderBox:s,border:o,margin:a,padding:u})},ye=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),me(e,t)},be=function(e,t){var n={top:ve(t.marginTop),right:ve(t.marginRight),bottom:ve(t.marginBottom),left:ve(t.marginLeft)},r={top:ve(t.paddingTop),right:ve(t.paddingRight),bottom:ve(t.paddingBottom),left:ve(t.paddingLeft)},i={top:ve(t.borderTopWidth),right:ve(t.borderRightWidth),bottom:ve(t.borderBottomWidth),left:ve(t.borderLeftWidth)};return ge({borderBox:e,margin:n,padding:r,border:i})},we=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return be(t,n)},Ee=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Se(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||Ee(r)&&Ee(i)))return!1;var r,i;return!0}const Ie=function(e,t){var n;void 0===t&&(t=Se);var r,i=[],o=!1;return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const _e=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Te(e,t){}Te.bind(null,"warn"),Te.bind(null,"error");function xe(){}function Ce(e,t,n){var r=t.map((function(t){var r=function(e,t){return l({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var De="Invariant failed";function ke(e){this.message=e}function Ne(e,t){if(!e)throw new ke(De)}ke.prototype.toString=function(){return this.message};var Ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=xe,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof ke&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}c(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Ce(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof ke))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(e.Component),Pe=function(e){return e+1},Oe=function(e,t){var n=e.droppableId===t.droppableId,r=Pe(e.index),i=Pe(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},Re=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Le=function(e){return"\n  The item has returned to its starting position\n  of "+Pe(e.index)+"\n"},Me="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",Fe=function(e){return"\n  You have lifted an item in position "+Pe(e.source.index)+"\n"},Be=function(e){var t=e.destination;if(t)return Oe(e.source,t);var n=e.combine;return n?Re(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Ue=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Le(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Oe(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Re(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Le(e.source)+"\n  "},Ve={x:0,y:0},je=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},qe=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},ze=function(e,t){return e.x===t.x&&e.y===t.y},Ge=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},He=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},We=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Ke=function(e,t){return Math.min.apply(Math,t.map((function(t){return We(e,t)})))},Qe=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},$e=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Ye=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Xe=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=fe({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):fe(e)},Je=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?$e(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?l({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:Xe(a,i)}},Ze=function(e,t){e.frame||Ne(!1);var n=e.frame,r=qe(t,n.scroll.initial),i=Ge(r),o=l({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}});return l({},e,{frame:o,subject:Je({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function et(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function tt(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function nt(e,t){if(e.find)return e.find(t);var n=tt(e,t);return-1!==n?e[n]:void 0}function rt(e){return Array.prototype.slice.call(e)}var it=Ie((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ot=Ie((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),at=Ie((function(e){return et(e)})),ut=Ie((function(e){return et(e)})),st=Ie((function(e,t){var n=ut(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function ct(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function lt(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ft=Ie((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),dt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ht={point:Ve,value:0},pt={invisible:{},visible:{},all:[]},gt={displaced:pt,displacedBy:ht,at:null},vt=function(e,t){return function(n){return e<=n&&n<=t}},mt=function(e){var t=vt(e.top,e.bottom),n=vt(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return!(!a||!u)||(a&&o||u&&i)}},yt=function(e){var t=vt(e.top,e.bottom),n=vt(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},bt={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},wt={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Et=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Ve;return $e(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},St=function(e){return Et(l({},e,{isVisibleThroughFrameFn:mt}))},It=function(e){return Et(l({},e,{isVisibleThroughFrameFn:yt}))};function _t(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var u=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return fe(de(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!St({target:u,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate}(s,a,o),l={draggableId:s,shouldAnimate:c};return e.visible[s]=l,e}),{all:[],visible:{},invisible:{}})}function Tt(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:pt,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function xt(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,u=e.index,s=e.forceShouldAnimate,c=dt(t,r);if(null==u)return Tt({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var l=nt(n,(function(e){return e.descriptor.index===u}));if(!l)return Tt({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var f=ft(t,n),d=n.indexOf(l);return{displaced:_t({afterDragging:f.slice(d),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:s}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:u}}}}function Ct(e,t){return Boolean(t.effected[e])}var Dt=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,u=e.previousImpact,s=e.viewport,c=e.afterCritical,l=u.at;if(l||Ne(!1),"REORDER"===l.type){var f=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,u=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return a<u||a>(n?s:s+1)?null:a}({isMovingForward:t,isInHomeList:n,location:l.destination,insideDestination:a});return null==f?null:xt({draggable:r,insideDestination:a,destination:o,viewport:s,last:u.displaced,displacedBy:u.displacedBy,index:f})}var d=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,u=r[a].descriptor.index;return Ct(a,o)?t?u:u-1:t?u+1:u}({isMovingForward:t,destination:o,displaced:u.displaced,draggables:i,combine:l.combine,afterCritical:c});return null==d?null:xt({draggable:r,insideDestination:a,destination:o,viewport:s,last:u.displaced,displacedBy:u.displacedBy,index:d})},kt=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=lt(n);i||Ne(!1);var o=i.draggableId,a=r[o].page.borderBox.center,u=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Ct(r,n)?o?Ve:Ge(i.point):o?i.point:Ve}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return je(a,u)},Nt=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},At=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Pt=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return He(t.line,n.marginBox[t.end]+Nt(t,r),At(t,n.marginBox,r))},Ot=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return He(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),At(t,n.marginBox,r))},Rt=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=st(i.descriptor.id,r),u=n.page,s=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return He(t.line,n.contentBox[t.start]+Nt(t,r),At(t,n.contentBox,r))}({axis:s,moveInto:i.page,isMoving:u});var c=t.displaced,l=t.displacedBy,f=c.all[0];if(f){var d=r[f];if(Ct(f,o))return Ot({axis:s,moveRelativeTo:d.page,isMoving:u});var h=me(d.page,l.point);return Ot({axis:s,moveRelativeTo:h,isMoving:u})}var p=a[a.length-1];if(p.descriptor.id===n.descriptor.id)return u.borderBox.center;if(Ct(p.descriptor.id,o)){var g=me(p.page,Ge(o.displacedBy.point));return Pt({axis:s,moveRelativeTo:g,isMoving:u})}return Pt({axis:s,moveRelativeTo:p.page,isMoving:u})},Lt=function(e,t){var n=e.frame;return n?je(t,n.scroll.diff.displacement):t},Mt=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,u=t.at;return r&&u?"REORDER"===u.type?Rt({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):kt({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?Lt(n,t):t},Ft=function(e,t){var n=qe(t,e.scroll.initial),r=Ge(n);return{frame:fe({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Bt(e,t){return e.map((function(e){return t[e]}))}var Ut=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return je(e.scroll.diff.displacement,t)}(e.viewport,t),i=qe(r,n.page.borderBox.center);return je(n.client.borderBox.center,i)},Vt=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,u=void 0!==a&&a,s=qe(r,t.page.borderBox.center),c={target:$e(t.page.borderBox,s),destination:n,withDroppableDisplacement:o,viewport:i};return u?function(e){return Et(l({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=vt(e.top,e.bottom),r=vt(e.left,e.right);return function(e){return t===bt?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):It(c)},jt=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,u=e.previousPageBorderBoxCenter,s=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var f=st(r.descriptor.id,i),d=dt(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!ct(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return l({},o,{at:t})}var u=o.displaced.all,s=u.length?u[0]:null;if(t)return s?a(s):null;var c=ft(n,i);if(!s)return c.length?a(c[c.length-1].descriptor.id):null;var f=tt(c,(function(e){return e.descriptor.id===s}));-1===f&&Ne(!1);var d=f-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:f,previousImpact:o})||Dt({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:f,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var p=Mt({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(Vt({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ut({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var g=qe(p,u),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=Ft(n,je(n.scroll.current,o)),u=r.frame?Ze(r,je(r.frame.scroll.current,o)):r,s=t.displaced,c=_t({afterDragging:Bt(s.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:s,forceShouldAnimate:!1}),f=_t({afterDragging:Bt(s.all,i),destination:u,displacedBy:t.displacedBy,viewport:n.frame,last:s,forceShouldAnimate:!1}),d={},h={},p=[s,c,f];return s.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?h[e]=t:d[e]=!0})),l({},t,{displaced:{all:s.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:g});return{clientSelection:s,impact:v,scrollJumpRequest:g}},qt=function(e){var t=e.subject.active;return t||Ne(!1),t},zt=function(e,t){var n=e.page.borderBox.center;return Ct(e.descriptor.id,t)?qe(n,t.displacedBy.point):n},Gt=function(e,t){var n=e.page.borderBox;return Ct(e.descriptor.id,t)?$e(n,Ge(t.displacedBy.point)):n},Ht=Ie((function(e,t){var n=t[e.line];return{value:n,point:He(e.line,n)}})),Wt=function(e,t){return l({},e,{scroll:l({},e.scroll,{max:t})})},Kt=function(e,t,n){var r=e.frame;dt(t,e)&&Ne(!1),e.subject.withPlaceholder&&Ne(!1);var i=Ht(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return He(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=st(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:He(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return l({},e,{subject:Je({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var u=o?je(r.scroll.max,o):r.scroll.max,s=Wt(r,u);return l({},e,{subject:Je({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:s}),frame:s})},Qt=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,u=e.viewport,s=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var u=r.axis,s=vt(a[u.start],a[u.end]),c=at(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return mt(o.frame)(qt(e))})).filter((function(e){var n=qt(e);return t?a[u.crossAxisEnd]<n[u.crossAxisEnd]:n[u.crossAxisStart]<a[u.crossAxisStart]})).filter((function(e){var t=qt(e),n=vt(t[u.start],t[u.end]);return s(t[u.start])||s(t[u.end])||n(a[u.start])||n(a[u.end])})).sort((function(e,n){var r=qt(e)[u.crossAxisStart],i=qt(n)[u.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return qt(e)[u.crossAxisStart]===qt(n[0])[u.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var l=c.filter((function(e){return vt(qt(e)[u.start],qt(e)[u.end])(n[u.line])}));return 1===l.length?l[0]:l.length>1?l.sort((function(e,t){return qt(e)[u.start]-qt(t)[u.start]}))[0]:c.sort((function(e,t){var r=Ke(n,Ye(qt(e))),i=Ke(n,Ye(qt(t)));return r!==i?r-i:qt(e)[u.start]-qt(t)[u.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:u});if(!c)return null;var l=st(c.descriptor.id,o),f=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return It({target:Gt(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=We(t,Lt(r,zt(e,o))),a=We(t,Lt(r,zt(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:u,destination:c,insideDestination:l,afterCritical:s}),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,u=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:pt,displacedBy:ht,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},l=Mt({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:s}),f=dt(i,a)?a:Kt(a,i,o);return Vt({draggable:i,destination:f,newPageBorderBoxCenter:l,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var d=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||d?e:e+1}(),p=Ht(a.axis,i.displaceBy);return xt({draggable:i,insideDestination:r,destination:a,viewport:u,displacedBy:p,last:pt,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:l,viewport:u,afterCritical:s});if(!d)return null;var h=Mt({impact:d,draggable:r,droppable:c,draggables:o,afterCritical:s});return{clientSelection:Ut({pageBorderBoxCenter:h,draggable:r,viewport:u}),impact:d,scrollJumpRequest:null}},$t=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Yt=function(e){var t=e.state,n=e.type,r=function(e,t){var n=$t(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,u=a.axis.direction,s="vertical"===u&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===u&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,l=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,d=t.dimensions,h=d.draggables,p=d.droppables;return s?jt({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:l,destination:a,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Qt({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:l,isOver:a,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Xt(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Jt(e){var t=vt(e.top,e.bottom),n=vt(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Zt(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=at(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Jt(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],u=t[o.crossAxisStart],s=t[o.crossAxisEnd],c=vt(i[o.crossAxisStart],i[o.crossAxisEnd]),l=c(u),f=c(s);return!l&&!f||(l?u<a:s>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=He(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:We(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var en=function(e,t){return fe($e(e,t))};function tn(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var nn=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,u=e.afterCritical,s=en(n.page.borderBox,t),c=Zt({pageBorderBox:s,draggable:n,droppables:i});if(!c)return gt;var l=i[c],f=st(l.descriptor.id,r),d=function(e,t){var n=e.frame;return n?en(t,n.scroll.diff.value):t}(l,s);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var u=i.axis,s=Ht(i.axis,t.displaceBy),c=s.value,l=n[u.start],f=n[u.end],d=nt(ft(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[u.size]/4,o=Ct(t,a),s=tn({displaced:r.displaced,id:t});return o?s?f>n[u.start]+i&&f<n[u.end]-i:l>n[u.start]-c+i&&l<n[u.end]-c-i:s?f>n[u.start]+c+i&&f<n[u.end]+c-i:l>n[u.start]+i&&l<n[u.end]-i}));return d?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:d,draggable:n,previousImpact:o,destination:l,insideDestination:f,afterCritical:u})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,u=e.afterCritical,s=r.axis,c=Ht(r.axis,n.displaceBy),l=c.value,f=t[s.start],d=t[s.end],h=nt(ft(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=Ct(t,u),i=tn({displaced:o,id:t});return r?i?d<=n:f<n-l:i?d<=n+l:f<n})),p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:h,inHomeList:dt(n,r)});return xt({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:d,draggable:n,destination:l,insideDestination:f,last:o.displaced,viewport:a,afterCritical:u})},rn=function(e,t){var n;return l({},e,((n={})[t.descriptor.id]=t,n))},on=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=$t(t),o=$t(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var u=function(e){var t=e.subject.withPlaceholder;t||Ne(!1);var n=e.frame;if(!n)return l({},e,{subject:Je({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||Ne(!1);var i=Wt(n,r);return l({},e,{subject:Je({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return rn(r,u)},an=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,u=i||t.viewport,s=r||t.dimensions,c=n||t.current.client.selection,f=qe(c,t.initial.client.selection),d={offset:f,selection:c,borderBoxCenter:je(t.initial.client.borderBoxCenter,f)},h={selection:je(d.selection,u.scroll.current),borderBoxCenter:je(d.borderBoxCenter,u.scroll.current),offset:je(d.offset,u.scroll.diff.value)},p={client:d,page:h};if("COLLECTING"===t.phase)return l({phase:"COLLECTING"},t,{dimensions:s,viewport:u,current:p});var g=s.draggables[t.critical.draggable.id],v=o||nn({pageOffset:h.offset,draggable:g,draggables:s.draggables,droppables:s.droppables,previousImpact:t.impact,viewport:u,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=on({previousImpact:i,impact:o,droppables:r}),u=$t(o);if(!u)return a;var s=r[u];if(dt(t,s))return a;if(s.subject.withPlaceholder)return a;var c=Kt(s,t,n);return rn(a,c)}({draggable:g,impact:v,previousImpact:t.impact,draggables:s.draggables,droppables:s.droppables});return l({},t,{current:p,dimensions:{draggables:s.draggables,droppables:m},impact:v,viewport:u,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var un=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,u=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r);return l({},t,{displaced:_t({afterDragging:u,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a})})},sn=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,u=Mt({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Ut({pageBorderBoxCenter:u,draggable:n,viewport:o})},cn=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&Ne(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,u=a.draggables,s=a.droppables,c=u[t.critical.draggable.id],l=$t(i);l||Ne(!1);var f=s[l],d=un({impact:i,viewport:o,destination:f,draggables:u}),h=sn({impact:d,draggable:c,droppable:f,draggables:u,viewport:o,afterCritical:t.afterCritical});return an({impact:d,clientSelection:h,state:t,dimensions:a,viewport:o})},ln=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=Ht(n.axis,t.displaceBy),a=st(n.descriptor.id,r),u=a.indexOf(t);-1===u&&Ne(!1);var s,c=a.slice(u+1),l=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),f={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:l};return{impact:{displaced:_t({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:f}},fn=function(e){0},dn=function(e){0},hn=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||Ne(!1),t}(n[t]),a=o.scroll.diff.value,u=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=me(t.client,n),o=ye(i,r);return l({},t,{placeholder:l({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:je(i,a),initialWindowScroll:r.scroll.initial});return u}))},pn=function(e){return"SNAP"===e.movementMode},gn=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:rn(e.droppables,t)}}(e.dimensions,t);return!pn(e)||n?an({state:e,dimensions:r}):cn({state:e,dimensions:r})};function vn(e){return e.isDragging&&"SNAP"===e.movementMode?l({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var mn={phase:"IDLE",completed:null,shouldFlush:!1},yn=function(e,t){if(void 0===e&&(e=mn),"FLUSH"===t.type)return l({},mn,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&Ne(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,u=n.movementMode,s=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],f={selection:i,borderBoxCenter:s.client.borderBox.center,offset:Ve},d={client:f,page:{selection:je(f.selection,o.scroll.initial),borderBoxCenter:je(f.selection,o.scroll.initial),offset:je(f.selection,o.scroll.diff.value)}},h=at(a.droppables).every((function(e){return!e.isFixedOnPage})),p=ln({draggable:s,home:c,draggables:a.draggables,viewport:o}),g=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:u,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:g,afterCritical:p.afterCritical,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&Ne(!1),l({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ne(!1),function(e){var t=e.state,n=e.published;fn();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Ze(n,e.scroll)})),i=l({},t.dimensions.droppables,{},it(r)),o=ot(hn({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=l({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var u={droppables:i,draggables:a},s=$t(t.impact),c=s?u.droppables[s]:null,f=u.draggables[t.critical.draggable.id],d=u.droppables[t.critical.droppable.id],h=ln({draggable:f,home:d,draggables:a,viewport:t.viewport}),p=h.impact,g=h.afterCritical,v=c&&c.isCombineEnabled?t.impact:p,m=nn({pageOffset:t.current.page.offset,draggable:u.draggables[t.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:v,viewport:t.viewport,afterCritical:g});dn();var y=l({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:p,dimensions:u,afterCritical:g,forceShouldAnimate:!1});return"COLLECTING"===t.phase?y:l({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Xt(e)||Ne(!1);var v=t.payload.client;return ze(v,e.current.client.selection)?e:an({state:e,clientSelection:v,impact:pn(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return vn(e);if("COLLECTING"===e.phase)return vn(e);Xt(e)||Ne(!1);var m=t.payload,y=m.id,b=m.newScroll,w=e.dimensions.droppables[y];if(!w)return e;var E=Ze(w,b);return gn(e,E,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xt(e)||Ne(!1);var S=t.payload,I=S.id,_=S.isEnabled,T=e.dimensions.droppables[I];T||Ne(!1),T.isEnabled===_&&Ne(!1);var x=l({},T,{isEnabled:_});return gn(e,x,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Xt(e)||Ne(!1);var C=t.payload,D=C.id,k=C.isCombineEnabled,N=e.dimensions.droppables[D];N||Ne(!1),N.isCombineEnabled===k&&Ne(!1);var A=l({},N,{isCombineEnabled:k});return gn(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Xt(e)||Ne(!1),e.isWindowScrollAllowed||Ne(!1);var P=t.payload.newScroll;if(ze(e.viewport.scroll.current,P))return vn(e);var O=Ft(e.viewport,P);return pn(e)?cn({state:e,viewport:O}):an({state:e,viewport:O})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Xt(e))return e;var R=t.payload.maxScroll;if(ze(R,e.viewport.scroll.max))return e;var L=l({},e.viewport,{scroll:l({},e.viewport.scroll,{max:R})});return l({phase:"DRAGGING"},e,{viewport:L})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&Ne(!1);var M=Yt({state:e,type:t.type});return M?an({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var F=t.payload.reason;return"COLLECTING"!==e.phase&&Ne(!1),l({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===t.type){var B=t.payload,U=B.completed,V=B.dropDuration,j=B.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&Ne(!1),{phase:"DROP_ANIMATING",completed:U,dropDuration:V,newHomeClientOffset:j,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},bn=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},wn=function(){return{type:"COLLECTION_STARTING",payload:null}},En=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Sn=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},In=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},_n=function(e){return{type:"MOVE",payload:e}},Tn=function(){return{type:"MOVE_UP",payload:null}},xn=function(){return{type:"MOVE_DOWN",payload:null}},Cn=function(){return{type:"MOVE_RIGHT",payload:null}},Dn=function(){return{type:"MOVE_LEFT",payload:null}},kn=function(e){return{type:"DROP_COMPLETE",payload:e}},Nn=function(e){return{type:"DROP",payload:e}},An=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Pn="cubic-bezier(.2,1,.1,1)",On={drop:0,combining:.7},Rn={drop:.75},Ln=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",Mn={fluid:"opacity "+Ln,snap:"transform "+Ln+", opacity "+Ln,drop:function(e){var t=e+"s "+Pn;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Ln,placeholder:"height "+Ln+", width "+Ln+", margin "+Ln},Fn=function(e){return ze(e,Ve)?null:"translate("+e.x+"px, "+e.y+"px)"},Bn=Fn,Un=function(e,t){var n=Fn(e);return n?t?n+" scale("+Rn.drop+")":n:null},Vn=.33,jn=.55,qn=jn-Vn,zn=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&Ne(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&Ne(!1);var a=i.critical,u=i.dimensions,s=u.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:l({},r,{displaced:pt}),didDropInsideDroppable:!0}:{impact:un({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=c.impact,d=c.didDropInsideDroppable,h=d?ct(f):null,p=d?lt(f):null,g={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:s.descriptor.id,type:s.descriptor.type,source:g,reason:o,mode:i.movementMode,destination:h,combine:p},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,u=r.droppables,s=$t(t),c=s?u[s]:null,l=u[n.descriptor.droppableId],f=sn({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||l,viewport:i});return qe(f,n.client.borderBox.center)}({impact:f,draggable:s,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:f};if(!ze(i.current.client.offset,m)||Boolean(v.combine)){var b=function(e){var t=e.current,n=e.destination,r=e.reason,i=We(t,n);if(i<=0)return Vn;if(i>=1500)return jn;var o=Vn+qn*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:m,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:b,completed:y}))}else n(kn({completed:y}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Gn=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Hn(e){var t=e.onWindowScroll;var n=_e((function(){t(Gn())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=xe;function o(){return i!==xe}return{start:function(){o()&&Ne(!1),i=Ce(window,[r])},stop:function(){o()||Ne(!1),n.cancel(),i(),i=xe},isActive:o}}var Wn=function(e){var t=Hn({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Kn=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=tt(e,(function(e){return e.timerId===t}));-1===n&&Ne(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Qn=function(e,t){fn(),t(),dn()},$n=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Yn=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Xn=function(e,t){var n=function(e,t){var n=Kn(),r=null,i=function(n){r||Ne(!1),r=null,Qn(0,(function(){return Yn(e().onDragEnd,n,t,Ue)}))};return{beforeCapture:function(t,n){r&&Ne(!1),Qn(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&Ne(!1),Qn(0,(function(){var r=e().onBeforeDragStart;r&&r($n(t,n))}))},start:function(i,o){r&&Ne(!1);var a=$n(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){Qn(0,(function(){return Yn(e().onDragStart,a,t,Fe)}))}))},update:function(i,o){var a=ct(o),u=lt(o);r||Ne(!1);var s=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);s&&(r.lastCritical=i);var c,f,d=(f=a,!(null==(c=r.lastLocation)&&null==f||null!=c&&null!=f&&c.droppableId===f.droppableId&&c.index===f.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,u);if(h&&(r.lastCombine=u),s||d||h){var p=l({},$n(i,r.mode),{combine:u,destination:a});n.add((function(){Qn(0,(function(){return Yn(e().onDragUpdate,p,t,Be)}))}))}},flush:function(){r||Ne(!1),n.flush()},drop:i,abort:function(){if(r){var e=l({},$n(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Jn=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&Ne(!1),e.dispatch(kn({completed:r.completed}))}else t(n)}}},Zn=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Ce(window,[o])}))}}}},er=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Nn({reason:r.reason})))}}}},tr=b,nr=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return v(yn,tr(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(f(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=b.apply(void 0,o)(n.dispatch),u(u({},n),{},{dispatch:r})}}}((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,u=o.clientSelection,s=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(kn({completed:c.completed})),"IDLE"!==n().phase&&Ne(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});var l={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},f=e.startPublishing(l),d=f.critical,h=f.dimensions,p=f.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:h,clientSelection:u,movementMode:s,viewport:p}})}else t(i)}}}}(n),zn,Jn,Zn,er,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&Ne(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),Wn,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Xn(o,a))))};var rr=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=qe({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},ir=function(){var e=document.documentElement;return e||Ne(!1),e},or=function(){var e=ir();return rr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},ar=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;fn();var i=function(){var e=Gn(),t=or(),n=e.y,r=e.x,i=ir(),o=i.clientWidth,a=i.clientHeight;return{frame:fe({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Ve,displacement:Ve}}}}(),o=i.scroll.current,a=t.droppable,u=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),s=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:ot(s),droppables:it(u)};return dn(),{dimensions:c,critical:t,viewport:i}};function ur(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var sr=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,fn();var e=r,o=e.additions,a=e.removals,u=e.modified,s=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(Ve)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(u).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),l={additions:s,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},dn(),n.publish(l)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||Ne(!1);var i=n.critical.draggable;"ADDITION"===t.type&&ur(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&ur(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||Ne(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||Ne(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||Ne(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&Ne(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},u=e.subscribe(i);return n={critical:a,unsubscribe:u},ar({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},cr=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},lr=function(e){window.scrollBy(e.x,e.y)},fr=Ie((function(e){return at(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),dr=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=nt(fr(t),(function(t){return t.frame||Ne(!1),Jt(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},hr=.25,pr=.05,gr=28,vr=function(e){return Math.pow(e,2)},mr={stopDampeningAt:1200,accelerateAt:360},yr=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},br=mr.accelerateAt,wr=mr.stopDampeningAt,Er=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return gr;if(e===t.startScrollingFrom)return 1;var n=yr({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=gr*vr(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=wr,i=Date.now()-n;if(i>=wr)return e;if(i<br)return 1;var o=yr({startOfRange:br,endOfRange:r,current:i}),a=e*vr(o);return Math.ceil(a)}(o,r),1):o},Sr=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*hr,maxScrollValueAt:e[t.size]*pr}}(t,i);return n[i.end]<n[i.start]?Er({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*Er({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},Ir=Qe((function(e){return 0===e?0:e})),_r=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},u=Sr({container:n,distanceToEdges:a,dragStartTime:t,axis:bt,shouldUseTimeDampening:o}),s=Sr({container:n,distanceToEdges:a,dragStartTime:t,axis:wt,shouldUseTimeDampening:o}),c=Ir({x:s,y:u});if(ze(c,Ve))return null;var l=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return l?ze(l,Ve)?null:l:null},Tr=Qe((function(e){return 0===e?0:e>0?1:-1})),xr=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=je(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return ze(a,Ve)?null:a}}(),Cr=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Tr(r),a=xr({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},Dr=function(e,t){return Cr({current:e.scroll.current,max:e.scroll.max,change:t})},kr=function(e,t){var n=e.frame;return!!n&&Cr({current:n.scroll.current,max:n.scroll.max,change:t})},Nr=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=_r({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&Dr(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:u,center:a,shouldUseTimeDampening:r});if(s)return void i(s)}var c=dr({center:a,destination:$t(t.impact),droppables:t.dimensions.droppables});if(c){var l=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var u=_r({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return u&&kr(t,u)?u:null}({dragStartTime:n,droppable:c,subject:u,center:a,shouldUseTimeDampening:r});l&&o(c.descriptor.id,l)}},Ar=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!kr(e,t))return t;var r=function(e,t){var n=e.frame;return n&&kr(e,t)?xr({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=qe(t,r);return n(e.descriptor.id,i),qe(t,i)},o=function(e,t,n){if(!e)return n;if(!Dr(t,n))return n;var i=function(e,t){if(!Dr(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return xr({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=qe(n,i);return r(o),qe(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=$t(e.impact);r||Ne(!1);var a=i(e.dimensions.droppables[r],n);if(a){var u=e.viewport,s=o(e.isWindowScrollAllowed,u,a);s&&function(e,n){var r=je(e.current.client.selection,n);t({client:r})}(e,s)}}}},Pr=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=_e(t),i=_e(n),o=null,a=function(e){o||Ne(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;Nr({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){fn(),o&&Ne(!1);var t=Date.now(),n=!1,r=function(){n=!0};Nr({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},dn(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=Ar({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},Or="data-rbd",Rr=function(){var e=Or+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Lr=function(){var e=Or+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Mr=function(){var e=Or+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Fr={contextId:Or+"-scroll-container-context-id"},Br=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Ur="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect,Vr=function(){var e=document.querySelector("head");return e||Ne(!1),e},jr=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function qr(t,n){var r=ue((function(){return function(e){var t=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),n=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Rr.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),r=[function(){var e="\n      transition: "+Mn.outOfTheWay+";\n    ";return{selector:t(Lr.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),n,{selector:t(Mr.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Br(r,"always"),resting:Br(r,"resting"),dragging:Br(r,"dragging"),dropAnimating:Br(r,"dropAnimating"),userCancel:Br(r,"userCancel")}}(t)}),[t]),i=(0,e.useRef)(null),o=(0,e.useRef)(null),a=se(Ie((function(e){var t=o.current;t||Ne(!1),t.textContent=e})),[]),u=se((function(e){var t=i.current;t||Ne(!1),t.textContent=e}),[]);Ur((function(){(i.current||o.current)&&Ne(!1);var e=jr(n),s=jr(n);return i.current=e,o.current=s,e.setAttribute(Or+"-always",t),s.setAttribute(Or+"-dynamic",t),Vr().appendChild(e),Vr().appendChild(s),u(r.always),a(r.resting),function(){var e=function(e){var t=e.current;t||Ne(!1),Vr().removeChild(t),e.current=null};e(i),e(o)}}),[n,u,a,r.always,r.resting,t]);var s=se((function(){return a(r.dragging)}),[a,r.dragging]),c=se((function(e){a("DROP"!==e?r.userCancel:r.dropAnimating)}),[a,r.dropAnimating,r.userCancel]),l=se((function(){o.current&&a(r.resting)}),[a,r.resting]);return ue((function(){return{dragging:s,dropping:c,resting:l}}),[s,c,l])}var zr=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Gr(e){return e instanceof zr(e).HTMLElement}function Hr(e,t){var n="["+Rr.contextId+'="'+e+'"]',r=rt(document.querySelectorAll(n));if(!r.length)return null;var i=nt(r,(function(e){return e.getAttribute(Rr.draggableId)===t}));return i&&Gr(i)?i:null}function Wr(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}var i={register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||Ne(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return et(e.draggables).filter((function(e){return e.descriptor.type===t}))}};function o(t){return e.droppables[t]||null}var a={register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||Ne(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return et(e.droppables).filter((function(e){return e.descriptor.type===t}))}};return{draggable:i,droppable:a,subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Kr=e.createContext(null),Qr=function(){var e=document.body;return e||Ne(!1),e},$r={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Yr=0,Xr={separator:"::"};function Jr(e,t){return void 0===t&&(t=Xr),ue((function(){return""+e+t.separator+Yr++}),[t.separator,e])}var Zr=e.createContext(null);function ei(e){0}function ti(e,t){ei()}function ni(){ti()}function ri(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t})),n}var ii,oi=((ii={})[13]=!0,ii[9]=!0,ii),ai=function(e){oi[e.keyCode]&&e.preventDefault()},ui=function(){var e="visibilitychange";return"undefined"===typeof document?e:nt([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var si,ci={type:"IDLE"};function li(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(0===t){var a={x:n,y:o},u=r();if("DRAGGING"===u.type)return e.preventDefault(),void u.actions.move(a);"PENDING"!==u.type&&Ne(!1);var s=u.point;if(c=s,l=a,Math.abs(l.x-c.x)>=5||Math.abs(l.y-c.y)>=5){var c,l;e.preventDefault();var f=u.actions.fluidLift(a);i({type:"DRAGGING",actions:f})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void ai(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&Ne(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:ui,fn:t}]}function fi(){}var di=((si={})[34]=!0,si[33]=!0,si[36]=!0,si[35]=!0,si);function hi(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(di[r.keyCode]?r.preventDefault():ai(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ui,fn:n}]}var pi={type:"IDLE"};var gi={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function vi(e,t){if(null==t)return!1;if(Boolean(gi[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&vi(e,t.parentElement)}function mi(e,t){var n=t.target;return!!Gr(n)&&vi(e,n)}var yi=function(e){return fe(e.getBoundingClientRect()).center};var bi=function(){var e="matches";return"undefined"===typeof document?e:nt([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function wi(e,t){return null==e?null:e[bi](t)?e:wi(e.parentElement,t)}function Ei(e,t){return e.closest?e.closest(t):wi(e,t)}function Si(e,t){var n,r=t.target;if(!((n=r)instanceof zr(n).Element))return null;var i=function(e){return"["+Rr.contextId+'="'+e+'"]'}(e),o=Ei(r,i);return o&&Gr(o)?o:null}function Ii(e){e.preventDefault()}function _i(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Ti(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!cr(n.getState(),i))}function xi(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,u=e.sourceEvent;if(!Ti({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var s=i.draggable.getById(o),c=function(e,t){var n="["+Lr.contextId+'="'+e+'"]',r=nt(rt(document.querySelectorAll(n)),(function(e){return e.getAttribute(Lr.id)===t}));return r&&Gr(r)?r:null}(n,s.descriptor.id);if(!c)return null;if(u&&!s.options.canDragInteractiveElements&&mi(c,u))return null;var f=t.claim(a||xe),d="PRE_DRAG";function h(){return s.options.shouldRespectForcePress}function p(){return t.isActive(f)}var g=function(e,t){_i({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=Ce(window,[{eventName:"click",fn:Ii,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(Nn({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&Ne(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",l({isActive:function(){return _i({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}return{isActive:function(){return _i({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=_e((function(e){g((function(){return _n({client:e})}))}));return l({},v({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return g(Tn)},moveRight:function(){return g(Cn)},moveDown:function(){return g(xn)},moveLeft:function(){return g(Dn)}};return v({liftActionArgs:{id:o,clientSelection:yi(c),movementMode:"SNAP"},cleanup:xe,actions:e})},abort:function(){_i({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}}}var Ci=[function(t){var n=(0,e.useRef)(ci),r=(0,e.useRef)(xe),i=ue((function(){return{eventName:"mousedown",fn:function(e){if(!e.defaultPrevented&&0===e.button&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var n=t.findClosestDraggableId(e);if(n){var i=t.tryGetLock(n,u,{sourceEvent:e});if(i){e.preventDefault();var o={x:e.clientX,y:e.clientY};r.current(),l(i,o)}}}}}}),[t]),o=ue((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(e){if(!e.defaultPrevented){var n=t.findClosestDraggableId(e);if(n){var r=t.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||t.canGetLock(n)&&e.preventDefault())}}}}}),[t]),a=se((function(){r.current=Ce(window,[o,i],{passive:!1,capture:!0})}),[o,i]),u=se((function(){"IDLE"!==n.current.type&&(n.current=ci,r.current(),a())}),[a]),s=se((function(){var e=n.current;u(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[u]),c=se((function(){var e=li({cancel:s,completed:u,getPhase:function(){return n.current},setPhase:function(e){n.current=e}});r.current=Ce(window,e,{capture:!0,passive:!1})}),[s,u]),l=se((function(e,t){"IDLE"!==n.current.type&&Ne(!1),n.current={type:"PENDING",point:t,actions:e},c()}),[c]);Ur((function(){return a(),function(){r.current()}}),[a])},function(t){var n=(0,e.useRef)(fi),r=ue((function(){return{eventName:"keydown",fn:function(e){if(!e.defaultPrevented&&32===e.keyCode){var r=t.findClosestDraggableId(e);if(r){var o=t.tryGetLock(r,s,{sourceEvent:e});if(o){e.preventDefault();var a=!0,u=o.snapLift();n.current(),n.current=Ce(window,hi(u,s),{capture:!0,passive:!1})}}}function s(){a||Ne(!1),a=!1,n.current(),i()}}}}),[t]),i=se((function(){n.current=Ce(window,[r],{passive:!1,capture:!0})}),[r]);Ur((function(){return i(),function(){n.current()}}),[i])},function(t){var n=(0,e.useRef)(pi),r=(0,e.useRef)(xe),i=se((function(){return n.current}),[]),o=se((function(e){n.current=e}),[]),a=ue((function(){return{eventName:"touchstart",fn:function(e){if(!e.defaultPrevented){var n=t.findClosestDraggableId(e);if(n){var i=t.tryGetLock(n,s,{sourceEvent:e});if(i){var o=e.touches[0],a={x:o.clientX,y:o.clientY};r.current(),d(i,a)}}}}}}),[t]),u=se((function(){r.current=Ce(window,[a],{capture:!0,passive:!1})}),[a]),s=se((function(){var e=n.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(pi),r.current(),u())}),[u,o]),c=se((function(){var e=n.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),l=se((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:s,getPhase:i},n=Ce(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&Ne(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:ui,fn:t}]}(t),e),o=Ce(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:ui,fn:t}]}(t),e);r.current=function(){n(),o()}}),[c,i,s]),f=se((function(){var e=i();"PENDING"!==e.type&&Ne(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,o]),d=se((function(e,t){"IDLE"!==i().type&&Ne(!1);var n=setTimeout(f,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:n}),l()}),[l,i,o,f]);Ur((function(){return u(),function(){r.current();var e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(pi))}}),[i,u,o]),Ur((function(){return Ce(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Di(t){var n=t.contextId,r=t.store,i=t.registry,o=t.customSensors,a=t.enableDefaultSensors,u=[].concat(a?Ci:[],o||[]),s=(0,e.useState)((function(){return function(){var e=null;function t(){e||Ne(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&Ne(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=se((function(e,t){e.isDragging&&!t.isDragging&&s.tryAbandon()}),[s]);Ur((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();c(e,t),e=t}))}),[s,r,c]),Ur((function(){return s.tryAbandon}),[s.tryAbandon]);var l=se((function(e){return Ti({lockAPI:s,registry:i,store:r,draggableId:e})}),[s,i,r]),f=se((function(e,t,o){return xi({lockAPI:s,registry:i,contextId:n,store:r,draggableId:e,forceSensorStop:t,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[n,s,i,r]),d=se((function(e){return function(e,t){var n=Si(e,t);return n?n.getAttribute(Rr.draggableId):null}(n,e)}),[n]),h=se((function(e){var t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),p=se((function(){s.isClaimed()&&(s.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch({type:"FLUSH",payload:null}))}),[s,r]),g=se(s.isClaimed,[s]),v=ue((function(){return{canGetLock:l,tryGetLock:f,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:g}}),[l,f,d,h,p,g]);ei();for(var m=0;m<u.length;m++)u[m](v)}function ki(e){return e.current||Ne(!1),e.current}function Ni(t){var n=t.contextId,r=t.setCallbacks,i=t.sensors,o=t.nonce,a=t.dragHandleUsageInstructions,u=(0,e.useRef)(null);ni();var s=ri(t),c=se((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(s.current)}),[s]),f=function(t){var n=ue((function(){return function(e){return"rbd-announcement-"+e}(t)}),[t]),r=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=n,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),l(e.style,$r),Qr().appendChild(e),function(){setTimeout((function(){var t=Qr();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[n]),se((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(n),d=function(t){var n=t.contextId,r=t.text,i=Jr("hidden-text",{separator:"-"}),o=ue((function(){return"rbd-hidden-text-"+(e={contextId:n,uniqueId:i}).contextId+"-"+e.uniqueId;var e}),[i,n]);return(0,e.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=r,e.style.display="none",Qr().appendChild(e),function(){var t=Qr();t.contains(e)&&t.removeChild(e)}}),[o,r]),o}({contextId:n,text:a}),h=qr(n,o),p=se((function(e){ki(u).dispatch(e)}),[]),g=ue((function(){return y({publishWhileDragging:bn,updateDroppableScroll:En,updateDroppableIsEnabled:Sn,updateDroppableIsCombineEnabled:In,collectionStarting:wn},p)}),[p]),v=function(){var t=ue(Wr,[]);return(0,e.useEffect)((function(){return function(){requestAnimationFrame(t.clean)}}),[t]),t}(),m=ue((function(){return sr(v,g)}),[v,g]),b=ue((function(){return Pr(l({scrollWindow:lr,scrollDroppable:m.scrollDroppable},y({move:_n},p)))}),[m.scrollDroppable,p]),w=function(t){var n=(0,e.useRef)({}),r=(0,e.useRef)(null),i=(0,e.useRef)(null),o=(0,e.useRef)(!1),a=se((function(e,t){var r={id:e,focus:t};return n.current[e]=r,function(){var t=n.current;t[e]!==r&&delete t[e]}}),[]),u=se((function(e){var n=Hr(t,e);n&&n!==document.activeElement&&n.focus()}),[t]),s=se((function(e,t){r.current===e&&(r.current=t)}),[]),c=se((function(){i.current||o.current&&(i.current=requestAnimationFrame((function(){i.current=null;var e=r.current;e&&u(e)})))}),[u]),l=se((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(Rr.draggableId)===e&&(r.current=e)}),[]);return Ur((function(){return o.current=!0,function(){o.current=!1;var e=i.current;e&&cancelAnimationFrame(e)}}),[]),ue((function(){return{register:a,tryRecordFocus:l,tryRestoreFocusRecorded:c,tryShiftRecord:s}}),[a,l,c,s])}(n),E=ue((function(){return nr({announce:f,autoScroller:b,dimensionMarshal:m,focusMarshal:w,getResponders:c,styleMarshal:h})}),[f,b,m,w,c,h]);u.current=E;var S=se((function(){var e=ki(u);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),I=se((function(){var e=ki(u).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r(ue((function(){return{isDragging:I,tryAbort:S}}),[I,S]));var _=se((function(e){return cr(ki(u).getState(),e)}),[]),T=se((function(){return Xt(ki(u).getState())}),[]),C=ue((function(){return{marshal:m,focus:w,contextId:n,canLift:_,isMovementAllowed:T,dragHandleUsageInstructionsId:d,registry:v}}),[n,m,d,w,_,T,v]);return Di({contextId:n,store:E,registry:v,customSensors:i,enableDefaultSensors:!1!==t.enableDefaultSensors}),(0,e.useEffect)((function(){return S}),[S]),e.createElement(Zr.Provider,{value:C},e.createElement(x,{context:Kr,store:E},t.children))}var Ai=0;function Pi(t){var n=ue((function(){return""+Ai++}),[]),r=t.dragHandleUsageInstructions||Me;return e.createElement(Ae,null,(function(i){return e.createElement(Ni,{nonce:t.nonce,contextId:n,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)}))}var Oi=function(e){return function(t){return e===t}},Ri=Oi("scroll"),Li=Oi("auto"),Mi=(Oi("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Fi=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Mi(n,Ri)||Mi(n,Li)},Bi=function e(t){return null==t||t===document.body||t===document.documentElement?null:Fi(t)?t:e(t.parentElement)},Ui=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Vi=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},ji=function(e){return{closestScrollable:Bi(e),isFixedOnPage:Vi(e)}},qi=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,u=e.isCombineEnabled,s=e.shouldClipSubject,c=r.closestScrollable,l=function(e,t){var n=we(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,u=de({top:r,right:a,bottom:o,left:i},n.border);return ge({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})}(t,c),f=ye(l,i),d=function(){if(!c)return null;var e=we(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:ye(e,i),scroll:Ui(c),scrollSize:t,shouldClipSubject:s}}(),h=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,u=e.page,s=e.closest,c=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=rr({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:Ve,displacement:Ve}}}}(),l="vertical"===o?bt:wt;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:l,isEnabled:n,client:a,page:u,frame:c,subject:Je({page:u,withPlaceholder:null,axis:l,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:u,isFixedOnPage:r.isFixedOnPage,direction:o,client:l,page:f,closest:d});return h},zi={passive:!1},Gi={passive:!0},Hi=function(e){return e.shouldPublishImmediately?zi:Gi};function Wi(t){var n=(0,e.useContext)(t);return n||Ne(!1),n}var Ki=function(e){return e&&e.env.closestScrollable||null};function Qi(){}var $i={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Yi=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?$i:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Mn.placeholder:null}};var Xi=e.memo((function(t){var n=(0,e.useRef)(null),r=se((function(){n.current&&(clearTimeout(n.current),n.current=null)}),[]),i=t.animate,o=t.onTransitionEnd,a=t.onClose,u=t.contextId,s=(0,e.useState)("open"===t.animate),c=s[0],l=s[1];(0,e.useEffect)((function(){return c?"open"!==i?(r(),l(!1),Qi):n.current?Qi:(n.current=setTimeout((function(){n.current=null,l(!1)})),r):Qi}),[i,c,r]);var f=se((function(e){"height"===e.propertyName&&(o(),"close"===i&&a())}),[i,a,o]),d=Yi({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return e.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":u,onTransitionEnd:f,ref:t.innerRef})})),Ji=e.createContext(null);var Zi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return c(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(e.PureComponent),eo=5e3,to=4500,no=function(e,t){return t?Mn.drop(t.duration):e?Mn.snap:Mn.fluid},ro=function(e,t){return e?t?On.drop:On.combining:null};function io(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),u=Boolean(i),s=u?Un(n,o):Bn(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:no(a,i),transform:s,opacity:ro(o,u),zIndex:u?to:eo,pointerEvents:"none"}}(e):{transform:Bn((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function oo(t){var n=Jr("draggable"),r=t.descriptor,i=t.registry,o=t.getDraggableRef,a=t.canDragInteractiveElements,u=t.shouldRespectForcePress,s=t.isEnabled,c=ue((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:u,isEnabled:s}}),[a,s,u]),l=se((function(e){var t=o();return t||Ne(!1),function(e,t,n){void 0===n&&(n=Ve);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=be(i,r),a=ye(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(r,t,e)}),[r,o]),f=ue((function(){return{uniqueId:n,descriptor:r,options:c,getDimension:l}}),[r,l,c,n]),d=(0,e.useRef)(f),h=(0,e.useRef)(!0);Ur((function(){return i.draggable.register(d.current),function(){return i.draggable.unregister(d.current)}}),[i.draggable]),Ur((function(){if(h.current)h.current=!1;else{var e=d.current;d.current=f,i.draggable.update(f,e)}}),[f,i.draggable])}function ao(e,t,n){ti()}function uo(e){e.preventDefault()}var so=function(e,t){return e===t},co=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function lo(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var fo={mapped:{type:"SECONDARY",offset:Ve,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:lo(null)}};var ho=ie((function(){var e=function(){var e=Ie((function(e,t){return{x:e,y:t}})),t=Ie((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Ie((function(e,n,r,i,o,a,u){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:u,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],u=$t(r.impact),s=(l=r.impact).at&&"COMBINE"===l.at.type?l.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,u,s,c)}var l;if("DROP_ANIMATING"===r.phase){var f=r.completed;if(f.result.draggableId!==i.draggableId)return null;var d=i.isClone,h=r.dimensions.draggables[i.draggableId],p=f.result,g=p.mode,v=co(p),m=function(e){return e.combine?e.combine.draggableId:null}(p),y={duration:r.dropDuration,curve:Pn,moveTo:r.newHomeClientOffset,opacity:m?On.drop:null,scale:m?Rn.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:y,draggingOver:v,combineWith:m,mode:g,forceShouldAnimate:null,snapshot:t(g,d,v,m,y)}}}return null}}(),t=function(){var e=Ie((function(e,t){return{x:e,y:t}})),t=Ie(lo),n=Ie((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Ve,e,!0):null},i=function(t,i,o,a){var u=o.displaced.visible[t],s=Boolean(a.inVirtualList&&a.effected[t]),c=lt(o),l=c&&c.draggableId===t?i:null;if(!u){if(!s)return r(l);if(o.displaced.invisible[t])return null;var f=Ge(a.displacedBy.point),d=e(f.x,f.y);return n(d,l,!0)}if(s)return r(l);var h=o.displacedBy.point,p=e(h.x,h.y);return n(p,l,u.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||fo}}),{dropAnimationFinished:An},null,{context:Kr,pure:!0,areStatePropsEqual:so})((function(t){var n=(0,e.useRef)(null),r=se((function(e){n.current=e}),[]),i=se((function(){return n.current}),[]),o=Wi(Zr),a=o.contextId,u=o.dragHandleUsageInstructionsId,s=o.registry,c=Wi(Ji),l=c.type,f=c.droppableId,d=ue((function(){return{id:t.draggableId,index:t.index,type:l,droppableId:f}}),[t.draggableId,t.index,l,f]),h=t.children,p=t.draggableId,g=t.isEnabled,v=t.shouldRespectForcePress,m=t.canDragInteractiveElements,y=t.isClone,b=t.mapped,w=t.dropAnimationFinished;ao(),ei(),y||oo(ue((function(){return{descriptor:d,registry:s,getDraggableRef:i,canDragInteractiveElements:m,shouldRespectForcePress:v,isEnabled:g}}),[d,s,i,m,v,g]));var E=ue((function(){return g?{tabIndex:0,role:"button","aria-describedby":u,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:uo}:null}),[a,u,p,g]),S=se((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&w()}),[w,b]),I=ue((function(){var e=io(b),t="DRAGGING"===b.type&&b.dropping?S:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,p,b,S,r]),_=ue((function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}}),[d.droppableId,d.id,d.index,d.type]);return h(I,b.snapshot,_)}));function po(t){return Wi(Ji).isUsingCloneFor!==t.draggableId||t.isClone?e.createElement(ho,t):null}function go(t){var n="boolean"!==typeof t.isDragDisabled||!t.isDragDisabled,r=Boolean(t.disableInteractiveElementBlocking),i=Boolean(t.shouldRespectForcePress);return e.createElement(po,l({},t,{isClone:!1,isEnabled:n,canDragInteractiveElements:r,shouldRespectForcePress:i}))}var vo=function(e,t){return e===t.droppable.type},mo=function(e,t){return t.draggables[e.draggable.id]};var yo={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Ne(!1),document.body}},bo=ie((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=l({},e,{shouldAnimatePlaceholder:!1}),n=Ie((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Ie((function(r,i,o,a,u,s){var c=u.descriptor.id;if(u.descriptor.droppableId===r){var l=s?{render:s,dragging:n(u.descriptor)}:null,f={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:f,useClone:l}}if(!i)return t;if(!a)return e;var d={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,u=!i.isDropDisabled,s=i.renderClone;if(n.isDragging){var c=n.critical;if(!vo(a,c))return t;var l=mo(c,n.dimensions),f=$t(n.impact)===o;return r(o,u,f,f,l,s)}if("DROP_ANIMATING"===n.phase){var d=n.completed;if(!vo(a,d.critical))return t;var h=mo(d.critical,n.dimensions);return r(o,u,co(d.result)===o,$t(d.impact)===o,h,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var p=n.completed;if(!vo(a,p.critical))return t;var g=$t(p.impact)===o,v=Boolean(p.impact.at&&"COMBINE"===p.impact.at.type),m=p.critical.droppable.id===o;return g?v?e:t:m?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Kr,pure:!0,areStatePropsEqual:so})((function(n){var r=(0,e.useContext)(Zr);r||Ne(!1);var i=r.contextId,o=r.isMovementAllowed,a=(0,e.useRef)(null),u=(0,e.useRef)(null),s=n.children,c=n.droppableId,l=n.type,f=n.mode,d=n.direction,h=n.ignoreContainerClipping,p=n.isDropDisabled,g=n.isCombineEnabled,v=n.snapshot,m=n.useClone,y=n.updateViewportMaxScroll,b=n.getContainerForClone,w=se((function(){return a.current}),[]),E=se((function(e){a.current=e}),[]),S=(se((function(){return u.current}),[]),se((function(e){u.current=e}),[]));ti();var I=se((function(){o()&&y({maxScroll:or()})}),[o,y]);!function(t){var n=(0,e.useRef)(null),r=Wi(Zr),i=Jr("droppable"),o=r.registry,a=r.marshal,u=ri(t),s=ue((function(){return{id:t.droppableId,type:t.type,mode:t.mode}}),[t.droppableId,t.mode,t.type]),c=(0,e.useRef)(s),l=ue((function(){return Ie((function(e,t){n.current||Ne(!1);var r={x:e,y:t};a.updateDroppableScroll(s.id,r)}))}),[s.id,a]),f=se((function(){var e=n.current;return e&&e.env.closestScrollable?Ui(e.env.closestScrollable):Ve}),[]),d=se((function(){var e=f();l(e.x,e.y)}),[f,l]),h=ue((function(){return _e(d)}),[d]),p=se((function(){var e=n.current,t=Ki(e);e&&t||Ne(!1),e.scrollOptions.shouldPublishImmediately?d():h()}),[h,d]),g=se((function(e,t){n.current&&Ne(!1);var i=u.current,o=i.getDroppableRef();o||Ne(!1);var a=ji(o),c={ref:o,descriptor:s,env:a,scrollOptions:t};n.current=c;var l=qi({ref:o,descriptor:s,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),f=a.closestScrollable;return f&&(f.setAttribute(Fr.contextId,r.contextId),f.addEventListener("scroll",p,Hi(c.scrollOptions))),l}),[r.contextId,s,p,u]),v=se((function(){var e=n.current,t=Ki(e);return e&&t||Ne(!1),Ui(t)}),[]),m=se((function(){var e=n.current;e||Ne(!1);var t=Ki(e);n.current=null,t&&(h.cancel(),t.removeAttribute(Fr.contextId),t.removeEventListener("scroll",p,Hi(e.scrollOptions)))}),[p,h]),y=se((function(e){var t=n.current;t||Ne(!1);var r=Ki(t);r||Ne(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=ue((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:m,scroll:y}}),[m,g,v,y]),w=ue((function(){return{uniqueId:i,descriptor:s,callbacks:b}}),[b,s,i]);Ur((function(){return c.current=w.descriptor,o.droppable.register(w),function(){n.current&&m(),o.droppable.unregister(w)}}),[b,s,m,w,a,o.droppable]),Ur((function(){n.current&&a.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)}),[t.isDropDisabled,a]),Ur((function(){n.current&&a.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)}),[t.isCombineEnabled,a])}({droppableId:c,type:l,mode:f,direction:d,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:h,getDroppableRef:w});var _=e.createElement(Zi,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},(function(t){var n=t.onClose,r=t.data,o=t.animate;return e.createElement(Xi,{placeholder:r,onClose:n,innerRef:S,animate:o,contextId:i,onTransitionEnd:I})})),T=ue((function(){return{innerRef:E,placeholder:_,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":i}}}),[i,c,_,E]),x=m?m.dragging.draggableId:null,C=ue((function(){return{droppableId:c,type:l,isUsingCloneFor:x}}),[c,x,l]);return e.createElement(Ji.Provider,{value:C},s(T,v),function(){if(!m)return null;var n=m.dragging,r=m.render,i=e.createElement(po,{draggableId:n.draggableId,index:n.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(e,t){return r(e,t,n)}));return t.createPortal(i,b())}())}));bo.defaultProps=yo;const wo=["Norway","Luxembourg","Estonia","Israel","Lithuania","Spain","Ukraine","United Kingdom","Austria","Iceland","Latvia","Netherlands","Finland","Italy","Poland","Germany","Greece","Armenia","Switzerland","Malta","Portugal","Denmark","Sweden","France","San Marino","Albania"],Eo={Afghanistan:"AF",Albania:"AL",Algeria:"DZ","American Samoa":"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ","Antigua and Barbuda":"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO",Bonaire:"BQ","Bosnia and Herzegovina":"BA",Botswana:"BW","Bouvet Island":"BV",Brazil:"BR","British Indian Ocean Territory":"IO","Brunei Darussalam":"BN",Bulgaria:"BG","Burkina Faso":"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA","Cape Verde":"CV","Cayman Islands":"KY","Central African Republic":"CF",Chad:"TD",Chile:"CL",China:"CN","Christmas Island":"CX","Cocos (Keeling) Islands":"CC",Colombia:"CO",Comoros:"KM",Congo:"CG","Democratic Republic of the Congo":"CD","Cook Islands":"CK","Costa Rica":"CR",Croatia:"HR",Cuba:"CU",Curacao:"CW",Cyprus:"CY",Czechia:"CZ","Cote d'Ivoire":"CI",Denmark:"DK",Djibouti:"DJ",Dominica:"DM","Dominican Republic":"DO",Ecuador:"EC",Egypt:"EG","El Salvador":"SV","Equatorial Guinea":"GQ",Eritrea:"ER",Estonia:"EE",Ethiopia:"ET","Falkland Islands (Malvinas)":"FK","Faroe Islands":"FO",Fiji:"FJ",Finland:"FI",France:"FR","French Guiana":"GF","French Polynesia":"PF","French Southern Territories":"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN","Guinea-Bissau":"GW",Guyana:"GY",Haiti:"HT","Heard Island and McDonald Islands":"HM","Holy See (Vatican City State)":"VA",Honduras:"HN","Hong Kong":"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID","Iran, Islamic Republic of":"IR",Iraq:"IQ",Ireland:"IE","Isle of Man":"IM",Israel:"IL",Italy:"IT","Jamaica\tJM\tJAM":"JM",Japan:"JP",Jersey:"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI","Korea, Democratic People's Republic of  ":"KP","Korea, Republic of":"KR",Kuwait:"KW",Kyrgyzstan:"KG",Laos:"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO","North Macedonia":"MK",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT","Marshall Islands":"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX","Micronesia, Federated States of":"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL","New Caledonia":"NC","New Zealand":"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU","Norfolk Island":"NF","Northern Mariana Islands":"MP",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW",Palestine:"PS",Panama:"PA","Papua New Guinea":"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",Pitcairn:"PN",Poland:"PL",Portugal:"PT","Puerto Rico":"PR",Qatar:"QA",Romania:"RO",Russia:"RU",Rwanda:"RW",Reunion:"RE","Saint Barthelemy":"BL","Saint Helena":"SH","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Martin (French part)":"MF","Saint Pierre and Miquelon":"PM","Saint Vincent and the Grenadines":"VC",Samoa:"WS","San Marino":"SM","Sao Tome and Principe":"ST","Saudi Arabia":"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC","Sierra Leone":"SL",Singapore:"SG","Sint Maarten (Dutch part)":"SX",Slovakia:"SK",Slovenia:"SI","Solomon Islands":"SB",Somalia:"SO","South Africa":"ZA","South Georgia and the South Sandwich Islands":"GS","South Sudan":"SS",Spain:"ES","Sri Lanka":"LK",Sudan:"SD",Suriname:"SR","Svalbard and Jan Mayen":"SJ",Swaziland:"SZ",Sweden:"SE",Switzerland:"CH","Syrian Arab Republic":"SY",Taiwan:"TW",Tajikistan:"TJ","United Republic of Tanzania":"TZ",Thailand:"TH","Timor-Leste":"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO","Trinidad and Tobago":"TT",Tunisia:"TN",Turkey:"TR",Turkmenistan:"TM","Turks and Caicos Islands":"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA","United Arab Emirates":"AE","United Kingdom":"GB","United States":"US","United States Minor Outlying Islands":"UM",Uruguay:"UY",Uzbekistan:"UZ",Vanuatu:"VU",Venezuela:"VE","Viet Nam":"VN","British Virgin Islands":"VG","US Virgin Islands":"VI","Wallis and Futuna":"WF","Western Sahara":"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"};var So=function(e,t){return So=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},So(e,t)};function Io(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}So(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _o=function(){return _o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_o.apply(this,arguments)};function To(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(Qw){o(Qw)}}function u(e){try{s(r.throw(e))}catch(Qw){o(Qw)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function xo(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(Qw){u=[6,Qw],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function Co(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ko(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var No=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ao={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(No(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Po=function(e){return function(e){var t=No(e);return Ao.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Oo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ro(n)&&(e[n]=Oo(e[n],t[n]));return e}function Ro(e){return"__proto__"!==e}var Lo=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function Mo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fo(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Qw){return!1}}var Bo=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Uo.prototype.create),o}return Io(t,e),t}(Error),Uo=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(Vo,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").";return new Bo(i,u,r)},e}();var Vo=/\{\$([^}]+)}/g;function jo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function qo(e,t){var n=new zo(e,t);return n.subscribe.bind(n)}var zo=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Go),void 0===r.error&&(r.error=Go),void 0===r.complete&&(r.complete=Go);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Qw){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Qw){"undefined"!==typeof console&&console.error&&console.error(Qw)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Go(){}function Ho(e){return e&&e._delegate?e._delegate:e}var Wo=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Ko="[DEFAULT]",Qo=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Lo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Qw){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Qw){if(r)return null;throw Qw}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch(Qw){}try{for(var r=Co(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Do(i.value,2),a=o[0],u=o[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(Qw){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Ko),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return To(this,void 0,void 0,(function(){var e;return xo(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(ko(ko([],Do(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Do(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Ko),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=Ko),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var u=Co(this.instancesDeferred.entries()),s=u.next();!s.done;s=u.next()){var c=Do(s.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Co(i),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(s){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ko?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Dw){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Ko),this.component?this.component.multipleInstances?e:Ko:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var $o,Yo=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Qo(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Xo(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var Jo,Zo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Jo||(Jo={}));var ea,ta={debug:Jo.DEBUG,verbose:Jo.VERBOSE,info:Jo.INFO,warn:Jo.WARN,error:Jo.ERROR,silent:Jo.SILENT},na=Jo.INFO,ra=(($o={})[Jo.DEBUG]="log",$o[Jo.VERBOSE]="log",$o[Jo.INFO]="info",$o[Jo.WARN]="warn",$o[Jo.ERROR]="error",$o),ia=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ra[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Xo(["["+i+"]  "+e.name+":"],n))}},oa=function(){function e(e){this.name=e,this._logLevel=na,this._logHandler=ia,this._userLogHandler=null,Zo.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Jo))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?ta[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Xo([this,Jo.DEBUG],e)),this._logHandler.apply(this,Xo([this,Jo.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Xo([this,Jo.VERBOSE],e)),this._logHandler.apply(this,Xo([this,Jo.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Xo([this,Jo.INFO],e)),this._logHandler.apply(this,Xo([this,Jo.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Xo([this,Jo.WARN],e)),this._logHandler.apply(this,Xo([this,Jo.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Xo([this,Jo.ERROR],e)),this._logHandler.apply(this,Xo([this,Jo.ERROR],e))},e}();function aa(e){Zo.forEach((function(t){t.setLogLevel(e)}))}var ua,sa=((ea={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ea["bad-app-name"]="Illegal App name: '{$appName}",ea["duplicate-app"]="Firebase App named '{$appName}' already exists",ea["app-deleted"]="Firebase App named '{$appName}' already deleted",ea["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ea["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ea),ca=new Uo("app","Firebase",sa),la="@firebase/app",fa="[DEFAULT]",da=((ua={})[la]="fire-core",ua["@firebase/analytics"]="fire-analytics",ua["@firebase/app-check"]="fire-app-check",ua["@firebase/auth"]="fire-auth",ua["@firebase/database"]="fire-rtdb",ua["@firebase/functions"]="fire-fn",ua["@firebase/installations"]="fire-iid",ua["@firebase/messaging"]="fire-fcm",ua["@firebase/performance"]="fire-perf",ua["@firebase/remote-config"]="fire-rc",ua["@firebase/storage"]="fire-gcs",ua["@firebase/firestore"]="fire-fst",ua["fire-js"]="fire-js",ua["firebase-wrapper"]="fire-js-all",ua),ha=new oa("@firebase/app"),pa=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Oo(void 0,e),this.container=new Yo(t.name),this._addComponent(new Wo("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=fa),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=fa),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Qw){ha.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Qw)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ca.create("app-deleted",{appName:this.name_})},e}();pa.prototype.name&&pa.prototype.options||pa.prototype.delete||console.log("dc");function ga(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=fa);var a=o.name;if("string"!==typeof a||!a)throw ca.create("bad-app-name",{appName:String(a)});if(jo(t,a))throw ca.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=da[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ha.warn(s.join(" "))}o(new Wo(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:aa,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw ca.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=ta[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Jo[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Zo;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!jo(t,e=e||fa))throw ca.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return ha.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw ca.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Oo(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var va=function e(){var t=ga(pa);return t.INTERNAL=_o(_o({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Oo(t,e)},createSubscribe:qo,ErrorFactory:Uo,deepExtend:Oo}),t}(),ma=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ha.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ya=self.firebase.SDK_VERSION;ya&&ya.indexOf("LITE")>=0&&ha.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ba=va.initializeApp;va.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fo()&&ha.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ba.apply(void 0,e)};var wa=va;!function(e,t){e.INTERNAL.registerComponent(new Wo("platform-logger",(function(e){return new ma(e)}),"PRIVATE")),e.registerVersion(la,"0.6.30",t),e.registerVersion("fire-js","")}(wa);const Ea=wa;var Sa="8.10.1";Ea.registerVersion("firebase",Sa,"app"),Ea.SDK_VERSION=Sa;var Ia=function(e,t){return Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ia(e,t)};function _a(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ta,xa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ca=Ca||{},Da=xa||self;function ka(){}function Na(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Aa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Pa="closure_uid_"+(1e9*Math.random()>>>0),Oa=0;function Ra(e,t,n){return e.call.apply(e.bind,arguments)}function La(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ma(e,t,n){return(Ma=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ra:La).apply(null,arguments)}function Fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ba(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ua(){this.s=this.s,this.o=this.o}var Va={};Ua.prototype.s=!1,Ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Pa)&&e[Pa]||(e[Pa]=++Oa)}(this);delete Va[e]}},Ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ja=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},qa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function za(e){return Array.prototype.concat.apply([],arguments)}function Ga(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ha(e){return/^[\s\xa0]*$/.test(e)}var Wa,Ka=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Qa(e,t){return-1!=e.indexOf(t)}function $a(e,t){return e<t?-1:e>t?1:0}e:{var Ya=Da.navigator;if(Ya){var Xa=Ya.userAgent;if(Xa){Wa=Xa;break e}}Wa=""}function Ja(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Za(e){var t={};for(var n in e)t[n]=e[n];return t}var eu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<eu.length;o++)n=eu[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function nu(e){return nu[" "](e),e}nu[" "]=ka;var ru,iu=Qa(Wa,"Opera"),ou=Qa(Wa,"Trident")||Qa(Wa,"MSIE"),au=Qa(Wa,"Edge"),uu=au||ou,su=Qa(Wa,"Gecko")&&!(Qa(Wa.toLowerCase(),"webkit")&&!Qa(Wa,"Edge"))&&!(Qa(Wa,"Trident")||Qa(Wa,"MSIE"))&&!Qa(Wa,"Edge"),cu=Qa(Wa.toLowerCase(),"webkit")&&!Qa(Wa,"Edge");function lu(){var e=Da.document;return e?e.documentMode:void 0}e:{var fu="",du=function(){var e=Wa;return su?/rv:([^\);]+)(\)|;)/.exec(e):au?/Edge\/([\d\.]+)/.exec(e):ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):cu?/WebKit\/(\S+)/.exec(e):iu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(du&&(fu=du?du[1]:""),ou){var hu=lu();if(null!=hu&&hu>parseFloat(fu)){ru=String(hu);break e}}ru=fu}var pu,gu={};function vu(){return function(e){var t=gu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ka(String(ru)).split("."),n=Ka("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=$a(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||$a(0==o[2].length,0==a[2].length)||$a(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(Da.document&&ou){var mu=lu();pu=mu||(parseInt(ru,10)||void 0)}else pu=void 0;var yu=pu,bu=function(){if(!Da.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Da.addEventListener("test",ka,t),Da.removeEventListener("test",ka,t)}catch(n){}return e}();function wu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Eu(e,t){if(wu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(su){e:{try{nu(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Su[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Eu.Z.h.call(this)}}wu.prototype.h=function(){this.defaultPrevented=!0},Ba(Eu,wu);var Su={2:"touch",3:"pen",4:"mouse"};Eu.prototype.h=function(){Eu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Iu="closure_listenable_"+(1e6*Math.random()|0),_u=0;function Tu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_u,this.ca=this.fa=!1}function xu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Cu(e){this.src=e,this.g={},this.h=0}function Du(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ja(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ku(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}Cu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ku(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Tu(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Nu="closure_lm_"+(1e6*Math.random()|0),Au={};function Pu(e,t,n,r,i){if(r&&r.once)return Ru(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pu(e,t[o],n,r,i);return null}return n=ju(n),e&&e[Iu]?e.N(t,n,Aa(r)?!!r.capture:!!r,i):Ou(e,t,n,!1,r,i)}function Ou(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Aa(i)?!!i.capture:!!i,u=Uu(e);if(u||(e[Nu]=u=new Cu(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Bu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bu||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ru(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ru(e,t[o],n,r,i);return null}return n=ju(n),e&&e[Iu]?e.O(t,n,Aa(r)?!!r.capture:!!r,i):Ou(e,t,n,!0,r,i)}function Lu(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Lu(e,t[o],n,r,i);else r=Aa(r)?!!r.capture:!!r,n=ju(n),e&&e[Iu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ku(o=e.g[t],n,r,i))&&(xu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Uu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ku(t,n,r,i)),(n=-1<e?t[e]:null)&&Mu(n))}function Mu(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Iu])Du(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Uu(t))?(Du(n,e),0==n.h&&(n.src=null,t[Nu]=null)):xu(e)}}}function Fu(e){return e in Au?Au[e]:Au[e]="on"+e}function Bu(e,t){if(e.ca)e=!0;else{t=new Eu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Mu(e),e=n.call(r,t)}return e}function Uu(e){return(e=e[Nu])instanceof Cu?e:null}var Vu="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(e){return"function"===typeof e?e:(e[Vu]||(e[Vu]=function(t){return e.handleEvent(t)}),e[Vu])}function qu(){Ua.call(this),this.i=new Cu(this),this.P=this,this.I=null}function zu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wu(t,e);else if(t instanceof wu)t.target=t.target||e;else{var i=t;tu(t=new wu(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Gu(a,r,!0,t)&&i}if(i=Gu(a=t.g=e,r,!0,t)&&i,i=Gu(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Gu(a=t.g=n[o],r,!1,t)&&i}function Gu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,s=a.ia||a.src;a.fa&&Du(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ba(qu,Ua),qu.prototype[Iu]=!0,qu.prototype.removeEventListener=function(e,t,n,r){Lu(this,e,t,n,r)},qu.prototype.M=function(){if(qu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xu(n[r]);delete t.g[e],t.h--}}this.I=null},qu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Hu=Da.JSON.stringify;function Wu(){var e=es,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ku,Qu=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=$u.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),$u=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Yu}),(function(e){return e.reset()})),Yu=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Xu(e){Da.setTimeout((function(){throw e}),0)}function Ju(e,t){Ku||function(){var e=Da.Promise.resolve(void 0);Ku=function(){e.then(ts)}}(),Zu||(Ku(),Zu=!0),es.add(e,t)}var Zu=!1,es=new Qu;function ts(){for(var e;e=Wu();){try{e.h.call(e.g)}catch(n){Xu(n)}var t=$u;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zu=!1}function ns(e,t){qu.call(this),this.h=e||1,this.g=t||Da,this.j=Ma(this.kb,this),this.l=Date.now()}function rs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function is(e,t,n){if("function"===typeof e)n&&(e=Ma(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ma(e.handleEvent,e)}return 2147483647<Number(t)?-1:Da.setTimeout(e,t||0)}function os(e){e.g=is((function(){e.g=null,e.i&&(e.i=!1,os(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ba(ns,qu),(Ta=ns.prototype).da=!1,Ta.S=null,Ta.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zu(this,"tick"),this.da&&(rs(this),this.start()))}},Ta.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ta.M=function(){ns.Z.M.call(this),rs(this),delete this.g};var as=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ia(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:os(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Da.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Ua);function us(e){Ua.call(this),this.h=e,this.g={}}Ba(us,Ua);var ss=[];function cs(e,t,n,r){Array.isArray(n)||(n&&(ss[0]=n.toString()),n=ss);for(var i=0;i<n.length;i++){var o=Pu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ls(e){Ja(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mu(e)}),e),e.g={}}function fs(){this.g=!0}function ds(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Hu(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}us.prototype.M=function(){us.Z.M.call(this),ls(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fs.prototype.Aa=function(){this.g=!1},fs.prototype.info=function(){};var hs={},ps=null;function gs(){return ps=ps||new qu}function vs(e){wu.call(this,hs.Ma,e)}function ms(e){var t=gs();zu(t,new vs(t,e))}function ys(e,t){wu.call(this,hs.STAT_EVENT,e),this.stat=t}function bs(e){var t=gs();zu(t,new ys(t,e))}function ws(e,t){wu.call(this,hs.Na,e),this.size=t}function Es(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Da.setTimeout((function(){e()}),t)}hs.Ma="serverreachability",Ba(vs,wu),hs.STAT_EVENT="statevent",Ba(ys,wu),hs.Na="timingevent",Ba(ws,wu);var Ss={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Is={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _s(){}function Ts(e){return e.h||(e.h=e.i())}function xs(){}_s.prototype.h=null;var Cs,Ds={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ks(){wu.call(this,"d")}function Ns(){wu.call(this,"c")}function As(){}function Ps(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new us(this),this.P=Rs,e=uu?125:void 0,this.W=new ns(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}Ba(ks,wu),Ba(Ns,wu),Ba(As,_s),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Cs=new As;var Rs=45e3,Ls={},Ms={};function Fs(e,t,n){e.K=1,e.v=ac(ec(t)),e.s=n,e.U=!0,Bs(e,null)}function Bs(e,t){e.F=Date.now(),qs(e),e.A=ec(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),bc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Os,e.g=El(e.l,n?t:null,!e.s),0<e.O&&(e.L=new as(Ma(e.Ia,e,e.g),e.O)),cs(e.V,e.g,"readystatechange",e.gb),t=e.H?Za(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ms(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Us(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Vs(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=js(e,n))==Ms){4==t&&(e.o=4,bs(14),i=!1),ds(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ls){e.o=4,bs(15),ds(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ds(e.j,e.m,r,null),Ks(e,r)}Us(e)&&r!=Ms&&r!=Ls&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hl(t),t.L=!0,bs(11))):(ds(e.j,e.m,n,"[Invalid Chunked Response]"),Ws(e),Hs(e))}function js(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ms:(n=Number(t.substring(n,r)),isNaN(n)?Ls:(r+=1)+n>t.length?Ms:(t=t.substr(r,n),e.C=r+n,t))}function qs(e){e.Y=Date.now()+e.P,zs(e,e.P)}function zs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Es(Ma(e.eb,e),t)}function Gs(e){e.B&&(Da.clearTimeout(e.B),e.B=null)}function Hs(e){0==e.l.G||e.I||vl(e.l,e)}function Ws(e){Gs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,rs(e.W),ls(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ks(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cc(n.i,e)))if(n.I=e.N,!e.J&&Cc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;gl(n),il(n)}dl(n),bs(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Es(Ma(n.ab,n),6e3));if(1>=xc(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else yl(n,11)}else if((e.J||n.g==e)&&gl(n),!Ha(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Qa(l,"spdy")||Qa(l,"quic")||Qa(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Dc(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,oc(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=wl(r,r.H?r.la:null,r.W),h.J){kc(r.i,h);var p=h,g=r.K;g&&p.setTimeout(g),p.B&&(Gs(p),qs(p)),r.g=h}else fl(r);0<n.l.length&&ul(n)}else"stop"!=o[0]&&"close"!=o[0]||yl(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?yl(n,7):rl(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ms(4)}catch(o){}}function Qs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Na(e)||"string"===typeof e)qa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Na(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Na(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function $s(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $s)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ys(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Xs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Xs(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Xs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ta=Ps.prototype).setTimeout=function(e){this.P=e},Ta.gb=function(e){e=e.target;var t=this.L;t&&3==Jc(e)?t.l():this.Ia(e)},Ta.Ia=function(e){try{if(e==this.g)e:{var t=Jc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||uu||this.g&&(this.h.h||this.g.ga()||Zc(this.g)))){this.I||4!=t||7==n||ms(8==n||0>=r?3:2),Gs(this);var i=this.g.ba();this.N=i;t:if(Us(this)){var o=Zc(this.g);e="";var a=o.length,u=4==Jc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ws(this),Hs(this);var s="";break t}this.h.i=new Da.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ha(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,bs(12),Ws(this),Hs(this);break e}ds(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ks(this,i)}this.U?(Vs(this,t,s),uu&&this.i&&3==t&&(cs(this.V,this.W,"tick",this.fb),this.W.start())):(ds(this.j,this.m,s,null),Ks(this,s)),4==t&&Ws(this),this.i&&!this.I&&(4==t?vl(this.l,this):(this.i=!1,qs(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,bs(12)):(this.o=0,bs(13)),Ws(this),Hs(this)}}}catch(t){}},Ta.fb=function(){if(this.g){var e=Jc(this.g),t=this.g.ga();this.C<t.length&&(Gs(this),Vs(this,e,t),this.i&&4!=e&&qs(this))}},Ta.cancel=function(){this.I=!0,Ws(this)},Ta.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ms(3),bs(17)),Ws(this),this.o=2,Hs(this)):zs(this,this.Y-e)},(Ta=$s.prototype).R=function(){Ys(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ta.T=function(){return Ys(this),this.g.concat()},Ta.get=function(e,t){return Xs(this.h,e)?this.h[e]:t},Ta.set=function(e,t){Xs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ta.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Js=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Zs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Zs){this.g=void 0!==t?t:e.g,tc(this,e.j),this.s=e.s,nc(this,e.i),rc(this,e.m),this.l=e.l,t=e.h;var n=new gc;n.i=t.i,t.g&&(n.g=new $s(t.g),n.h=t.h),ic(this,n),this.o=e.o}else e&&(n=String(e).match(Js))?(this.g=!!t,tc(this,n[1]||"",!0),this.s=uc(n[2]||""),nc(this,n[3]||"",!0),rc(this,n[4]),this.l=uc(n[5]||"",!0),ic(this,n[6]||"",!0),this.o=uc(n[7]||"")):(this.g=!!t,this.h=new gc(null,this.g))}function ec(e){return new Zs(e)}function tc(e,t,n){e.j=n?uc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nc(e,t,n){e.i=n?uc(t,!0):t}function rc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ic(e,t,n){t instanceof gc?(e.h=t,function(e,t){t&&!e.j&&(vc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mc(this,t),bc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=sc(t,hc)),e.h=new gc(t,e.g))}function oc(e,t,n){e.h.set(t,n)}function ac(e){return oc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function uc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sc(t,lc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sc(t,lc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(sc(n,"/"==n.charAt(0)?dc:fc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sc(n,pc)),e.join("")};var lc=/[#\/\?@]/g,fc=/[#\?:]/g,dc=/[#\?]/g,hc=/[#\?@]/g,pc=/#/g;function gc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vc(e){e.g||(e.g=new $s,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mc(e,t){vc(e),t=wc(e,t),Xs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Xs((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ys(e)))}function yc(e,t){return vc(e),t=wc(e,t),Xs(e.g.h,t)}function bc(e,t,n){mc(e,t),0<n.length&&(e.i=null,e.g.set(wc(e,t),Ga(n)),e.h+=n.length)}function wc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ta=gc.prototype).add=function(e,t){vc(this),this.i=null,e=wc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ta.forEach=function(e,t){vc(this),this.g.forEach((function(n,r){qa(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ta.T=function(){vc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ta.R=function(e){vc(this);var t=[];if("string"===typeof e)yc(this,e)&&(t=za(t,this.g.get(wc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=za(t,e[n])}return t},Ta.set=function(e,t){return vc(this),this.i=null,yc(this,e=wc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ta.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ta.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var Ec=function(e,t){this.h=e,this.g=t};function Sc(e){this.l=e||_c,Da.PerformanceNavigationTiming?e=0<(e=Da.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Da.g&&Da.g.Ea&&Da.g.Ea()&&Da.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ic,_c=10;function Tc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xc(e){return e.h?1:e.g?e.g.size:0}function Cc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dc(e,t){e.g?e.g.add(t):e.h=t}function kc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nc(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=_a(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ga(e.i)}function Ac(){}function Pc(){this.g=new Ac}function Oc(e,t,n){var r=n||"";try{Qs(e,(function(e,n){var i=e;Aa(e)&&(i=Hu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Qw){throw t.push(r+"type="+encodeURIComponent("_badmap")),Qw}}function Rc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Lc(e){this.l=e.$b||null,this.j=e.ib||!1}function Mc(e,t){qu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sc.prototype.cancel=function(){var e,t;if(this.i=Nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=_a(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Ac.prototype.stringify=function(e){return Da.JSON.stringify(e,void 0)},Ac.prototype.parse=function(e){return Da.JSON.parse(e,void 0)},Ba(Lc,_s),Lc.prototype.g=function(){return new Mc(this.l,this.j)},Lc.prototype.i=(Ic={},function(){return Ic}),Ba(Mc,qu);var Fc=0;function Bc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Uc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vc(e)}function Vc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ta=Mc.prototype).open=function(e,t){if(this.readyState!=Fc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vc(this)},Ta.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Da).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ta.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uc(this)),this.readyState=Fc},Ta.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Da.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ta.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Uc(this):Vc(this),3==this.readyState&&Bc(this)}},Ta.Ua=function(e){this.g&&(this.response=this.responseText=e,Uc(this))},Ta.Ta=function(e){this.g&&(this.response=e,Uc(this))},Ta.ha=function(){this.g&&Uc(this)},Ta.setRequestHeader=function(e,t){this.v.append(e,t)},Ta.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ta.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jc=Da.JSON.parse;function qc(e){qu.call(this),this.headers=new $s,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zc,this.K=this.L=!1}Ba(qc,qu);var zc="",Gc=/^https?$/i,Hc=["POST","PUT"];function Wc(e){return"content-type"==e.toLowerCase()}function Kc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qc(e),Yc(e)}function Qc(e){e.D||(e.D=!0,zu(e,"complete"),zu(e,"error"))}function $c(e){if(e.h&&"undefined"!=typeof Ca&&(!e.C[1]||4!=Jc(e)||2!=e.ba()))if(e.v&&4==Jc(e))is(e.Fa,0,e);else if(zu(e,"readystatechange"),4==Jc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Js)[1]||null;if(!o&&Da.self&&Da.self.location){var a=Da.self.location.protocol;o=a.substr(0,a.length-1)}i=!Gc.test(o?o.toLowerCase():"")}t=i}if(t)zu(e,"complete"),zu(e,"success");else{e.m=6;try{var u=2<Jc(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Qc(e)}}finally{Yc(e)}}}function Yc(e,t){if(e.g){Xc(e);var n=e.g,r=e.C[0]?ka:null;e.g=null,e.C=null,t||zu(e,"ready");try{n.onreadystatechange=r}catch(Qw){}}}function Xc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Da.clearTimeout(e.A),e.A=null)}function Jc(e){return e.g?e.g.readyState:0}function Zc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function el(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ja(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):oc(e,t,n))}function tl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nl(e){this.za=0,this.l=[],this.h=new fs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tl("baseRetryDelayMs",5e3,e),this.$a=tl("retryDelaySeedMs",1e4,e),this.Ya=tl("forwardChannelMaxRetries",2,e),this.ra=tl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Sc(e&&e.concurrentRequestLimit),this.Ca=new Pc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function rl(e){if(ol(e),3==e.G){var t=e.V++,n=ec(e.F);oc(n,"SID",e.J),oc(n,"RID",t),oc(n,"TYPE","terminate"),cl(e,n),(t=new Ps(e,e.h,t,void 0)).K=2,t.v=ac(ec(n)),n=!1,Da.navigator&&Da.navigator.sendBeacon&&(n=Da.navigator.sendBeacon(t.v.toString(),"")),!n&&Da.Image&&((new Image).src=t.v,n=!0),n||(t.g=El(t.l,null),t.g.ea(t.v)),t.F=Date.now(),qs(t)}bl(e)}function il(e){e.g&&(hl(e),e.g.cancel(),e.g=null)}function ol(e){il(e),e.u&&(Da.clearTimeout(e.u),e.u=null),gl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Da.clearTimeout(e.m),e.m=null)}function al(e,t){e.l.push(new Ec(e.Za++,t)),3==e.G&&ul(e)}function ul(e){Tc(e.i)||e.m||(e.m=!0,Ju(e.Ha,e),e.C=0)}function sl(e,t){var n;n=t?t.m:e.V++;var r=ec(e.F);oc(r,"SID",e.J),oc(r,"RID",n),oc(r,"AID",e.U),cl(e,r),e.o&&e.s&&el(r,e.o,e.s),n=new Ps(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ll(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Dc(e.i,n),Fs(n,r,t)}function cl(e,t){e.j&&Qs({},(function(e,n){oc(t,n,e)}))}function ll(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ma(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=o))o=Math.max(0,i[s].h-100),u=!1;else try{Oc(l,a,"req"+c+"_")}catch(nf){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function fl(e){e.g||e.u||(e.Y=1,Ju(e.Ga,e),e.A=0)}function dl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Es(Ma(e.Ga,e),ml(e,e.A)),e.A++,!0)}function hl(e){null!=e.B&&(Da.clearTimeout(e.B),e.B=null)}function pl(e){e.g=new Ps(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=ec(e.oa);oc(t,"RID","rpc"),oc(t,"SID",e.J),oc(t,"CI",e.N?"0":"1"),oc(t,"AID",e.U),cl(e,t),oc(t,"TYPE","xmlhttp"),e.o&&e.s&&el(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ac(ec(t)),n.s=null,n.U=!0,Bs(n,e)}function gl(e){null!=e.v&&(Da.clearTimeout(e.v),e.v=null)}function vl(e,t){var n=null;if(e.g==t){gl(e),hl(e),e.g=null;var r=2}else{if(!Cc(e.i,t))return;n=t.D,kc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zu(r=gs(),new ws(r,n,t,i)),ul(e)}else fl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Es(Ma(e.Ha,e,t),ml(e,e.C)),e.C++,!0))}(e,t)||2==r&&dl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yl(e,5);break;case 4:yl(e,10);break;case 3:yl(e,6);break;default:yl(e,2)}}function ml(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function yl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ma(e.jb,e);n||(n=new Zs("//www.google.com/images/cleardot.gif"),Da.location&&"http"==Da.location.protocol||tc(n,"https"),ac(n)),function(e,t){var n=new fs;if(Da.Image){var r=new Image;r.onload=Fa(Rc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fa(Rc,n,r,"TestLoadImage: error",!1,t),r.onabort=Fa(Rc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fa(Rc,n,r,"TestLoadImage: timeout",!1,t),Da.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bs(2);e.G=0,e.j&&e.j.va(t),bl(e),ol(e)}function bl(e){e.G=0,e.I=-1,e.j&&(0==Nc(e.i).length&&0==e.l.length||(e.i.i.length=0,Ga(e.l),e.l.length=0),e.j.ua())}function wl(e,t,n){var r=function(e){return e instanceof Zs?ec(e):new Zs(e,void 0)}(n);if(""!=r.i)t&&nc(r,t+"."+r.i),rc(r,r.m);else{var i=Da.location;r=function(e,t,n,r){var i=new Zs(null,void 0);return e&&tc(i,e),t&&nc(i,t),n&&rc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ja(e.aa,(function(e,t){oc(r,t,e)})),t=e.D,n=e.sa,t&&n&&oc(r,t,n),oc(r,"VER",e.ma),cl(e,r),r}function El(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new qc(new Lc({ib:!0})):new qc(e.qa)).L=e.H,t}function Sl(){}function Il(){if(ou&&!(10<=Number(yu)))throw Error("Environmental error: no available transport.")}function _l(e,t){qu.call(this),this.g=new nl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ha(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ha(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cl(this)}function Tl(e){ks.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xl(){Ns.call(this),this.status=1}function Cl(e){this.g=e}(Ta=qc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cs.g(),this.C=this.u?Ts(this.u):Ts(Cs),this.g.onreadystatechange=Ma(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Kc(this,o)}e=n||"";var i=new $s(this.headers);r&&Qs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Da.FormData&&e instanceof Da.FormData,!(0<=ja(Hc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xc(this),0<this.B&&((this.K=function(e){return ou&&vu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ma(this.pa,this)):this.A=is(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Kc(this,o)}},Ta.pa=function(){"undefined"!=typeof Ca&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zu(this,"timeout"),this.abort(8))},Ta.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zu(this,"complete"),zu(this,"abort"),Yc(this))},Ta.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yc(this,!0)),qc.Z.M.call(this)},Ta.Fa=function(){this.s||(this.F||this.v||this.l?$c(this):this.cb())},Ta.cb=function(){$c(this)},Ta.ba=function(){try{return 2<Jc(this)?this.g.status:-1}catch(Ic){return-1}},Ta.ga=function(){try{return this.g?this.g.responseText:""}catch(Ic){return""}},Ta.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jc(t)}},Ta.Da=function(){return this.m},Ta.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ta=nl.prototype).ma=8,Ta.G=1,Ta.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ta.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ps(this,this.h,e,void 0),n=this.s;if(this.P&&(n?tu(n=Za(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ll(this,t,r),oc(i=ec(this.F),"RID",e),oc(i,"CVER",22),this.D&&oc(i,"X-HTTP-Session-Id",this.D),cl(this,i),this.o&&n&&el(i,this.o,n),Dc(this.i,t),this.Ra&&oc(i,"TYPE","init"),this.ja?(oc(i,"$req",r),oc(i,"SID","null"),t.$=!0,Fs(t,i,null)):Fs(t,i,r),this.G=2}}else 3==this.G&&(e?sl(this,e):0==this.l.length||Tc(this.i)||sl(this))},Ta.Ga=function(){if(this.u=null,pl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Es(Ma(this.bb,this),e)}},Ta.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bs(10),il(this),pl(this))},Ta.ab=function(){null!=this.v&&(this.v=null,il(this),dl(this),bs(19))},Ta.jb=function(e){e?(this.h.info("Successfully pinged google.com"),bs(2)):(this.h.info("Failed to ping google.com"),bs(1))},(Ta=Sl.prototype).xa=function(){},Ta.wa=function(){},Ta.va=function(){},Ta.ua=function(){},Ta.Oa=function(){},Il.prototype.g=function(e,t){return new _l(e,t)},Ba(_l,qu),_l.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ju(Ma(e.hb,e,t))),bs(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=wl(e,null,e.W),ul(e)},_l.prototype.close=function(){rl(this.g)},_l.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,al(this.g,t)}else this.v?((t={}).__data__=Hu(e),al(this.g,t)):al(this.g,e)},_l.prototype.M=function(){this.g.j=null,delete this.j,rl(this.g),delete this.g,_l.Z.M.call(this)},Ba(Tl,ks),Ba(xl,Ns),Ba(Cl,Sl),Cl.prototype.xa=function(){zu(this.g,"a")},Cl.prototype.wa=function(e){zu(this.g,new Tl(e))},Cl.prototype.va=function(e){zu(this.g,new xl(e))},Cl.prototype.ua=function(){zu(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,_l.prototype.send=_l.prototype.u,_l.prototype.open=_l.prototype.m,_l.prototype.close=_l.prototype.close,Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,Is.COMPLETE="complete",xs.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",qu.prototype.listen=qu.prototype.N,qc.prototype.listenOnce=qc.prototype.O,qc.prototype.getLastError=qc.prototype.La,qc.prototype.getLastErrorCode=qc.prototype.Da,qc.prototype.getStatus=qc.prototype.ba,qc.prototype.getResponseJson=qc.prototype.Qa,qc.prototype.getResponseText=qc.prototype.ga,qc.prototype.send=qc.prototype.ea;var Dl=function(){return new Il},kl=function(){return gs()},Nl=Ss,Al=Is,Pl=hs,Ol={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rl=Lc,Ll=xs,Ml=qc;var Fl=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Fl.o=-1;var Bl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ul=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Io(t,e),t}(Error),Vl=new oa("@firebase/firestore");function jl(){return Vl.logLevel}function ql(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vl.logLevel<=Jo.DEBUG){var r=t.map(Hl);Vl.debug.apply(Vl,ko(["Firestore (8.10.1): "+e],r))}}function zl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vl.logLevel<=Jo.ERROR){var r=t.map(Hl);Vl.error.apply(Vl,ko(["Firestore (8.10.1): "+e],r))}}function Gl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Vl.logLevel<=Jo.WARN){var r=t.map(Hl);Vl.warn.apply(Vl,ko(["Firestore (8.10.1): "+e],r))}}function Hl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wl(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw zl(t),new Error(t)}function Kl(e,t){e||Wl()}function Ql(e,t){return e}function $l(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Yl=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=$l(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Xl(e,t){return e<t?-1:e>t?1:0}function Jl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Zl(e){return e+"\0"}var ef=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ul(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ul(Bl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ul(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ul(Bl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Xl(this.nanoseconds,e.nanoseconds):Xl(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),tf=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ef(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function nf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function of(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var af=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Wl(),void 0===n?n=e.length-t:n>e.length-t&&Wl(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(af),sf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return sf.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ul(Bl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ul(Bl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Ul(Bl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(af),lf=function(){function e(e){this.fields=e,e.sort(cf.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Jl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),ff=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Xl(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();ff.EMPTY_BYTE_STRING=new ff("");var df=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(e){if(Kl(!!e),"string"==typeof e){var t=0,n=df.exec(e);if(Kl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pf(e.seconds),nanos:pf(e.nanos)}}function pf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gf(e){return"string"==typeof e?ff.fromBase64String(e):ff.fromUint8Array(e)}function vf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mf(e){var t=e.mapValue.fields.__previous_value__;return vf(t)?mf(t):t}function yf(e){var t=hf(e.mapValue.fields.__local_write_time__.timestampValue);return new ef(t.seconds,t.nanos)}function bf(e){return null==e}function wf(e){return 0===e&&1/e==-1/0}function Ef(e){return"number"==typeof e&&Number.isInteger(e)&&!wf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Sf=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(uf.fromString(t))},e.fromName=function(t){return new e(uf.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===uf.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return uf.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new uf(t.slice()))},e}();function If(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vf(e)?4:10:Wl()}function _f(e,t){var n=If(e);if(n!==If(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yf(e).isEqual(yf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=hf(e.timestampValue),r=hf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return gf(e.bytesValue).isEqual(gf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pf(e.geoPointValue.latitude)===pf(t.geoPointValue.latitude)&&pf(e.geoPointValue.longitude)===pf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pf(e.integerValue)===pf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pf(e.doubleValue),r=pf(t.doubleValue);return n===r?wf(n)===wf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jl(e.arrayValue.values||[],t.arrayValue.values||[],_f);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nf(n)!==nf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_f(n[i],r[i])))return!1;return!0}(e,t);default:return Wl()}}function Tf(e,t){return void 0!==(e.values||[]).find((function(e){return _f(e,t)}))}function xf(e,t){var n=If(e),r=If(t);if(n!==r)return Xl(n,r);switch(n){case 0:return 0;case 1:return Xl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pf(e.integerValue||e.doubleValue),r=pf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Cf(e.timestampValue,t.timestampValue);case 4:return Cf(yf(e),yf(t));case 5:return Xl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=gf(e),r=gf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Xl(n[i],r[i]);if(0!==o)return o}return Xl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xl(pf(e.latitude),pf(t.latitude));return 0!==n?n:Xl(pf(e.longitude),pf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=xf(n[i],r[i]);if(o)return o}return Xl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=Xl(r[a],o[a]);if(0!==u)return u;var s=xf(n[r[a]],i[o[a]]);if(0!==s)return s}return Xl(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Wl()}}function Cf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xl(e,t);var n=hf(e),r=hf(t),i=Xl(n.seconds,r.seconds);return 0!==i?i:Xl(n.nanos,r.nanos)}function Df(e){return kf(e)}function kf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=hf(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Sf.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=kf(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+kf(e.fields[o])}return t+"}"}(e.mapValue):Wl();var t,n}function Nf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Af(e){return!!e&&"integerValue"in e}function Pf(e){return!!e&&"arrayValue"in e}function Of(e){return!!e&&"nullValue"in e}function Rf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Lf(e){return!!e&&"mapValue"in e}function Mf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return rf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Mf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mf(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ff=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Lf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)},e.prototype.setAll=function(e){var t=this,n=cf.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Mf(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return _f(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Lf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){rf(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Mf(this.value))},e}();function Bf(e){var t=[];return rf(e.fields,(function(e,n){var r=new cf([e]);if(Lf(n)){var i=Bf(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new lf(t)}var Uf=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,tf.min(),Ff.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ff.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ff.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ff.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ff.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Vf=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function jf(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Vf(e,t,n,r,i,o,a)}function qf(e){var t=Ql(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Df(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=td(t.startAt)),t.endAt&&(n+="|ub:",n+=td(t.endAt)),t.h=n}return t.h}function zf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!_f(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!od(e.startAt,t.startAt)&&od(e.endAt,t.endAt)}function Gf(e){return Sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Hf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Io(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Wf(e,n,r):"array-contains"===n?new Yf(e,r):"in"===n?new Xf(e,r):"not-in"===n?new Jf(e,r):"array-contains-any"===n?new Zf(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Kf(e,n):new Qf(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(xf(t,this.value)):null!==t&&If(this.value)===If(t)&&this.m(xf(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wl()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Wf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Sf.fromName(r.referenceValue),i}return Io(t,e),t.prototype.matches=function(e){var t=Sf.comparator(e.key,this.key);return this.m(t)},t}(Hf),Kf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=$f("in",n),r}return Io(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Hf),Qf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=$f("not-in",n),r}return Io(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Hf);function $f(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Sf.fromName(e.referenceValue)}))}var Yf=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Io(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Pf(t)&&Tf(t.arrayValue,this.value)},t}(Hf),Xf=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Io(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Tf(this.value.arrayValue,t)},t}(Hf),Jf=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Io(t,e),t.prototype.matches=function(e){if(Tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Tf(this.value.arrayValue,t)},t}(Hf),Zf=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Io(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Tf(t.value.arrayValue,e)}))},t}(Hf),ed=function(e,t){this.position=e,this.before=t};function td(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Df(e)})).join(",")}var nd=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function rd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function id(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Sf.comparator(Sf.fromName(a.referenceValue),n.key):xf(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function od(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_f(e.position[n],t.position[n]))return!1;return!0}var ad=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function ud(e,t,n,r,i,o,a,u){return new ad(e,t,n,r,i,o,a,u)}function sd(e){return new ad(e)}function cd(e){return!bf(e.limit)&&"F"===e.limitType}function ld(e){return!bf(e.limit)&&"L"===e.limitType}function fd(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function dd(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function hd(e){return null!==e.collectionGroup}function pd(e){var t=Ql(e);if(null===t.p){t.p=[];var n=dd(t),r=fd(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new nd(n)),t.p.push(new nd(cf.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new nd(cf.keyField(),s))}}}return t.p}function gd(e){var t=Ql(e);if(!t.T)if("F"===t.limitType)t.T=jf(t.path,t.collectionGroup,pd(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=pd(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new nd(o.field,a))}var u=t.endAt?new ed(t.endAt.position,!t.endAt.before):null,s=t.startAt?new ed(t.startAt.position,!t.startAt.before):null;t.T=jf(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function vd(e,t,n){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function md(e,t){return zf(gd(e),gd(t))&&e.limitType===t.limitType}function yd(e){return qf(gd(e))+"|lt:"+e.limitType}function bd(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Df(t.value);var t})).join(", ")+"]"),bf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+td(e.startAt)),e.endAt&&(t+=", endAt: "+td(e.endAt)),"Target("+t+")"}(gd(e))+"; limitType="+e.limitType+")"}function wd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!id(e.startAt,pd(e),t))&&(!e.endAt||!id(e.endAt,pd(e),t))}(e,t)}function Ed(e){return function(t,n){for(var r=!1,i=0,o=pd(e);i<o.length;i++){var a=o[i],u=Sd(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function Sd(e,t,n){var r=e.field.isKeyField()?Sf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xf(r,i):Wl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wl()}}function Id(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wf(t)?"-0":t}}function _d(e){return{integerValue:""+e}}function Td(e,t){return Ef(t)?_d(t):Id(e,t)}var xd=function(){this._=void 0};function Cd(e,t,n){return e instanceof Nd?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ad?Pd(e,t):e instanceof Od?Rd(e,t):function(e,t){var n=kd(e,t),r=Md(n)+Md(e.A);return Af(n)&&Af(e.A)?_d(r):Id(e.R,r)}(e,t)}function Dd(e,t,n){return e instanceof Ad?Pd(e,t):e instanceof Od?Rd(e,t):n}function kd(e,t){return e instanceof Ld?Af(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t}(xd),Ad=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Io(t,e),t}(xd);function Pd(e,t){for(var n=Fd(t),r=function(e){n.some((function(t){return _f(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Od=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Io(t,e),t}(xd);function Rd(e,t){for(var n=Fd(t),r=function(e){n=n.filter((function(t){return!_f(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ld=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Io(t,e),t}(xd);function Md(e){return pf(e.integerValue||e.doubleValue)}function Fd(e){return Pf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Bd=function(e,t){this.field=e,this.transform=t},Ud=function(e,t){this.version=e,this.transformResults=t},Vd=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function jd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qd=function(){};function zd(e,t,n){e instanceof Qd?function(e,t,n){var r=e.value.clone(),i=Xd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $d?function(e,t,n){if(jd(e.precondition,t)){var r=Xd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gd(e,t,n){e instanceof Qd?function(e,t,n){if(jd(e.precondition,t)){var r=e.value.clone(),i=Jd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Kd(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $d?function(e,t,n){if(jd(e.precondition,t)){var r=Jd(e.fieldTransforms,n,t),i=t.data;i.setAll(Yd(e)),i.setAll(r),t.convertToFoundDocument(Kd(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){jd(e.precondition,t)&&t.convertToNoDocument(tf.min())}(e,t)}function Hd(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=kd(o.transform,a||null);null!=u&&(null==n&&(n=Ff.empty()),n.set(o.field,u))}return n||null}function Wd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ad&&t instanceof Ad||e instanceof Od&&t instanceof Od?Jl(e.elements,t.elements,_f):e instanceof Ld&&t instanceof Ld?_f(e.A,t.A):e instanceof Nd&&t instanceof Nd}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Kd(e){return e.isFoundDocument()?e.version:tf.min()}var Qd=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Io(t,e),t}(qd),$d=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Io(t,e),t}(qd);function Yd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Xd(e,t,n){var r=new Map;Kl(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Dd(a,u,n[i]))}return r}function Jd(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Cd(u,s,t))}return r}var Zd,eh,th=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Io(t,e),t}(qd),nh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Io(t,e),t}(qd),rh=function(e){this.count=e};function ih(e){switch(e){case Bl.OK:return Wl();case Bl.CANCELLED:case Bl.UNKNOWN:case Bl.DEADLINE_EXCEEDED:case Bl.RESOURCE_EXHAUSTED:case Bl.INTERNAL:case Bl.UNAVAILABLE:case Bl.UNAUTHENTICATED:return!1;case Bl.INVALID_ARGUMENT:case Bl.NOT_FOUND:case Bl.ALREADY_EXISTS:case Bl.PERMISSION_DENIED:case Bl.FAILED_PRECONDITION:case Bl.ABORTED:case Bl.OUT_OF_RANGE:case Bl.UNIMPLEMENTED:case Bl.DATA_LOSS:return!0;default:return Wl()}}function oh(e){if(void 0===e)return zl("GRPC error has no .code"),Bl.UNKNOWN;switch(e){case Zd.OK:return Bl.OK;case Zd.CANCELLED:return Bl.CANCELLED;case Zd.UNKNOWN:return Bl.UNKNOWN;case Zd.DEADLINE_EXCEEDED:return Bl.DEADLINE_EXCEEDED;case Zd.RESOURCE_EXHAUSTED:return Bl.RESOURCE_EXHAUSTED;case Zd.INTERNAL:return Bl.INTERNAL;case Zd.UNAVAILABLE:return Bl.UNAVAILABLE;case Zd.UNAUTHENTICATED:return Bl.UNAUTHENTICATED;case Zd.INVALID_ARGUMENT:return Bl.INVALID_ARGUMENT;case Zd.NOT_FOUND:return Bl.NOT_FOUND;case Zd.ALREADY_EXISTS:return Bl.ALREADY_EXISTS;case Zd.PERMISSION_DENIED:return Bl.PERMISSION_DENIED;case Zd.FAILED_PRECONDITION:return Bl.FAILED_PRECONDITION;case Zd.ABORTED:return Bl.ABORTED;case Zd.OUT_OF_RANGE:return Bl.OUT_OF_RANGE;case Zd.UNIMPLEMENTED:return Bl.UNIMPLEMENTED;case Zd.DATA_LOSS:return Bl.DATA_LOSS;default:return Wl()}}(eh=Zd||(Zd={}))[eh.OK=0]="OK",eh[eh.CANCELLED=1]="CANCELLED",eh[eh.UNKNOWN=2]="UNKNOWN",eh[eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eh[eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eh[eh.NOT_FOUND=5]="NOT_FOUND",eh[eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",eh[eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",eh[eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",eh[eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eh[eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eh[eh.ABORTED=10]="ABORTED",eh[eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",eh[eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",eh[eh.INTERNAL=13]="INTERNAL",eh[eh.UNAVAILABLE=14]="UNAVAILABLE",eh[eh.DATA_LOSS=15]="DATA_LOSS";var ah=function(){function e(e,t){this.comparator=e,this.root=t||sh.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sh.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sh.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new uh(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new uh(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new uh(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new uh(this.root,e,this.comparator,!0)},e}(),uh=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),sh=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wl();if(this.right.isRed())throw Wl();var e=this.left.check();if(e!==this.right.check())throw Wl();return e+(this.isRed()?0:1)},e}();sh.EMPTY=null,sh.RED=!0,sh.BLACK=!1,sh.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Wl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Wl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Wl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Wl()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Wl()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new sh(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ch=function(){function e(e){this.comparator=e,this.data=new ah(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new lh(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new lh(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),lh=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),fh=new ah(Sf.comparator);function dh(){return fh}var hh=new ah(Sf.comparator);function ph(){return hh}var gh=new ah(Sf.comparator);function vh(){return gh}var mh=new ch(Sf.comparator);function yh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=mh,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var bh=new ch(Xl);function wh(){return bh}var Eh=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Sh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(tf.min(),r,wh(),dh(),yh())},e}(),Sh=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ff.EMPTY_BYTE_STRING,n,yh(),yh(),yh())},e}(),Ih=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},_h=function(e,t){this.targetId=e,this.V=t},Th=function(e,t,n,r){void 0===n&&(n=ff.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},xh=function(){function e(){this.S=0,this.D=kh(),this.C=ff.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=yh(),t=yh(),n=yh();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wl()}})),new Sh(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=kh()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Ch=function(){function e(e){this.W=e,this.G=new Map,this.H=dh(),this.J=Dh(),this.Y=new ch(Xl)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Wl()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Gf(i))if(0===n){var o=new Sf(i.path);this.tt(t,o,Uf.newNoDocument(o,tf.min()))}else Kl(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Gf(o.target)){var a=new Sf(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Uf.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=yh();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Eh(e,n,this.Y,this.H,r);return this.H=dh(),this.J=Dh(),this.Y=new ch(Xl),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new xh,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ch(Xl),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||ql("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new xh),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Dh(){return new ah(Sf.comparator)}function kh(){return new ah(Sf.comparator)}var Nh={asc:"ASCENDING",desc:"DESCENDING"},Ah={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ph=function(e,t){this.databaseId=e,this.I=t};function Oh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rh(e,t){return e.I?t.toBase64():t.toUint8Array()}function Lh(e,t){return Oh(e,t.toTimestamp())}function Mh(e){return Kl(!!e),tf.fromTimestamp(function(e){var t=hf(e);return new ef(t.seconds,t.nanos)}(e))}function Fh(e,t){return function(e){return new uf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bh(e){var t=uf.fromString(e);return Kl(sp(t)),t}function Uh(e,t){return Fh(e.databaseId,t.path)}function Vh(e,t){var n=Bh(t);if(n.get(1)!==e.databaseId.projectId)throw new Ul(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ul(Bl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sf(Gh(n))}function jh(e,t){return Fh(e.databaseId,t)}function qh(e){var t=Bh(e);return 4===t.length?uf.emptyPath():Gh(t)}function zh(e){return new uf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gh(e){return Kl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hh(e,t,n){return{name:Uh(e,t),fields:n.value.mapValue.fields}}function Wh(e,t,n){var r=Vh(e,t.name),i=Mh(t.updateTime),o=new Ff({mapValue:{fields:t.fields}}),a=Uf.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Kh(e,t){var n;if(t instanceof Qd)n={update:Hh(e,t.key,t.value)};else if(t instanceof th)n={delete:Uh(e,t.key)};else if(t instanceof $d)n={update:Hh(e,t.key,t.data),updateMask:up(t.fieldMask)};else{if(!(t instanceof nh))return Wl();n={verify:Uh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Nd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ad)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Od)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ld)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Wl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Lh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wl()}(e,t.precondition)),n}function Qh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Vd.updateTime(Mh(e.updateTime)):void 0!==e.exists?Vd.exists(e.exists):Vd.none()}(t.currentDocument):Vd.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Kl("REQUEST_TIME"===t.setToServerValue),n=new Nd;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ad(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Od(i)}else"increment"in t?n=new Ld(e,t.increment):Wl();var o=cf.fromServerFormat(t.fieldPath);return new Bd(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Vh(e,t.update.name),o=new Ff({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new lf(t.map((function(e){return cf.fromServerFormat(e)})))}(t.updateMask);return new $d(i,o,a,n,r)}return new Qd(i,o,n,r)}if(t.delete){var u=Vh(e,t.delete);return new th(u,n)}if(t.verify){var s=Vh(e,t.verify);return new nh(s,n)}return Wl()}function $h(e,t){return{documents:[jh(e,t.path)]}}function Yh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=jh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Rf(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NAN"}};if(Of(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Rf(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NAN"}};if(Of(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(e.field),op:np(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rp(e.field),direction:tp(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||bf(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Zh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Zh(t.endAt)),n}function Xh(e){var t=qh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Kl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Jh(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new nd(ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return bf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=ep(n.startAt));var l=null;return n.endAt&&(l=ep(n.endAt)),ud(t,i,u,a,s,"F",c,l)}function Jh(e){return e?void 0!==e.unaryFilter?[ap(e)]:void 0!==e.fieldFilter?[op(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jh(e)})).reduce((function(e,t){return e.concat(t)})):Wl():[]}function Zh(e){return{before:e.before,values:e.position}}function ep(e){var t=!!e.before,n=e.values||[];return new ed(n,t)}function tp(e){return Nh[e]}function np(e){return Ah[e]}function rp(e){return{fieldPath:e.canonicalString()}}function ip(e){return cf.fromServerFormat(e.fieldPath)}function op(e){return Hf.create(ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wl()}}(e.fieldFilter.op),e.fieldFilter.value)}function ap(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ip(e.unaryFilter.field);return Hf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ip(e.unaryFilter.field);return Hf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ip(e.unaryFilter.field);return Hf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ip(e.unaryFilter.field);return Hf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wl()}}function up(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function cp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fp(t)),t=lp(e.get(n),t);return fp(t)}function lp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function fp(e){return e+"\x01\x01"}function dp(e){var t=e.length;if(Kl(t>=2),2===t)return Kl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),uf.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Wl(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Wl()}o=a+2}return new uf(r)}var hp=function(e,t){this.seconds=e,this.nanoseconds=t},pp=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};pp.store="owner",pp.key="owner";var gp=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};gp.store="mutationQueues",gp.keyPath="userId";var vp=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vp.store="mutations",vp.keyPath="batchId",vp.userMutationsIndex="userMutationsIndex",vp.userMutationsKeyPath=["userId","batchId"];var mp=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,cp(t)]},e.key=function(e,t,n){return[e,cp(t),n]},e}();mp.store="documentMutations",mp.PLACEHOLDER=new mp;var yp=function(e,t){this.path=e,this.readTime=t},bp=function(e,t){this.path=e,this.version=t},wp=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};wp.store="remoteDocuments",wp.readTimeIndex="readTimeIndex",wp.readTimeIndexPath="readTime",wp.collectionReadTimeIndex="collectionReadTimeIndex",wp.collectionReadTimeIndexPath=["parentPath","readTime"];var Ep=function(e){this.byteSize=e};Ep.store="remoteDocumentGlobal",Ep.key="remoteDocumentGlobalKey";var Sp=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Sp.store="targets",Sp.keyPath="targetId",Sp.queryTargetsIndexName="queryTargetsIndex",Sp.queryTargetsKeyPath=["canonicalId","targetId"];var Ip=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ip.store="targetDocuments",Ip.keyPath=["targetId","path"],Ip.documentTargetsIndex="documentTargetsIndex",Ip.documentTargetsKeyPath=["path","targetId"];var _p=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_p.key="targetGlobalKey",_p.store="targetGlobal";var Tp=function(e,t){this.collectionId=e,this.parent=t};Tp.store="collectionParents",Tp.keyPath=["collectionId","parent"];var xp=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};xp.store="clientMetadata",xp.keyPath="clientId";var Cp=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Cp.store="bundles",Cp.keyPath="bundleId";var Dp=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Dp.store="namedQueries",Dp.keyPath="name";var kp=ko(ko([],ko(ko([],ko(ko([],ko(ko([],[gp.store,vp.store,mp.store,wp.store,Sp.store,pp.store,_p.store,Ip.store]),[xp.store])),[Ep.store])),[Tp.store])),[Cp.store,Dp.store]),Np="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ap=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Pp=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Op=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Wl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Rp=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Pp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Fp(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=qp(t.target.error);n.ft.reject(new Fp(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Fp(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(ql("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Up(t)},e}(),Lp=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Mo())&&zl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return ql("SimpleDb","Removing database:",e),Vp(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Mo(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/eurovision-scorer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return To(this,void 0,void 0,(function(){var t,n=this;return xo(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(ql("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Fp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Ul(Bl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Fp(e,n))},i.onupgradeneeded=function(e){ql("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){ql("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return To(this,void 0,void 0,(function(){var i,o,a,u,s;return xo(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,s,c,l;return xo(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=f.sent(),t=Rp.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Op.reject(e)})).toPromise(),s={},a.catch((function(){})),[4,t.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,ql("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Mp=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Vp(this.Pt.delete())},e}(),Fp=function(e){function t(t,n){var r=this;return(r=e.call(this,Bl.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Io(t,e),t}(Ul);function Bp(e){return"IndexedDbTransactionError"===e.name}var Up=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(ql("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ql("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vp(n)},e.prototype.add=function(e){return ql("SimpleDb","ADD",this.store.name,e,e),Vp(this.store.add(e))},e.prototype.get=function(e){var t=this;return Vp(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ql("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return ql("SimpleDb","DELETE",this.store.name,e),Vp(this.store.delete(e))},e.prototype.count=function(){return ql("SimpleDb","COUNT",this.store.name),Vp(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){ql("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new Op((function(n,r){t.onerror=function(e){var t=qp(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Op((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Mp(i),a=t(i.primaryKey,i.value,o);if(a instanceof Op){var u=a.catch((function(e){return o.done(),Op.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Op.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Vp(e){return new Op((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qp(e.target.error);n(t)}}))}var jp=!1;function qp(e){var t=Lp._t(Mo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ul("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return jp||(jp=!0,setTimeout((function(){throw r}),0)),r}}return e}var zp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Io(t,e),t}(Ap);function Gp(e,t){var n=Ql(e);return Lp.It(n.Mt,t)}var Hp=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zd(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Gd(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Gd(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(tf.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),yh())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(function(e,t){return Wd(e,t)}))&&Jl(this.baseMutations,e.baseMutations,(function(e,t){return Wd(e,t)}))},e}(),Wp=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Kl(t.mutations.length===r.length);for(var i=vh(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Kp=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=tf.min()),void 0===o&&(o=tf.min()),void 0===a&&(a=ff.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Qp=function(e){this.Lt=e};function $p(e,t){if(t.document)return Wh(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Sf.fromSegments(t.noDocument.path),r=eg(t.noDocument.readTime),i=Uf.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Sf.fromSegments(t.unknownDocument.path);return r=eg(t.unknownDocument.version),Uf.newUnknownDocument(o,r)}return Wl()}function Yp(e,t,n){var r=Xp(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Uh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Oh(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new wp(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Zp(t.version);return a=t.hasCommittedMutations,new wp(null,new yp(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Zp(t.version);return new wp(new bp(c,l),null,null,!0,r,i)}return Wl()}function Xp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Jp(e){var t=new ef(e[0],e[1]);return tf.fromTimestamp(t)}function Zp(e){var t=e.toTimestamp();return new hp(t.seconds,t.nanoseconds)}function eg(e){var t=new ef(e.seconds,e.nanoseconds);return tf.fromTimestamp(t)}function tg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qh(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Qh(e.Lt,t)})),u=ef.fromMillis(t.localWriteTimeMs);return new Hp(t.batchId,u,n,a)}function ng(e){var t,n,r=eg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?eg(e.lastLimboFreeSnapshotVersion):tf.min();return void 0!==e.query.documents?(Kl(1===(n=e.query).documents.length),t=gd(sd(qh(n.documents[0])))):t=function(e){return gd(Xh(e))}(e.query),new Kp(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ff.fromBase64String(e.resumeToken))}function rg(e,t){var n,r=Zp(t.snapshotVersion),i=Zp(t.lastLimboFreeSnapshotVersion);n=Gf(t.target)?$h(e.Lt,t.target):Yh(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Sp(t.targetId,qf(t.target),r,o,t.sequenceNumber,i,n)}function ig(e){var t=Xh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vd(t,t.limit,"L"):t}var og=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return ag(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:eg(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return ag(e).put({bundleId:(n=t).id,createTime:Zp(Mh(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return ug(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ig(t.bundledQuery),readTime:eg(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return ug(e).put(function(e){return{name:e.name,readTime:Zp(Mh(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function ag(e){return Gp(e,Cp.store)}function ug(e){return Gp(e,Dp.store)}var sg=function(){function e(){this.Bt=new cg}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Op.resolve()},e.prototype.getCollectionParents=function(e,t){return Op.resolve(this.Bt.getEntries(t))},e}(),cg=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ch(uf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ch(uf.comparator)).toArray()},e}(),lg=function(){function e(){this.qt=new cg}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:cp(i)};return fg(e).put(o)}return Op.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Zl(t),""],!1,!0);return fg(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(dp(o.parent))}return n}))},e}();function fg(e){return Gp(e,Tp.store)}var dg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hg=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function pg(e,t,n){var r=e.store(vp.store),i=e.store(mp.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.$t({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){Kl(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var d=f[l],h=mp.key(t,d.key.path,n.batchId);o.push(i.delete(h)),c.push(d.key)}return Op.waitFor(o).next((function(){return c}))}function gg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wl();t=e.noDocument}return JSON.stringify(t).length}hg.DEFAULT_COLLECTION_PERCENTILE=10,hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hg.DEFAULT=new hg(41943040,hg.DEFAULT_COLLECTION_PERCENTILE,hg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hg.DISABLED=new hg(-1,0,0);var vg=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Kl(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yg(e).$t({index:vp.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=bg(e),a=yg(e);return a.add({}).next((function(u){Kl("number"==typeof u);for(var s=new Hp(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Kh(e.Lt,t)})),i=n.mutations.map((function(t){return Kh(e.Lt,t)}));return new vp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new ch((function(e,t){return Xl(e.canonicalString(),t.canonicalString())})),d=0,h=r;d<h.length;d++){var p=h[d],g=mp.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,mp.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[u]=s.keys()})),Op.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return yg(e).get(t).next((function(e){return e?(Kl(e.userId===n.userId),tg(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?Op.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yg(e).$t({index:vp.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Kl(t.batchId>=r),o=tg(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yg(e).$t({index:vp.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yg(e).Nt(vp.userMutationsIndex,n).next((function(e){return e.map((function(e){return tg(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=mp.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return bg(e).$t({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=dp(s);if(u===n.userId&&t.path.isEqual(l))return yg(e).get(c).next((function(e){if(!e)throw Wl();Kl(e.userId===n.userId),o.push(tg(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ch(Xl),i=[];return t.forEach((function(t){var o=mp.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=bg(e).$t({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=dp(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),Op.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=mp.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new ch(Xl);return bg(e).$t({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=dp(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yg(e).get(t).next((function(e){if(null===e)throw Wl();Kl(e.userId===n.userId),r.push(tg(n.R,e))})))})),Op.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return pg(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Op.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Op.resolve();var r=IDBKeyRange.lowerBound(mp.prefixForUser(t.userId)),i=[];return bg(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=dp(e[1]);i.push(o)}else r.done()})).next((function(){Kl(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return mg(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return wg(e).get(this.userId).next((function(e){return e||new gp(t.userId,-1,"")}))},e}();function mg(e,t,n){var r=mp.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return bg(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function yg(e){return Gp(e,vp.store)}function bg(e){return Gp(e,mp.store)}function wg(e){return Gp(e,gp.store)}var Eg=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Sg=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Eg(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return tf.fromTimestamp(new ef(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ig(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Kl(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Ig(e).$t((function(a,u){var s=ng(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return Op.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Ig(e).$t((function(e,n){var r=ng(n);t(r)}))},e.prototype.Xt=function(e){return _g(e).get(_p.key).next((function(e){return Kl(null!==e),e}))},e.prototype.Zt=function(e,t){return _g(e).put(_p.key,t)},e.prototype.te=function(e,t){return Ig(e).put(rg(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=qf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ig(e).$t({range:r,index:Sp.queryTargetsIndexName},(function(e,n,r){var o=ng(n);zf(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Tg(e);return t.forEach((function(t){var a=cp(t.path);i.push(o.put(new Ip(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Op.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Tg(e);return Op.forEach(t,(function(t){var o=cp(t.path);return Op.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Tg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Tg(e),i=yh();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=dp(e[1]),o=new Sf(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=cp(t.path),r=IDBKeyRange.bound([n],[Zl(n)],!1,!0),i=0;return Tg(e).$t({index:Ip.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Ig(e).get(t).next((function(e){return e?ng(e):null}))},e}();function Ig(e){return Gp(e,Sp.store)}function _g(e){return Gp(e,_p.store)}function Tg(e){return Gp(e,Ip.store)}function xg(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){if(e.code!==Bl.FAILED_PRECONDITION||e.message!==Np)throw e;return ql("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Cg(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Xl(n,i);return 0===a?Xl(r,o):a}var Dg=function(){function e(e){this.ne=e,this.buffer=new ch(Cg),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Cg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),kg=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;ql("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return To(t,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Bp(t=n.sent())?(ql("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,xg(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),Ng=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Op.resolve(Fl.o);var r=new Dg(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ql("LruGarbageCollector","Garbage collection skipped; disabled"),Op.resolve(dg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ql("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),dg):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ql("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),jl()<=Jo.DEBUG&&ql("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),Op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Ag=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ng(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Pg(e,n)},e.prototype.removeReference=function(e,t,n){return Pg(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Pg(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return wg(e).Ot((function(r){return mg(e,r,t).next((function(e){return e&&(n=!0),Op.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Tg(e).delete([0,cp(a.path)])}))}));i.push(s)}})).next((function(){return Op.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Pg(e,t)},e.prototype.we=function(e,t){var n,r=Tg(e),i=Fl.o;return r.$t({index:Ip.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==Fl.o&&t(new Sf(dp(n)),i),i=u,n=a):i=Fl.o})).next((function(){i!==Fl.o&&t(new Sf(dp(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Pg(e,t){return Tg(e).put(function(e,t){return new Ip(0,cp(e.path),t)}(t,e.currentSequenceNumber))}var Og=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){rf(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return of(this.inner)},e}(),Rg=function(){function e(){this.changes=new Og((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:tf.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Uf.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Op.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Lg=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Bg(e).put(Ug(t),n)},e.prototype.removeEntry=function(e,t){var n=Bg(e),r=Ug(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Bg(e).get(Ug(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Bg(e).get(Ug(t)).next((function(e){return{document:n.ye(t,e),size:gg(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=dh();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=dh(),i=new ah(Sf.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,gg(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Op.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Bg(e).$t({range:r},(function(e,t,r){for(var a=Sf.fromSegments(e);o&&Sf.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=dh(),o=t.path.length+1,a={};if(n.isEqual(tf.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Xp(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=wp.collectionReadTimeIndex}return Bg(e).$t(a,(function(e,n,a){if(e.length===o){var u=$p(r.R,n);t.path.isPrefixOf(u.key.path)?wd(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Mg(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Fg(e).get(Ep.key).next((function(e){return Kl(!!e),e}))},e.prototype.me=function(e,t){return Fg(e).put(Ep.key,t)},e.prototype.ye=function(e,t){if(t){var n=$p(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(tf.min()))return n}return Uf.newInvalidDocument(e)},e}(),Mg=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Og((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Io(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ch((function(e,t){return Xl(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=Yp(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=gg(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=Yp(t.Ie.R,Uf.newNoDocument(o,tf.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Op.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Rg);function Fg(e){return Gp(e,Ep.store)}function Bg(e){return Gp(e,wp.store)}function Ug(e){return e.path.toArray()}var Vg=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Kl(n<r&&n>=0&&r<=11);var o=new Rp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(pp.store)}(e),function(e){e.createObjectStore(gp.store,{keyPath:gp.keyPath}),e.createObjectStore(vp.store,{keyPath:vp.keyPath,autoIncrement:!0}).createIndex(vp.userMutationsIndex,vp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(mp.store)}(e),jg(e),function(e){e.createObjectStore(wp.store)}(e));var a=Op.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ip.store),e.deleteObjectStore(Sp.store),e.deleteObjectStore(_p.store)}(e),jg(e)),a=a.next((function(){return function(e){var t=e.store(_p.store),n=new _p(0,0,tf.min().toTimestamp(),0);return t.put(_p.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(vp.store).Nt().next((function(n){e.deleteObjectStore(vp.store),e.createObjectStore(vp.store,{keyPath:vp.keyPath,autoIncrement:!0}).createIndex(vp.userMutationsIndex,vp.userMutationsKeyPath,{unique:!0});var r=t.store(vp.store),i=n.map((function(e){return r.put(e)}));return Op.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(xp.store,{keyPath:xp.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Ep.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(wp.store);t.createIndex(wp.readTimeIndex,wp.readTimeIndexPath,{unique:!1}),t.createIndex(wp.collectionReadTimeIndex,wp.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Cp.store,{keyPath:Cp.keyPath})}(e),function(e){e.createObjectStore(Dp.store,{keyPath:Dp.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(wp.store).$t((function(e,n){t+=gg(n)})).next((function(){var n=new Ep(t);return e.store(Ep.store).put(Ep.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(gp.store),r=e.store(vp.store);return n.Nt().next((function(n){return Op.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(vp.userMutationsIndex,i).next((function(r){return Op.forEach(r,(function(r){Kl(r.userId===n.userId);var i=tg(t.R,r);return pg(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Ip.store),n=e.store(wp.store);return e.store(_p.store).get(_p.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new uf(n),a=function(e){return[0,cp(e)]}(o);r.push(t.get(a).next((function(n){return n?Op.resolve():function(n){return t.put(new Ip(0,cp(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Op.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Tp.store,{keyPath:Tp.keyPath});var n=t.store(Tp.store),r=new cg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cp(i)})}};return t.store(wp.store).$t({Ft:!0},(function(e,t){var n=new uf(e);return i(n.popLast())})).next((function(){return t.store(mp.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=dp(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Sp.store);return n.$t((function(e,r){var i=ng(r),o=rg(t.R,i);return n.put(o)}))},e}();function jg(e){e.createObjectStore(Ip.store,{keyPath:Ip.keyPath}).createIndex(Ip.documentTargetsIndex,Ip.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Sp.store,{keyPath:Sp.keyPath}).createIndex(Sp.queryTargetsIndexName,Sp.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_p.store)}var qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zg=function(){function e(t,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Ul(Bl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ag(this,i),this.Le=n+"main",this.R=new Qp(s),this.Be=new Lp(this.Le,11,new Vg(this.R)),this.qe=new Sg(this.referenceDelegate,this.R),this.Ut=new lg,this.Ue=function(e,t){return new Lg(e,t)}(this.R,this.Ut),this.Ke=new og,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&zl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ul(Bl.FAILED_PRECONDITION,qg);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Fl(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return To(t,void 0,void 0,(function(){return xo(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return To(t,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return To(t,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Hg(t).put(new xp(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Bp(t))return ql("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ql("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Gg(e).get(pp.key).next((function(e){return Op.resolve(t.tn(e))}))},e.prototype.en=function(e){return Hg(e).delete(this.clientId)},e.prototype.nn=function(){return To(this,void 0,void 0,(function(){var e,t,n,r,i=this;return xo(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Gp(e,xp.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Op.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Op.resolve(!0):Gg(e).get(pp.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Ul(Bl.FAILED_PRECONDITION,qg);return!1}}return!(!t.networkEnabled||!t.inForeground)||Hg(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ql("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return To(this,void 0,void 0,(function(){var e=this;return xo(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[pp.store,xp.store],(function(t){var n=new zp(t,Fl.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Hg(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return vg.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;ql("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,kp,(function(o){return i=new zp(o,r.Ne?r.Ne.next():Fl.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw zl("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Ul(Bl.FAILED_PRECONDITION,Np);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Gg(e).get(pp.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ul(Bl.FAILED_PRECONDITION,qg)}))},e.prototype.Ze=function(e){var t=new pp(this.clientId,this.allowTabSynchronization,Date.now());return Gg(e).put(pp.key,t)},e.yt=function(){return Lp.yt()},e.prototype.Xe=function(e){var t=this,n=Gg(e);return n.get(pp.key).next((function(e){return t.tn(e)?(ql("IndexedDbPersistence","Releasing primary lease."),n.delete(pp.key)):Op.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(zl("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),!Fo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return ql("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return zl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){zl("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Gg(e){return Gp(e,pp.store)}function Hg(e){return Gp(e,xp.store)}function Wg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Kg=function(e,t){this.progress=e,this.wn=t},Qg=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):hd(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Sf(t)).next((function(e){var t=ph();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=ph();return this.Ut.getCollectionParents(e,i).next((function(a){return Op.forEach(a,(function(a){var u=function(e,t){return new ad(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=Uf.newInvalidDocument(c),r=r.insert(c,l)),Gd(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){wd(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=yh(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof $d&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),$g=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=yh(),i=yh(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Yg=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(tf.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(cd(t)||ld(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(jl()<=Jo.DEBUG&&ql("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bd(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new ch(Ed(e));return t.forEach((function(t,r){wd(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return jl()<=Jo.DEBUG&&ql("QueryEngine","Using full collection scan to execute query:",bd(t)),this.Sn.getDocumentsMatchingQuery(e,t,tf.min())},e}(),Xg=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new ah(Xl),this.Fn=new Og((function(e){return qf(e)}),zf),this.$n=tf.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Qg(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Jg(e,t,n,r){return new Xg(e,t,n,r)}function Zg(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o;return xo(this,(function(a){switch(a.label){case 0:return n=Ql(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Qg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=yh(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var d=f[l];a=a.add(d.key)}}for(var h=0,p=t;h<p.length;h++){var g=p[h];r.push(g.batchId);for(var v=0,m=g.mutations;v<m.length;v++){var y=m[v];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function ev(e,t){var n=Ql(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Op.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Kl(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function tv(e){var t=Ql(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function nv(e,t){var n=Ql(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Kl(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=dh();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(rv(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(tf.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return Op.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.kn=i,e}))}function rv(e,t,n,r,i){var o=yh();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=dh();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(tf.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):ql("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function iv(e,t){var n=Ql(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function ov(e,t){var n=Ql(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Op.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Kp(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function av(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o,a;return xo(this,(function(u){switch(u.label){case 0:r=Ql(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Bp(a=u.sent()))throw a;return ql("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function uv(e,t,n){var r=Ql(e),i=tf.min(),o=yh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ql(e),i=r.Fn.get(n);return void 0!==i?Op.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,gd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:tf.min(),n?o:yh())})).next((function(e){return{documents:e,Bn:o}}))}))}function sv(e,t){var n=Ql(e),r=Ql(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function cv(e){var t=Ql(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ql(e),i=dh(),o=Xp(n),a=Bg(t),u=IDBKeyRange.lowerBound(o,!0);return a.$t({index:wp.readTimeIndex,range:u},(function(e,t){var n=$p(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Jp(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function lv(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){return[2,(t=Ql(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Bg(e),n=tf.min();return t.$t({index:wp.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Jp(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function fv(e,t,n,r){return To(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,d,h;return xo(this,(function(p){switch(p.label){case 0:for(i=Ql(e),o=yh(),a=dh(),u=vh(),s=0,c=n;s<c.length;s++)l=c[s],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),u=u.insert(f,t.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,ov(i,function(e){return gd(sd(uf.fromString("__bundle__/docs/"+e)))}(r))];case 1:return h=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return rv(e,d,a,tf.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,h.targetId).next((function(){return i.qe.addMatchingKeys(e,o,h.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function dv(e,t,n){return void 0===n&&(n=yh()),To(this,void 0,void 0,(function(){var r,i;return xo(this,(function(o){switch(o.label){case 0:return[4,ov(e,gd(ig(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ql(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Mh(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(ff.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var hv=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Op.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:Mh(n.createTime)}),Op.resolve()},e.prototype.getNamedQuery=function(e,t){return Op.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:ig(e.bundledQuery),readTime:Mh(e.readTime)}}(t)),Op.resolve()},e}(),pv=function(){function e(){this.Wn=new ch(gv.Gn),this.zn=new ch(gv.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new gv(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new gv(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Sf(new uf([])),r=new gv(n,e),i=new gv(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Sf(new uf([])),n=new gv(t,e),r=new gv(t,e+1),i=yh();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new gv(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),gv=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Sf.comparator(e.key,t.key)||Xl(e.ns,t.ns)},e.Hn=function(e,t){return Xl(e.ns,t.ns)||Sf.comparator(e.key,t.key)},e}(),vv=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ch(gv.Gn)}return e.prototype.checkEmpty=function(e){return Op.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Hp(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new gv(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return Op.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Op.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Op.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Op.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Op.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new gv(t,0),i=new gv(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Op.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ch(Xl);return t.forEach((function(e){var t=new gv(e,0),i=new gv(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Op.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Sf.isDocumentKey(i)||(i=i.child(""));var o=new gv(new Sf(i),0),a=new ch(Xl);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Op.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Kl(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Op.forEach(t.mutations,(function(i){var o=new gv(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new gv(t,0),r=this.rs.firstAfterOrEqual(n);return Op.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Op.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),mv=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new ah(Sf.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Op.resolve(n?n.document.clone():Uf.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=dh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Uf.newInvalidDocument(e))})),Op.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=dh(),i=new Sf(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||wd(t,c)&&(r=r.insert(c.key,c.clone()))}return Op.resolve(r)},e.prototype.fs=function(e,t){return Op.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new yv(this)},e.prototype.getSize=function(e){return Op.resolve(this.size)},e}(),yv=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Io(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Op.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Rg),bv=function(){function e(e){this.persistence=e,this.ds=new Og((function(e){return qf(e)}),zf),this.lastRemoteSnapshotVersion=tf.min(),this.highestTargetId=0,this.ws=0,this._s=new pv,this.targetCount=0,this.ys=Eg.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Op.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Op.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Op.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Op.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Op.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Eg(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Op.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Op.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Op.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Op.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Op.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Op.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Op.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Op.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Op.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Op.resolve(n)},e.prototype.containsKey=function(e,t){return Op.resolve(this._s.containsKey(t))},e}(),wv=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Fl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new bv(this),this.Ut=new sg,this.Ue=function(e){return new mv(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Qp(t),this.Ke=new hv(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new vv(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;ql("MemoryPersistence","Starting transaction:",e);var i=new Ev(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Op.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Ev=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Io(t,e),t}(Ap),Sv=function(){function e(e){this.persistence=e,this.As=new pv,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wl()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Op.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Op.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Op.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Op.forEach(this.vs,(function(r){var i=Sf.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Op.or([function(){return Op.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Iv=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function _v(e,t){return"firestore_clients_"+e+"_"+t}function Tv(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function xv(e,t){return"firestore_targets_"+e+"_"+t}Iv.UNAUTHENTICATED=new Iv(null),Iv.GOOGLE_CREDENTIALS=new Iv("google-credentials-uid"),Iv.FIRST_PARTY=new Iv("first-party-uid"),Iv.MOCK_USER=new Iv("mock-user");var Cv=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ul(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(zl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Dv=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ul(i.error.code,i.error.message)),o?new e(t,i.state,r):(zl("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),kv=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=wh(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ef(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(zl("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Nv=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(zl("SharedClientState","Failed to parse online state: "+t),null)},e}(),Av=function(){function e(){this.activeTargetIds=wh()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Pv=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ah(Xl),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=_v(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Av),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return To(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,s,c,l,f=this;return xo(this,(function(d){switch(d.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=d.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(_v(this.persistenceKey,r)))&&(o=kv.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.$s;s<c.length;s++)l=c[s],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(xv(this.persistenceKey,e));if(n){var r=Dv.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(xv(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return ql("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){ql("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){ql("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ql("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void zl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return To(t,void 0,void 0,(function(){var e,t,r,i,o,a;return xo(this,(function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Fl.o;if(null!=e)try{var n=JSON.parse(e);Kl("number"==typeof n),t=n}catch(e){zl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Fl.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Cv(this.currentUser,e,t,n),i=Tv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Tv(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=xv(this.persistenceKey,e),i=new Dv(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return kv.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Cv.Vs(new Iv(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Dv.Vs(r,t)},e.prototype.js=function(e){return Nv.Vs(e)},e.prototype.ii=function(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(ql("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=wh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Ov=function(){function e(){this.li=new Av,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Av,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Rv=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Lv=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ql("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){ql("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Mv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fv=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Bv=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Io(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Ml;a.listenOnce(Al.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Nl.NO_ERROR:var t=a.getResponseJson();ql("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nl.TIMEOUT:ql("Connection",'RPC "'+e+'" timed out'),o(new Ul(Bl.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:var n=a.getStatus();if(ql("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bl).indexOf(t)>=0?t:Bl.UNKNOWN}(r.status);o(new Ul(u,r.message))}else o(new Ul(Bl.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ul(Bl.UNAVAILABLE,"Connection failed."));break;default:Wl()}}finally{ql("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Dl(),i=kl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Rl({})),this.ki(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mo())||"object"===typeof navigator&&"ReactNative"===navigator.product||Mo().indexOf("Electron/")>=0||function(){var e=Mo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||Mo().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");ql("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new Fv({Ei:function(e){c?ql("Connection","Not sending because WebChannel is closed:",e):(s||(ql("Connection","Opening WebChannel transport."),u.open(),s=!0),ql("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Ll.EventType.OPEN,(function(){c||ql("Connection","WebChannel transport opened.")})),f(u,Ll.EventType.CLOSE,(function(){c||(c=!0,ql("Connection","WebChannel transport closed"),l.Vi())})),f(u,Ll.EventType.ERROR,(function(e){c||(c=!0,Gl("Connection","WebChannel transport errored:",e),l.Vi(new Ul(Bl.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ll.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Kl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ql("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Zd[e];if(void 0!==t)return oh(t)}(o),s=i.message;void 0===a&&(a=Bl.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new Ul(a,s)),u.close()}else ql("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Pl.STAT_EVENT,(function(e){e.stat===Ol.PROXY?ql("Connection","Detected buffering proxy"):e.stat===Ol.NOPROXY&&ql("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);ql("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return ql("RestConnection","Received: ",e),e}),(function(t){throw Gl("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Mv[e];return this.Di+"/v1/"+t+":"+n},e}());function Uv(){return"undefined"!=typeof window?window:null}function Vv(){return"undefined"!=typeof document?document:null}function jv(e){return new Ph(e,!0)}var qv=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&ql("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),zv=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new qv(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return To(this,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return To(this,void 0,void 0,(function(){return xo(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return To(this,void 0,void 0,(function(){return xo(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Bl.RESOURCE_EXHAUSTED?(zl(t.toString()),zl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Bl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Ul(Bl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return To(e,void 0,void 0,(function(){return xo(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return ql("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(ql("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Gv=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Io(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Kl(void 0===t||"string"==typeof t),ff.fromBase64String(t||"")):(Kl(void 0===t||t instanceof Uint8Array),ff.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?Bl.UNKNOWN:oh(e.code);return new Ul(t,e.message||"")}(u);n=new Th(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Vh(e,r.document.name),o=Mh(r.document.updateTime);var u=new Ff({mapValue:{fields:r.document.fields}}),s=(a=Uf.newFoundDocument(i,o,u),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ih(s,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Vh(e,r.document),o=r.readTime?Mh(r.readTime):tf.min(),u=Uf.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ih([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Vh(e,r.document),o=r.removedTargetIds||[],n=new Ih([],o,i,null);else{if(!("filter"in t))return Wl();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new rh(r),o=l.targetId,n=new _h(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return tf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?tf.min():t.readTime?Mh(t.readTime):tf.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=zh(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Gf(r)?{documents:$h(e,r)}:{query:Yh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Rh(e,t.resumeToken):t.snapshotVersion.compareTo(tf.min())>0&&(n.readTime=Oh(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=zh(this.R),t.removeTarget=e,this.cr(t)},t}(zv),Hv=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Io(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Kl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Kl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Mh(e.updateTime):Mh(t);return n.isEqual(tf.min())&&(n=Mh(t)),new Ud(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Mh(e.commitTime);return this.listener.Tr(n,t)}return Kl(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=zh(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Kh(t.R,e)}))};this.cr(n)},t}(zv),Wv=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Io(t,e),t.prototype.br=function(){if(this.Rr)throw new Ul(Bl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Bl.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ul(Bl.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Bl.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Ul(Bl.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Kv=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(zl(t),this.Vr=!1):ql("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Qv=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return To(o,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return rm(this)?(ql("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return(t=Ql(e)).Or.add(4),[4,Yv(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,$v(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Kv(n,r)};function $v(e){return To(this,void 0,void 0,(function(){var t,n;return xo(this,(function(r){switch(r.label){case 0:if(!rm(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Yv(e){return To(this,void 0,void 0,(function(){var t,n;return xo(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Xv(e,t){var n=Ql(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),nm(n)?tm(n):ym(n).er()&&Zv(n,t))}function Jv(e,t){var n=Ql(e),r=ym(n);n.$r.delete(t),r.er()&&em(n,t),0===n.$r.size&&(r.er()?r.ir():rm(n)&&n.Br.set("Unknown"))}function Zv(e,t){e.qr.U(t.targetId),ym(e).mr(t)}function em(e,t){e.qr.U(t),ym(e).yr(t)}function tm(e){e.qr=new Ch({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),ym(e).start(),e.Br.Sr()}function nm(e){return rm(e)&&!ym(e).tr()&&e.$r.size>0}function rm(e){return 0===Ql(e).Or.size}function im(e){e.qr=void 0}function om(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){return e.$r.forEach((function(t,n){Zv(e,t)})),[2]}))}))}function am(e,t){return To(this,void 0,void 0,(function(){return xo(this,(function(n){return im(e),nm(e)?(e.Br.Nr(t),tm(e)):e.Br.set("Unknown"),[2]}))}))}function um(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o;return xo(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Th&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o;return xo(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),ql("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,sm(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ih?e.qr.X(t):t instanceof _h?e.qr.rt(t):e.qr.et(t),n.isEqual(tf.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,tv(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(ff.EMPTY_BYTE_STRING,n.snapshotVersion)),em(e,t);var r=new Kp(n.target,t,1,n.sequenceNumber);Zv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ql("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,sm(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function sm(e,t,n){return To(this,void 0,void 0,(function(){var r=this;return xo(this,(function(i){switch(i.label){case 0:if(!Bp(t))throw t;return e.Or.add(1),[4,Yv(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return tv(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return To(r,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return ql("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,$v(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function cm(e,t){return t().catch((function(n){return sm(e,n,t)}))}function lm(e){return To(this,void 0,void 0,(function(){var t,n,r,i,o;return xo(this,(function(a){switch(a.label){case 0:t=Ql(e),n=bm(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return rm(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,iv(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=bm(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,sm(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return fm(t)&&dm(t),[2]}}))}))}function fm(e){return rm(e)&&!bm(e).tr()&&e.Fr.length>0}function dm(e){bm(e).start()}function hm(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){return bm(e).Ar(),[2]}))}))}function pm(e){return To(this,void 0,void 0,(function(){var t,n,r,i;return xo(this,(function(o){for(t=bm(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function gm(e,t,n){return To(this,void 0,void 0,(function(){var r,i;return xo(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Wp.from(r,t,n),[4,cm(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,lm(e)];case 2:return o.sent(),[2]}}))}))}function vm(e,t){return To(this,void 0,void 0,(function(){return xo(this,(function(n){switch(n.label){case 0:return t&&bm(e).pr?[4,function(e,t){return To(this,void 0,void 0,(function(){var n,r;return xo(this,(function(i){switch(i.label){case 0:return ih(r=t.code)&&r!==Bl.ABORTED?(n=e.Fr.shift(),bm(e).sr(),[4,cm(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,lm(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return fm(e)&&dm(e),[2]}}))}))}function mm(e,t){return To(this,void 0,void 0,(function(){var n;return xo(this,(function(r){switch(r.label){case 0:return n=Ql(e),t?(n.Or.delete(2),[4,$v(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Yv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ym(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Ql(e);return r.br(),new Gv(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:om.bind(null,e),Ri:am.bind(null,e),_r:um.bind(null,e)}),e.Mr.push((function(n){return To(t,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),nm(e)?tm(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),im(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function bm(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Ql(e);return r.br(),new Hv(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:hm.bind(null,e),Ri:vm.bind(null,e),Ir:pm.bind(null,e),Tr:gm.bind(null,e)}),e.Mr.push((function(n){return To(t,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,lm(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(ql("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var wm=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ul(Bl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Em(e,t){if(zl("AsyncQueue",t+": "+e),Bp(e))return new Ul(Bl.UNAVAILABLE,t+": "+e);throw e}var Sm=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Sf.comparator(t.key,n.key)}:function(e,t){return Sf.comparator(e.key,t.key)},this.keyedMap=ph(),this.sortedSet=new ah(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Im=function(){function e(){this.Qr=new ah(Sf.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Wl():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),_m=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Sm.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Tm=function(){this.Wr=void 0,this.listeners=[]},xm=function(){this.queries=new Og((function(e){return yd(e)}),md),this.onlineState="Unknown",this.Gr=new Set};function Cm(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a,u,s;return xo(this,(function(c){switch(c.label){case 0:if(n=Ql(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Tm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=Em(u,"Initialization of query '"+bd(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Am(n),[2]}}))}))}function Dm(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return xo(this,(function(u){return n=Ql(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function km(e,t){for(var n=Ql(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&Am(n)}function Nm(e,t,n){var r=Ql(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Am(e){e.Gr.forEach((function(e){e.next()}))}var Pm=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new _m(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=_m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Om=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Rm=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Vh(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Wh(this.R,e.document,!1):Uf.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return Mh(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Lm(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Rm(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||yh()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return To(this,void 0,void 0,(function(){var e,t,n,r,i;return xo(this,(function(o){switch(o.label){case 0:return[4,fv(this.localStore,new Rm(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,dv(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Kg(Object.assign({},this.progress),e))]}}))}))}}();function Lm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Mm=function(e){this.key=e},Fm=function(e){this.key=e},Bm=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=yh(),this.mutatedKeys=yh(),this.lo=Ed(e),this.fo=new Sm(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Im,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=cd(this.query)&&i.size===this.query.limit?i.last():null,c=ld(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wd(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),cd(this.query)||ld(this.query))for(;a.size>this.query.limit;){var l=cd(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wl()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new _m(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Im,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=yh(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Fm(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Mm(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=yh();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return _m.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Um=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Vm=function(e){this.key=e,this.bo=!1},jm=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Og((function(e){return yd(e)}),md),this.Vo=new Map,this.So=new Set,this.Do=new ah(Sf.comparator),this.Co=new Map,this.No=new pv,this.xo={},this.ko=new Map,this.Fo=Eg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function qm(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a,u;return xo(this,(function(s){switch(s.label){case 0:return n=my(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ov(n.localStore,gd(t))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,zm(n,t,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&Xv(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function zm(e,t,n,r){return To(this,void 0,void 0,(function(){var i,o,a,u,s,c;return xo(this,(function(l){switch(l.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return To(this,void 0,void 0,(function(){var i,o,a;return xo(this,(function(u){switch(u.label){case 0:return(i=t.view._o(n)).Nn?[4,uv(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(ny(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,uv(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Bm(t,i.Bn),a=o._o(i.documents),u=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),s=o.applyChanges(a,e.isPrimaryClient,u),ny(e,n,s.To),c=new Um(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),s.snapshot)]}}))}))}function Gm(e,t){return To(this,void 0,void 0,(function(){var n,r,i;return xo(this,(function(o){switch(o.label){case 0:return n=Ql(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!md(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,av(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Jv(n.remoteStore,r.targetId),ey(n,r.targetId)})).catch(xg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ey(n,r.targetId),[4,av(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Hm(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o,a;return xo(this,(function(u){switch(u.label){case 0:r=yy(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(e,t){var n,r=Ql(e),i=ef.now(),o=t.reduce((function(e,t){return e.add(t.key)}),yh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=Hd(c,n.get(c.key));null!=l&&a.push(new $d(c.key,l,Bf(l.value.mapValue),Vd.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new ah(Xl)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,oy(r,i.changes)];case 3:return u.sent(),[4,lm(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Em(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Wm(e,t){return To(this,void 0,void 0,(function(){var n,r;return xo(this,(function(i){switch(i.label){case 0:n=Ql(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,nv(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Kl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Kl(r.bo):e.removedDocuments.size>0&&(Kl(r.bo),r.bo=!1))})),[4,oy(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,xg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Km(e,t,n){var r=Ql(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ql(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Am(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Qm(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o,a,u,s;return xo(this,(function(c){switch(c.label){case 0:return(r=Ql(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new ah(Sf.comparator)).insert(o,Uf.newNoDocument(o,tf.min())),u=yh().add(o),s=new Eh(tf.min(),new Map,new ch(Xl),a,u),[4,Wm(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),iy(r),[3,4];case 2:return[4,av(r.localStore,t,!1).then((function(){return ey(r,t,n)})).catch(xg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function $m(e,t){return To(this,void 0,void 0,(function(){var n,r,i;return xo(this,(function(o){switch(o.label){case 0:n=Ql(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ev(n.localStore,t)];case 2:return i=o.sent(),Zm(n,r,null),Jm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,oy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ym(e,t,n){return To(this,void 0,void 0,(function(){var r,i;return xo(this,(function(o){switch(o.label){case 0:r=Ql(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Ql(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Kl(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Zm(r,t,n),Jm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,oy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Xm(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a;return xo(this,(function(u){switch(u.label){case 0:rm((n=Ql(e)).remoteStore)||ql("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=Ql(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=u.sent(),a=Em(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Jm(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Zm(e,t,n){var r=Ql(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function ey(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||ty(e,t)}))}function ty(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Jv(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),iy(e))}function ny(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Mm?(e.No.addReference(o.key,t),ry(e,o)):o instanceof Fm?(ql("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ty(e,o.key)):Wl()}}function ry(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ql("SyncEngine","New document in limbo: "+n),e.So.add(r),iy(e))}function iy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Sf(uf.fromString(t)),r=e.Fo.next();e.Co.set(r,new Vm(n)),e.Do=e.Do.insert(n,r),Xv(e.remoteStore,new Kp(gd(sd(n.path)),r,2,Fl.o))}}function oy(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o,a;return xo(this,(function(u){switch(u.label){case 0:return r=Ql(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,u){a.push(r.Oo(u,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=$g.Pn(u.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l;return xo(this,(function(f){switch(f.label){case 0:n=Ql(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Op.forEach(t,(function(t){return Op.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Op.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Bp(r=f.sent()))throw r;return ql("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(s=n.kn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(u,l));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ay(e,t){return To(this,void 0,void 0,(function(){var n,r;return xo(this,(function(i){switch(i.label){case 0:return(n=Ql(e)).currentUser.isEqual(t)?[3,3]:(ql("SyncEngine","User change. New user:",t.toKey()),[4,Zg(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Ul(Bl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,oy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function uy(e,t){var n=Ql(e),r=n.Co.get(t);if(r&&r.bo)return yh().add(r.key);var i=yh(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function sy(e,t){return To(this,void 0,void 0,(function(){var n,r,i;return xo(this,(function(o){switch(o.label){case 0:return[4,uv((n=Ql(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&ny(n,t.targetId,i.To),i)]}}))}))}function cy(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){return[2,cv((t=Ql(e)).localStore).then((function(e){return oy(t,e)}))]}))}))}function ly(e,t,n,r){return To(this,void 0,void 0,(function(){var i,o;return xo(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Ql(e),r=Ql(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Op.resolve(null)}))}))}((i=Ql(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,lm(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Zm(i,t,r||null),Jm(i,t),function(e,t){Ql(Ql(e)._n).Gt(t)}(i.localStore,t)):Wl(),a.label=4;case 4:return[4,oy(i,o)];case 5:return a.sent(),[3,7];case 6:ql("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function fy(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c;return xo(this,(function(l){switch(l.label){case 0:return my(n=Ql(e)),yy(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,dy(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,mm(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)u=a[o],Xv(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return ey(n,t),av(n.localStore,t,!0)})),Jv(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,dy(n,s)];case 5:return l.sent(),function(e){var t=Ql(e);t.Co.forEach((function(e,n){Jv(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new ah(Sf.comparator)}(n),n.$o=!1,[4,mm(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function dy(e,t,n){return To(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,f,d,h,p,g;return xo(this,(function(v){switch(v.label){case 0:n=Ql(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,ov(n.localStore,gd(c[0]))]:[3,7]):[3,13];case 2:s=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(d=f[l],h=n.Po.get(d),[4,sy(n,h)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sv(n.localStore,u)];case 8:return g=v.sent(),[4,ov(n.localStore,g)];case 9:return s=v.sent(),[4,zm(n,hy(g),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(s),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function hy(e){return ud(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function py(e){var t=Ql(e);return Ql(Ql(t.localStore).persistence).fn()}function gy(e,t,n,r){return To(this,void 0,void 0,(function(){var i,o,a;return xo(this,(function(u){switch(u.label){case 0:return(i=Ql(e)).$o?(ql("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,cv(i.localStore)];case 3:return o=u.sent(),a=Eh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,oy(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,av(i.localStore,t,!0)];case 6:return u.sent(),ey(i,t,r),[3,8];case 7:Wl(),u.label=8;case 8:return[2]}}))}))}function vy(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,f,d;return xo(this,(function(h){switch(h.label){case 0:if(!(r=my(e)).$o)return[3,10];i=0,o=t,h.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(ql("SyncEngine","Adding an already active target "+a),[3,5]):[4,sv(r.localStore,a)]):[3,6];case 2:return u=h.sent(),[4,ov(r.localStore,u)];case 3:return s=h.sent(),[4,zm(r,hy(u),s.targetId,!1)];case 4:h.sent(),Xv(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:c=function(e){return xo(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,av(r.localStore,e,!1).then((function(){Jv(r.remoteStore,e),ey(r,e)})).catch(xg)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,h.label=7;case 7:return l<f.length?(d=f[l],[5,c(d)]):[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function my(e){var t=Ql(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Qm.bind(null,t),t.vo._r=km.bind(null,t.eventManager),t.vo.Mo=Nm.bind(null,t.eventManager),t}function yy(e){var t=Ql(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$m.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ym.bind(null,t),t}var by=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return this.R=jv(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Jg(this.persistence,new Yg,e.initialUser,this.R)},e.prototype.qo=function(e){return new wv(Sv.bs,this.R)},e.prototype.Bo=function(e){return new Ov},e.prototype.terminate=function(){return To(this,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),wy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Io(t,e),t.prototype.initialize=function(t){return To(this,void 0,void 0,(function(){var n=this;return xo(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,lv(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,yy(this.Qo.syncEngine)];case 4:return r.sent(),[4,lm(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Jg(this.persistence,new Yg,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new kg(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hg.withCacheSize(this.cacheSizeBytes):hg.DEFAULT;return new zg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Uv(),Vv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Ov},t}(by),Ey=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Io(t,e),t.prototype.initialize=function(t){return To(this,void 0,void 0,(function(){var n,r=this;return xo(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Pv?(this.sharedClientState.syncEngine={ui:ly.bind(null,n),ai:gy.bind(null,n),hi:vy.bind(null,n),fn:py.bind(null,n),ci:cy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return To(r,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return[4,fy(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Uv();if(!Pv.yt(t))throw new Ul(Bl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Wg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pv(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(wy),Sy=function(){function e(){}return e.prototype.initialize=function(e,t){return To(this,void 0,void 0,(function(){var n=this;return xo(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Km(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ay.bind(null,this.syncEngine),[4,mm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new xm},e.prototype.createDatastore=function(e){var t,n=jv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bv(t));return function(e,t,n){return new Wv(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Km(a.syncEngine,e,0)},o=Lv.yt()?new Lv:new Rv,new Qv(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new jm(e,t,n,r,i,o);return a&&(u.$o=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return t=Ql(e),ql("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Yv(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Iy=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),_y=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Pp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return To(this,void 0,void 0,(function(){return xo(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return To(this,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return To(this,void 0,void 0,(function(){var e,t,n,r;return xo(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Om(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return To(this,void 0,void 0,(function(){var e,t;return xo(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return To(this,void 0,void 0,(function(){var e,t;return xo(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return To(this,void 0,void 0,(function(){var t,n=this;return xo(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ul(Bl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return To(this,void 0,void 0,(function(){var n,r,i,o,a,u;return xo(this,(function(s){switch(s.label){case 0:return n=Ql(e),r=zh(n.R)+"/documents",i={documents:t.map((function(e){return Uh(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Kl(!!t.found),t.found.name,t.found.updateTime;var n=Vh(e,t.found.name),r=Mh(t.found.updateTime),i=new Ff({mapValue:{fields:t.found.fields}});return Uf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Kl(!!t.missing),Kl(!!t.readTime);var n=Vh(e,t.missing),r=Mh(t.readTime);return Uf.newNoDocument(n,r)}(e,t):Wl()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Kl(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new th(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return To(this,void 0,void 0,(function(){var e,t=this;return xo(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Sf.fromPath(n);t.mutations.push(new nh(r,t.precondition(r)))})),[4,function(e,t){return To(this,void 0,void 0,(function(){var n,r,i;return xo(this,(function(o){switch(o.label){case 0:return n=Ql(e),r=zh(n.R)+"/documents",i={writes:t.map((function(e){return Kh(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wl();t=tf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ul(Bl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vd.updateTime(t):Vd.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tf.min()))throw new Ul(Bl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vd.updateTime(t)}return Vd.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Ty=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new qv(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return To(e,void 0,void 0,(function(){var e,t,n=this;return xo(this,(function(r){return e=new _y(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!bf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ih(t)}return!1},e}(),xy=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Iv.UNAUTHENTICATED,this.clientId=Yl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return To(r,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return ql("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return To(this,void 0,void 0,(function(){return xo(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ul(Bl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return To(e,void 0,void 0,(function(){var e,n;return xo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Em(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function Cy(e,t){return To(this,void 0,void 0,(function(){var n,r,i=this;return xo(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ql("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return To(i,void 0,void 0,(function(){return xo(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Zg(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Dy(e,t){return To(this,void 0,void 0,(function(){var n,r;return xo(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ky(e)];case 1:return n=i.sent(),ql("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return To(this,void 0,void 0,(function(){var n,r;return xo(this,(function(i){switch(i.label){case 0:return(n=Ql(e)).asyncQueue.verifyOperationInProgress(),ql("RemoteStore","RemoteStore received new credentials"),r=rm(n),n.Or.add(3),[4,Yv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,$v(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function ky(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ql("FirestoreClient","Using default OfflineComponentProvider"),[4,Cy(e,new by)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Ny(e){return To(this,void 0,void 0,(function(){return xo(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ql("FirestoreClient","Using default OnlineComponentProvider"),[4,Dy(e,new Sy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Ay(e){return ky(e).then((function(e){return e.persistence}))}function Py(e){return ky(e).then((function(e){return e.localStore}))}function Oy(e){return Ny(e).then((function(e){return e.remoteStore}))}function Ry(e){return Ny(e).then((function(e){return e.syncEngine}))}function Ly(e){return To(this,void 0,void 0,(function(){var t,n;return xo(this,(function(r){switch(r.label){case 0:return[4,Ny(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=qm.bind(null,t.syncEngine),n.onUnlisten=Gm.bind(null,t.syncEngine),n)]}}))}))}function My(e,t,n){var r=this;void 0===n&&(n={});var i=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(r,void 0,void 0,(function(){var r;return xo(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Iy({next:function(o){t.enqueueAndForget((function(){return Dm(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Ul(Bl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Ul(Bl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Pm(sd(n.path),o,{includeMetadataChanges:!0,so:!0});return Cm(e,a)},[4,Ly(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Fy(e,t,n){var r=this;void 0===n&&(n={});var i=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(r,void 0,void 0,(function(){var r;return xo(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Iy({next:function(n){t.enqueueAndForget((function(){return Dm(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Ul(Bl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Pm(n,o,{includeMetadataChanges:!0,so:!0});return Cm(e,a)},[4,Ly(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var By=function(e,t,n,r,i,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u},Uy=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Vy=new Map,jy=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},qy=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Iv.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),zy=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Gy=function(){function e(e){var t=this;this.currentUser=Iv.UNAUTHENTICATED,this.oc=new Pp,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){ql("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(ql("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(ql("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Kl("string"==typeof n.accessToken),new jy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return To(n,void 0,void 0,(function(){return xo(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Kl(null===e||"string"==typeof e),new Iv(e)},e}(),Hy=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Iv.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),Wy=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Hy(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Iv.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ky(e,t,n){if(!n)throw new Ul(Bl.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Qy(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function $y(e,t,n,r){if(!0===t&&!0===r)throw new Ul(Bl.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Yy(e){if(!Sf.isDocumentKey(e))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Xy(e){if(Sf.isDocumentKey(e))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Jy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Wl()}function Zy(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ul(Bl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jy(e);throw new Ul(Bl.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function eb(e,t){if(t<=0)throw new Ul(Bl.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var tb=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ul(Bl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ul(Bl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$y("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),nb=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tb({}),this._settingsFrozen=!1,e instanceof Uy?(this._databaseId=e,this._credentials=new qy):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ul(Bl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uy(e.options.projectId)}(e),this._credentials=new Gy(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Ul(Bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Ul(Bl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tb(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new qy;switch(e.type){case"gapi":var t=e.client;return Kl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ul(Bl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=Vy.get(this))&&(ql("ComponentProvider","Removing Datastore"),Vy.delete(this),e.terminate()),Promise.resolve();var e},e}(),rb=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ob(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ib=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ob=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,sd(r))||this)._path=r,i.type="collection",i}return Io(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rb(this.firestore,null,new Sf(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(ib);function ab(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ho(e),Ky("collection","path",t),e instanceof nb)return Xy(n=uf.fromString.apply(uf,ko([t],r))),new ob(e,null,n);if(!(e instanceof rb||e instanceof ob))throw new Ul(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xy(n=uf.fromString.apply(uf,ko([e.path],r)).child(uf.fromString(t))),new ob(e.firestore,null,n)}function ub(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ho(e),1===arguments.length&&(t=Yl.u()),Ky("doc","path",t),e instanceof nb)return Yy(n=uf.fromString.apply(uf,ko([t],r))),new rb(e,null,new Sf(n));if(!(e instanceof rb||e instanceof ob))throw new Ul(Bl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yy(n=e._path.child(uf.fromString.apply(uf,ko([t],r)))),new rb(e.firestore,e instanceof ob?e.converter:null,new Sf(n))}function sb(e,t){return e=Ho(e),t=Ho(t),(e instanceof rb||e instanceof ob)&&(t instanceof rb||t instanceof ob)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cb(e,t){return e=Ho(e),t=Ho(t),e instanceof ib&&t instanceof ib&&e.firestore===t.firestore&&md(e._query,t._query)&&e.converter===t.converter}var lb=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new qv(this,"async_queue_retry"),this.Ic=function(){var t=Vv();t&&ql("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Vv();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Vv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Pp;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return To(this,void 0,void 0,(function(){var e,t=this;return xo(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Bp(e=n.sent()))throw e;return ql("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,zl("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=wm.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Wl()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return To(this,void 0,void 0,(function(){var e;return xo(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function fb(e){return function(e){if("object"!=typeof e||null===e)return!1;for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Pp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var db=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new lb,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Io(t,e),t.prototype._terminate=function(){return this._firestoreClient||pb(this),this._firestoreClient.terminate()},t}(nb);function hb(e){return e._firestoreClient||pb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new By(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new xy(e._credentials,e._queue,r)}function gb(e,t,n){var r=this,i=new Pp;return e.asyncQueue.enqueue((function(){return To(r,void 0,void 0,(function(){var r;return xo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Cy(e,n)];case 1:return o.sent(),[4,Dy(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Bl.FAILED_PRECONDITION||e.code===Bl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function vb(e){if(e._initialized||e._terminated)throw new Ul(Bl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mb=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cf(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),yb=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(ff.fromBase64String(t))}catch(t){throw new Ul(Bl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ff.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),bb=function(e){this._methodName=e},wb=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ul(Bl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ul(Bl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Xl(this._lat,e._lat)||Xl(this._long,e._long)},e}(),Eb=/^__.*__$/,Sb=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new $d(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qd(e,this.data,t,this.fieldTransforms)},e}(),Ib=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new $d(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function _b(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wl()}}var Tb=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Hb(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(_b(this.Nc)&&Eb.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),xb=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||jv(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new Tb({Nc:e,methodName:t,qc:n,path:cf.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Cb(e){var t=e._freezeSettings(),n=jv(e._databaseId);return new xb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Db(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);jb("Data must be an object, but it was:",a,r);var u,s,c=Ub(r,a);if(o.merge)u=new lf(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,d=o.mergeFields;f<d.length;f++){var h=qb(t,d[f],n);if(!a.contains(h))throw new Ul(Bl.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");Wb(l,h)||l.push(h)}u=new lf(l),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new Sb(new Ff(c),u,s)}var kb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(bb);function Nb(e,t,n){return new Tb({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ab=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype._toFieldTransform=function(e){return new Bd(e.path,new Nd)},t.prototype.isEqual=function(e){return e instanceof t},t}(bb),Pb=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Io(t,e),t.prototype._toFieldTransform=function(e){var t=Nb(this,e,!0),n=this.Kc.map((function(e){return Bb(e,t)})),r=new Ad(n);return new Bd(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(bb),Ob=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Io(t,e),t.prototype._toFieldTransform=function(e){var t=Nb(this,e,!0),n=this.Kc.map((function(e){return Bb(e,t)})),r=new Od(n);return new Bd(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(bb),Rb=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return Io(t,e),t.prototype._toFieldTransform=function(e){var t=new Ld(e.R,Td(e.R,this.Qc));return new Bd(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(bb);function Lb(e,t,n,r){var i=e.Uc(1,t,n);jb("Data must be an object, but it was:",i,r);var o=[],a=Ff.empty();rf(r,(function(e,r){var u=Gb(t,e,n);r=Ho(r);var s=i.Oc(u);if(r instanceof kb)o.push(u);else{var c=Bb(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new lf(o);return new Ib(a,u,i.fieldTransforms)}function Mb(e,t,n,r,i,o){var a=e.Uc(1,t,n),u=[qb(t,r,n)],s=[i];if(o.length%2!=0)throw new Ul(Bl.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(qb(t,o[c])),s.push(o[c+1]);for(var l=[],f=Ff.empty(),d=u.length-1;d>=0;--d)if(!Wb(l,u[d])){var h=u[d],p=s[d];p=Ho(p);var g=a.Oc(h);if(p instanceof kb)l.push(h);else{var v=Bb(p,g);null!=v&&(l.push(h),f.set(h,v))}}var m=new lf(l);return new Ib(f,m,a.fieldTransforms)}function Fb(e,t,n,r){return void 0===r&&(r=!1),Bb(n,e.Uc(r?4:3,t))}function Bb(e,t){if(Vb(e=Ho(e)))return jb("Unsupported field value:",t,e),Ub(e,t);if(e instanceof bb)return function(e,t){if(!_b(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Bb(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ho(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Td(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ef.fromDate(e);return{timestampValue:Oh(t.R,n)}}if(e instanceof ef)return n=new ef(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Oh(t.R,n)};if(e instanceof wb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yb)return{bytesValue:Rh(t.R,e._byteString)};if(e instanceof rb){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Fh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Jy(e))}(e,t)}function Ub(e,t){var n={};return of(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rf(e,(function(e,r){var i=Bb(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Vb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ef||e instanceof wb||e instanceof yb||e instanceof rb||e instanceof bb)}function jb(e,t,n){if(!Vb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jy(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function qb(e,t,n){if((t=Ho(t))instanceof mb)return t._internalPath;if("string"==typeof t)return Gb(e,t);throw Hb("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var zb=new RegExp("[~\\*/\\[\\]]");function Gb(e,t,n){if(t.search(zb)>=0)throw Hb("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(mb.bind.apply(mb,ko([void 0],t.split(".")))))._internalPath}catch(Qw){throw Hb("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Hb(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new Ul(Bl.INVALID_ARGUMENT,(u+=". ")+e+s)}function Wb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Kb=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field($b("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Kb);function $b(e,t){return"string"==typeof t?Gb(e,t):t instanceof mb?t._internalPath:t._delegate._internalPath}var Yb=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Xb=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return Io(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Jb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field($b("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Kb),Jb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Xb),Zb=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Jb(n._firestore,n._userDataWriter,r.key,r,new Yb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ul(Bl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Jb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Jb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ew(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function ew(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wl()}}function tw(e,t){return e instanceof Xb&&t instanceof Xb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Zb&&t instanceof Zb&&e._firestore===t._firestore&&cb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function nw(e){if(ld(e)&&0===e.explicitOrderBy.length)throw new Ul(Bl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rw=function(){};function iw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var ow=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return Io(t,e),t.prototype._apply=function(e){var t=Cb(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){dw(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(fw(r,e,f))}u={arrayValue:{values:s}}}else u=fw(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dw(a,o),u=Fb(n,"where",a,"in"===o||"not-in"===o);var d=Hf.create(i,o,u);return function(e,t){if(t.g()){var n=dd(e);if(null!==n&&!n.isEqual(t.field))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=fd(e);null!==r&&hw(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ul(Bl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Ul(Bl.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ib(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(rw),aw=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return Io(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nd(t,n);return function(e,t){if(null===fd(e)){var n=dd(e);null!==n&&hw(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new ib(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ad(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(rw),uw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Io(t,e),t.prototype._apply=function(e){return new ib(e.firestore,e.converter,vd(e._query,this.Hc,this.Jc))},t}(rw),sw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Io(t,e),t.prototype._apply=function(e){var t=lw(e,this.type,this.Yc,this.Xc);return new ib(e.firestore,e.converter,function(e,t){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(rw),cw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return Io(t,e),t.prototype._apply=function(e){var t=lw(e,this.type,this.Yc,this.Xc);return new ib(e.firestore,e.converter,function(e,t){return new ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(rw);function lw(e,t,n,r){if(n[0]=Ho(n[0]),n[0]instanceof Kb)return function(e,t,n,r,i){if(!r)throw new Ul(Bl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=pd(e);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(Nf(t,r.key));else{var c=r.data.field(s.field);if(vf(c))throw new Ul(Bl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ed(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Cb(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Ul(Bl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!hd(e)&&-1!==c.indexOf("/"))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(uf.fromString(c));if(!Sf.isDocumentKey(l))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Sf(l);u.push(Nf(t,f))}else{var d=Fb(n,r,c);u.push(d)}}return new ed(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function fw(e,t,n){if("string"==typeof(n=Ho(n))){if(""===n)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hd(t)&&-1!==n.indexOf("/"))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(uf.fromString(n));if(!Sf.isDocumentKey(r))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Nf(e,new Sf(r))}if(n instanceof rb)return Nf(e,n._key);throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Jy(n)+".")}function dw(e,t){if(!Array.isArray(e)||0===e.length)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function hw(e,t,n){if(!n.isEqual(t))throw new Ul(Bl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var pw=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),If(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wl()}},e.prototype.convertObject=function(e,t){var n=this,r={};return rf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new wb(pf(e.latitude),pf(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=mf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(yf(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=hf(e);return new ef(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=uf.fromString(e);Kl(sp(n));var r=new Uy(n.get(1),n.get(3)),i=new Sf(n.popFirst(5));return r.isEqual(t)||zl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function gw(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vw=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Io(t,e),t.prototype.convertBytes=function(e){return new yb(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rb(this.firestore,null,t)},t}(pw),mw=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cb(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=yw(e,this._firestore),i=gw(r.converter,t,n),o=Db(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Vd.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=yw(e,this._firestore);return o="string"==typeof(t=Ho(t))||t instanceof mb?Mb(this._dataReader,"WriteBatch.update",a._key,t,n,r):Lb(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Vd.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=yw(e,this._firestore);return this._mutations=this._mutations.concat(new th(t._key,Vd.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ul(Bl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function yw(e,t){if((e=Ho(e)).firestore!==t)throw new Ul(Bl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bw=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Io(t,e),t.prototype.convertBytes=function(e){return new yb(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rb(this.firestore,null,t)},t}(pw);function ww(e,t,n){e=Zy(e,rb);var r=Zy(e.firestore,db),i=gw(e.converter,t,n);return Iw(r,[Db(Cb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Vd.none())])}function Ew(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Zy(e,rb);var o=Zy(e.firestore,db),a=Cb(o);return Iw(o,[("string"==typeof(t=Ho(t))||t instanceof mb?Mb(a,"updateDoc",e._key,t,n,r):Lb(a,"updateDoc",e._key,t)).toMutation(e._key,Vd.exists(!0))])}function Sw(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ho(e);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||fb(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(fb(i[u])){var d=i[u];i[u]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof rb)c=Zy(e.firestore,db),l=sd(e._key.path),s={next:function(t){i[u]&&i[u](_w(c,e,t))},error:i[u+1],complete:i[u+2]};else{var h=Zy(e,ib);c=Zy(h.firestore,db),l=h._query;var p=new bw(c);s={next:function(e){i[u]&&i[u](new Zb(c,p,h,e))},error:i[u+1],complete:i[u+2]},nw(e._query)}return function(e,t,n,r){var i=this,o=new Iy(r),a=new Pm(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return To(i,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return t=Cm,[4,Ly(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return To(i,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return t=Dm,[4,Ly(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(hb(c),l,f,s)}function Iw(e,t){return function(e,t){var n=this,r=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(n,void 0,void 0,(function(){var n;return xo(this,(function(i){switch(i.label){case 0:return n=Hm,[4,Ry(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(hb(e),t)}function _w(e,t,n){var r=n.docs.get(t._key),i=new bw(e);return new Xb(e,i,t._key,r,new Yb(n.hasPendingWrites,n.fromCache),t.converter)}var Tw=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Io(t,e),t.prototype.get=function(t){var n=this,r=yw(t,this._firestore),i=new bw(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Xb(n._firestore,i,r._key,e._document,new Yb(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cb(e)}return e.prototype.get=function(e){var t=this,n=yw(e,this._firestore),r=new vw(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wl();var i=e[0];if(i.isFoundDocument())return new Kb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Kb(t._firestore,r,n._key,null,n.converter);throw Wl()}))},e.prototype.set=function(e,t,n){var r=yw(e,this._firestore),i=gw(r.converter,t,n),o=Db(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=yw(e,this._firestore);return o="string"==typeof(t=Ho(t))||t instanceof mb?Mb(this._dataReader,"Transaction.update",a._key,t,n,r):Lb(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=yw(e,this._firestore);return this._transaction.delete(t._key),this},e}());function xw(){if("undefined"==typeof Uint8Array)throw new Ul(Bl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cw(){if("undefined"==typeof atob)throw new Ul(Bl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Dw=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Cw(),new e(yb.fromBase64String(t))},e.fromUint8Array=function(t){return xw(),new e(yb.fromUint8Array(t))},e.prototype.toBase64=function(){return Cw(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return xw(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),kw=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){vb(e=Zy(e,db));var n=hb(e),r=e._freezeSettings(),i=new Sy;return gb(n,i,new wy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){vb(e=Zy(e,db));var t=hb(e),n=e._freezeSettings(),r=new Sy;return gb(t,r,new Ey(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Ul(Bl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pp;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return To(t,void 0,void 0,(function(){var t;return xo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return Lp.yt()?(t=e+"main",[4,Lp.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Wg(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),Nw=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Uy||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Gl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=Zy(e,nb))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Gl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Iv.MOCK_USER;else{a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=_o({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Po(JSON.stringify({alg:"none",type:"JWT"})),Po(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ul(Bl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Iv(s)}e._credentials=new zy(new jy(a,u))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return To(t,void 0,void 0,(function(){var t,n;return xo(this,(function(r){switch(r.label){case 0:return[4,Ay(e)];case 1:return t=r.sent(),[4,Oy(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Ql(e);return t.Or.delete(0),$v(t)}(n))]}}))}))}))}(hb(Zy(this._delegate,db)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return To(t,void 0,void 0,(function(){var t,n;return xo(this,(function(r){switch(r.label){case 0:return[4,Ay(e)];case 1:return t=r.sent(),[4,Oy(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return To(this,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return(t=Ql(e)).Or.add(0),[4,Yv(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(hb(Zy(this._delegate,db)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&$y("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(t,void 0,void 0,(function(){var t;return xo(this,(function(r){switch(r.label){case 0:return t=Xm,[4,Ry(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(hb(Zy(this._delegate,db)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Iy(t);return e.asyncQueue.enqueueAndForget((function(){return To(n,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ql(e).Gr.add(t),t.next()},[4,Ly(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return To(n,void 0,void 0,(function(){var t;return xo(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ql(e).Gr.delete(t)},[4,Ly(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(hb(e=Zy(e,db)),fb(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Ul(Bl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Gw(this,ab(this._delegate,e))}catch(e){throw Mw(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Lw(this,ub(this._delegate,e))}catch(e){throw Mw(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new jw(this,function(e,t){if(e=Zy(e,nb),Ky("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ib(e,null,function(e){return new ad(uf.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Mw(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(n,void 0,void 0,(function(){var n;return xo(this,(function(i){switch(i.label){case 0:return[4,function(e){return Ny(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Ty(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(hb(e),(function(n){return t(new Tw(e,n))}))}(this._delegate,(function(n){return e(new Pw(t,n))}))},e.prototype.batch=function(){var e=this;return hb(this._delegate),new Ow(new mw(this._delegate,(function(t){return Iw(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Ul(Bl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Ul(Bl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Aw=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Io(t,e),t.prototype.convertBytes=function(e){return new Dw(new yb(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Lw.eu(t,this.firestore,null)},t}(pw);var Pw=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}return e.prototype.get=function(e){var t=this,n=Hw(e);return this._delegate.get(n).then((function(e){return new Uw(t._firestore,new Xb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Hw(e);return n?(Qy("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Hw(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ko([a,t,n],i)),this},e.prototype.delete=function(e){var t=Hw(e);return this._delegate.delete(t),this},e}(),Ow=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Hw(e);return n?(Qy("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Hw(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,ko([a,t,n],i)),this},e.prototype.delete=function(e){var t=Hw(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Rw=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Jb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vw(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Aw(t),n),i.set(n,o)),o},e}();Rw.su=new WeakMap;var Lw=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Ul(Bl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new rb(n._delegate,r,new Sf(t)))},e.eu=function(t,n,r){return new e(n,new rb(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Gw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Gw(this.firestore,ab(this._delegate,e))}catch(e){throw Mw(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Ho(e))instanceof rb&&sb(this._delegate,e)},e.prototype.set=function(e,t){t=Qy("DocumentReference.set",t);try{return t?ww(this._delegate,e,t):ww(this._delegate,e)}catch(e){throw Mw(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Ew(this._delegate,e):Ew.apply(void 0,ko([this._delegate,e,t],n))}catch(e){throw Mw(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Iw(Zy((e=this._delegate).firestore,db),[new th(e._key,Vd.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fw(t),i=Bw(t,(function(t){return new Uw(e.firestore,new Xb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Sw(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Zy(e,rb);var t=Zy(e.firestore,db),n=hb(t),r=new bw(t);return function(e,t){var n=this,r=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(n,void 0,void 0,(function(){var n;return xo(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return To(this,void 0,void 0,(function(){var r,i;return xo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Ql(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Ul(Bl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Em(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Py(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Xb(t,r,e._key,n,new Yb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Zy(e,rb);var t=Zy(e.firestore,db);return My(hb(t),e._key,{source:"server"}).then((function(n){return _w(t,e,n)}))}(this._delegate):function(e){e=Zy(e,rb);var t=Zy(e.firestore,db);return My(hb(t),e._key).then((function(n){return _w(t,e,n)}))}(this._delegate)).then((function(e){return new Uw(t.firestore,new Xb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Rw.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Mw(e,t,n){return e.message=e.message.replace(t,n),e}function Fw(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!fb(r))return r}return{}}function Bw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fb(e[0])?e[0]:fb(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Uw=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Lw(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return tw(this._delegate,e._delegate)},e}(),Vw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Io(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Uw),jw=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Aw(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,iw(this._delegate,function(e,t,n){var r=t,i=$b("where",e);return new ow(i,r,n)}(t,n,r)))}catch(t){throw Mw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,iw(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=$b("orderBy",e);return new aw(r,n)}(t,n)))}catch(t){throw Mw(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,iw(this._delegate,function(e){return eb("limit",e),new uw("limit",e,"F")}(t)))}catch(t){throw Mw(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,iw(this._delegate,function(e){return eb("limitToLast",e),new uw("limitToLast",e,"L")}(t)))}catch(t){throw Mw(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iw(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sw("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Mw(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iw(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new sw("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Mw(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iw(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cw("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Mw(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,iw(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cw("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Mw(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return cb(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Zy(e,ib);var t=Zy(e.firestore,db),n=hb(t),r=new bw(t);return function(e,t){var n=this,r=new Pp;return e.asyncQueue.enqueueAndForget((function(){return To(n,void 0,void 0,(function(){var n;return xo(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return To(this,void 0,void 0,(function(){var r,i,o,a,u;return xo(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,uv(e,t,!0)];case 1:return u=s.sent(),r=new Bm(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=Em(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Py(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Zb(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Zy(e,ib);var t=Zy(e.firestore,db),n=hb(t),r=new bw(t);return Fy(n,e._query,{source:"server"}).then((function(n){return new Zb(t,r,e,n)}))}(this._delegate):function(e){e=Zy(e,ib);var t=Zy(e.firestore,db),n=hb(t),r=new bw(t);return nw(e._query),Fy(n,e._query).then((function(n){return new Zb(t,r,e,n)}))}(this._delegate)).then((function(e){return new zw(t.firestore,new Zb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fw(t),i=Bw(t,(function(t){return new zw(e.firestore,new Zb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Sw(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Rw.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),qw=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Vw(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),zw=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new jw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Vw(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new qw(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Vw(n._firestore,r))}))},e.prototype.isEqual=function(e){return tw(this._delegate,e._delegate)},e}(),Gw=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Io(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Lw(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Lw(this.firestore,void 0===e?ub(this._delegate):ub(this._delegate,e))}catch(e){throw Mw(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Zy(e.firestore,db),r=ub(e),i=gw(e.converter,t);return Iw(n,[Db(Cb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vd.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Lw(t.firestore,e)}))},t.prototype.isEqual=function(e){return sb(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Rw.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(jw);function Hw(e){return Zy(e,rb)}var Ww=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(mb.bind.apply(mb,ko([void 0],e)))}return e.documentId=function(){return new e(cf.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Ho(e))instanceof mb&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Kw=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Ab("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new kb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Pb("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ob("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Rb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Qw,$w={Firestore:Nw,GeoPoint:wb,Timestamp:ef,Blob:Dw,Transaction:Pw,WriteBatch:Ow,DocumentReference:Lw,DocumentSnapshot:Uw,Query:jw,QueryDocumentSnapshot:Vw,QuerySnapshot:zw,CollectionReference:Gw,FieldPath:Ww,FieldValue:Kw,setLogLevel:function(e){var t;t=e,Vl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e){e.INTERNAL.registerComponent(new Wo("firestore",(function(e){return function(e,t){return new Nw(e,new db(e,t),new kw)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},$w)))})(Qw=Ea),Qw.registerVersion("@firebase/firestore","2.4.1");Ea.initializeApp({apiKey:"AIzaSyAyiPwsV5KhuJBve4i9Ci4qcXyB9fc5XQs",authDomain:"esc-voter.firebaseapp.com",databaseURL:"https://esc-voter-default-rtdb.firebaseio.com/",projectId:"esc-voter",storageBucket:"esc-voter.appspot.com",messagingSenderId:"124189722667",appId:"1:124189722667:web:86ccdcbd1414565558826e"});const Yw=Ea.firestore();var Xw=n(579);const Jw=[12,10,8,7,6,5,4,3,2,1];class Zw extends e.Component{constructor(e){super(e);const t=wo.map(((e,t)=>({id:"item-".concat(t),countryName:e}))),n={items:t,userName:"",postSucceeded:!1},r=localStorage.getItem("lastState"),i=r?JSON.parse(r):n,o=n.items.length===i.items.length,a=function(e,t){let n=new Set;for(let r of t)e.has(r)&&n.add(r);return n}(new Set(n.items.map((e=>{let{countryName:t}=e;return t}))),new Set(i.items.map((e=>{let{countryName:t}=e;return t})))).size===n.items.length,u=o&&a;console.log("areSameLength",o),console.log("containSameCountries",a),this.state=u?i:n,this.onDragEnd=this.onDragEnd.bind(this)}onDragEnd(e){if(!e.destination)return;const t=((e,t,n)=>{const r=Array.from(e),[i]=r.splice(t,1);return r.splice(n,0,i),r})(this.state.items,e.source.index,e.destination.index);this.setState({items:t});localStorage.setItem("lastState",JSON.stringify(u(u({},this.state),{},{items:t})))}render(){const{userName:t,items:n}=this.state;return(0,Xw.jsxs)("div",{children:[(0,Xw.jsx)("h1",{style:{margin:"1rem"},children:"ESC hos Velle 2024"}),(0,Xw.jsxs)("div",{style:{textAlign:"left",margin:"1rem"},children:[(0,Xw.jsx)("p",{children:"Dra og slipp landene i rekkef\xf8lge. Du trenger ikke sortere de som ikke f\xe5r poeng."}),(0,Xw.jsx)("p",{children:"Sveip til bunnen for \xe5 skrive inn kallenavn og sende inn poeng."})]}),(0,Xw.jsx)(Pi,{onDragEnd:this.onDragEnd,children:(0,Xw.jsx)(bo,{droppableId:"droppable",children:(e,t)=>{return(0,Xw.jsxs)("div",u(u({},e.droppableProps),{},{ref:e.innerRef,style:(r=t.isDraggingOver,{background:r?"lightblue":"lightgrey",padding:8,width:250,margin:"0 auto"}),children:[n.map(((e,t)=>(0,Xw.jsx)(go,{draggableId:e.id,index:t,children:(n,r)=>{return(0,Xw.jsx)("div",{style:{marginBottom:"".concat(16,"px")},children:(0,Xw.jsxs)("div",u(u(u({className:"nes-container is-rounded",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{style:(i=r.isDragging,o=n.draggableProps.style,u({userSelect:"none",padding:8,background:i?"lightgreen":"lightblue"},o)),children:[(0,Xw.jsxs)("div",{children:[(0,Xw.jsx)("img",{src:"flags/".concat(Eo[e.countryName].toLowerCase(),".png"),className:"flag",alt:"Flag of ".concat(e.countryName)}),e.countryName]}),Jw[t]&&(0,Xw.jsx)("div",{className:"nes-container is-rounded",style:{padding:"0.1rem",background:"#fff"},children:Jw[t]})]}))});var i,o}},e.id))),e.placeholder]}));var r}})}),(0,Xw.jsx)("div",{style:{margin:"1rem"},children:this.state.postSucceeded?(0,Xw.jsx)("div",{children:"Takk for dine svar!"}):(0,Xw.jsxs)(e.Fragment,{children:[(0,Xw.jsxs)("div",{className:"nes-field",style:{margin:"1rem"},children:[(0,Xw.jsx)("label",{children:"Navnet ditt"}),(0,Xw.jsx)("input",{value:this.state.userName,onChange:e=>this.setState({userName:e.target.value}),className:"nes-input",type:"text"})]}),(0,Xw.jsx)("button",{className:"nes-btn is-primary ".concat(!t&&"is-disabled"),style:{marginBottom:"8rem"},onClick:async()=>{const e=Jw.reduce(((e,t,r)=>u(u({},e),{},{[t]:n[r].countryName})),{});Yw.collection("user-votes").add({userName:t,votes:e}).then((e=>{console.log("Document written with ID: ",e.id),this.setState({postSucceeded:!0})})).catch((e=>{console.error("Error adding document: ",e)}))},children:"Send inn poeng"})]})})]})}}const eE=Zw,tE=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(0);(0,e.useEffect)((()=>{Yw.collection("user-votes").get().then((e=>{const t=[];e.forEach((e=>t.push({userName:e.data().userName,votes:e.data().votes}))),n(t)}))}),[]);const o=t.reduce(((e,t)=>{try{return Object.entries(t.votes).map((e=>{let[t,n]=e;return[n,parseInt(t)]})).sort(((e,t)=>{let[,n]=e,[,r]=t;return n-r})).reduce(((e,n)=>{let[i,o]=n;return e.myVoteStep>=r?e:u(u({},e),{},{voteTally:u(u({},e.voteTally),{},{[i]:(e.voteTally[i]||0)+o}),usersVotes:t.userName===e.votingUserName?u(u({},e.usersVotes),{},{[i]:o}):{[i]:o},myVoteStep:e.myVoteStep+1,votingUserName:t.userName})}),e)}catch(Qw){return e}}),{voteTally:wo.reduce(((e,t)=>u(u({},e),{},{[t]:0})),{}),usersVotes:{},votingUserName:"",myVoteStep:0});return console.log(o),console.log(t),(0,Xw.jsxs)("div",{children:[(0,Xw.jsx)("h1",{children:"Resultater"}),(0,Xw.jsxs)("div",{children:[(0,Xw.jsx)("button",{className:"nes-btn is-secondary",onClick:()=>i(r-1),children:"Tilbake"}),(0,Xw.jsx)("button",{className:"nes-btn is-primary",onClick:()=>i(r+1),children:"Neste"})]}),(0,Xw.jsxs)("div",{children:["Stemmene fra ",o.votingUserName]}),(0,Xw.jsx)("div",{children:(0,Xw.jsx)("div",{style:{width:"400px",margin:"0 auto"},children:(0,Xw.jsx)("table",{className:"nes-table is-bordered is-centered",style:{background:"lightblue"},children:(0,Xw.jsx)("tbody",{children:Object.entries(o.voteTally).sort(((e,t)=>{let[,n]=e,[,r]=t;return r-n})).map((e=>{let[t,n]=e;const r=o.usersVotes[t]===Math.max(...Object.values(o.usersVotes)),i="flags/".concat(Eo[t].toLowerCase(),".png");return(0,Xw.jsxs)("tr",{style:r?{backgroundColor:"rgb(32, 156, 238)"}:{},children:[(0,Xw.jsxs)("td",{children:[(0,Xw.jsx)("img",{src:i,className:"flag",alt:"Flag of ".concat(t)}),t]}),(0,Xw.jsx)("td",{style:{width:"4rem"},children:o.usersVotes[t]||""}),(0,Xw.jsx)("td",{style:{width:"4rem"},children:n})]},"".concat(t," ").concat(n))}))})})})})]})};function nE(e){return"/"===e.charAt(0)}function rE(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const iE=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&nE(e),a=t&&nE(t),u=o||a;if(e&&nE(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?rE(i,l):".."===f?(rE(i,l),c++):c&&(rE(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&nE(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function oE(e){return"/"===e.charAt(0)?e:"/"+e}function aE(e){return"/"===e.charAt(0)?e.substr(1):e}function uE(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function sE(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function cE(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function lE(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=l({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(Qw){throw Qw instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Qw}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=iE(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function fE(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var dE=!("undefined"===typeof window||!window.document||!window.document.createElement);function hE(e,t){t(window.confirm(e))}var pE="popstate",gE="hashchange";function vE(){try{return window.history.state||{}}catch(Qw){return{}}}function mE(e){void 0===e&&(e={}),dE||le(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,u=i.getUserConfirmation,s=void 0===u?hE:u,c=i.keyLength,f=void 0===c?6:c,d=e.basename?sE(oE(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=uE(o,d)),lE(o,r,n)}function p(){return Math.random().toString(36).substr(2,f)}var g=fE();function v(e){l(D,e),D.length=t.length,g.notifyListeners(D.location,D.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(h(e.state))}function y(){w(h(vE()))}var b=!1;function w(e){if(b)b=!1,v();else{g.confirmTransitionTo(e,"POP",s,(function(t){t?v({action:"POP",location:e}):function(e){var t=D.location,n=S.indexOf(t.key);-1===n&&(n=0);var r=S.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(b=!0,_(i))}(e)}))}}var E=h(vE()),S=[E.key];function I(e){return d+cE(e)}function _(e){t.go(e)}var T=0;function x(e){1===(T+=e)&&1===e?(window.addEventListener(pE,m),r&&window.addEventListener(gE,y)):0===T&&(window.removeEventListener(pE,m),r&&window.removeEventListener(gE,y))}var C=!1;var D={length:t.length,action:"POP",location:E,createHref:I,push:function(e,r){var i="PUSH",o=lE(e,r,p(),D.location);g.confirmTransitionTo(o,i,s,(function(e){if(e){var r=I(o),u=o.key,s=o.state;if(n)if(t.pushState({key:u,state:s},null,r),a)window.location.href=r;else{var c=S.indexOf(D.location.key),l=S.slice(0,c+1);l.push(o.key),S=l,v({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=lE(e,r,p(),D.location);g.confirmTransitionTo(o,i,s,(function(e){if(e){var r=I(o),u=o.key,s=o.state;if(n)if(t.replaceState({key:u,state:s},null,r),a)window.location.replace(r);else{var c=S.indexOf(D.location.key);-1!==c&&(S[c]=o.key),v({action:i,location:o})}else window.location.replace(r)}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return C||(x(1),C=!0),function(){return C&&(C=!1,x(-1)),t()}},listen:function(e){var t=g.appendListener(e);return x(1),function(){x(-1),t()}}};return D}var yE="hashchange",bE={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+aE(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:aE,decodePath:oE},slash:{encodePath:oE,decodePath:oE}};function wE(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function EE(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function SE(e){window.location.replace(wE(window.location.href)+"#"+e)}function IE(e){void 0===e&&{},dE||le(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?hE:r,o=n.hashType,a=void 0===o?"slash":o,u=e.basename?sE(oE(e.basename)):"",s=bE[a],c=s.encodePath,f=s.decodePath;function d(){var e=f(EE());return u&&uE(e,u),lE(e)}var h=fE();function p(e){l(x,e),x.length=t.length,h.notifyListeners(x.location,x.action)}var g=!1,v=null;function m(){var e=EE(),t=c(e);if(e!==t)SE(t);else{var n=d(),r=x.location;if(!g&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===cE(n))return;(function(e){if(g)p();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=x.location,n=E.lastIndexOf(cE(t));-1===n&&0;var r=E.lastIndexOf(cE(e));-1===r&&0;var i=n-r;i&&S(i)}(e)}))}})(n)}}var y=EE(),b=c(y);y!==b&&SE(b);var w=d(),E=[cE(w)];function S(e){t.go(e)}var I=0;function _(e){1===(I+=e)&&1===e?window.addEventListener(yE,m):0===I&&window.removeEventListener(yE,m)}var T=!1;var x={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&wE(window.location.href),n+"#"+c(u+cE(e))},push:function(e,t){var n="PUSH",r=lE(e,void 0,void 0,x.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=cE(r),i=c(u+t);if(EE()!==i){(function(e){window.location.hash=e})(i);var o=E.lastIndexOf(cE(x.location)),a=E.slice(0,o+1);a.push(t),p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=lE(e,void 0,void 0,x.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=cE(r),i=c(u+t);EE()!==i&&SE(i);var o=E.indexOf(cE(x.location));-1!==o&&(E[o]=t),p({action:n,location:r})}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return T||(_(1),!0),function(){return T&&_(-1),t()}},listen:function(e){var t=h.appendListener(e);return _(1),function(){_(-1),t()}}};return x}function _E(e,t,n){return Math.min(Math.max(e,t),n)}var TE=n(173),xE=n.n(TE),CE=1073741823,DE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var kE=e.createContext||function(t,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return DE[e]=(DE[e]||0)+1}()+"__",a=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}c(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):CE,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);a.childContextTypes=((r={})[o]=xE().object.isRequired,r);var u=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}c(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?CE:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?CE:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((i={})[o]=xE().object,i),{Provider:a,Consumer:u}};const NE=kE;var AE=n(504),PE=n.n(AE),OE=(n(681),function(e){var t=NE();return t.displayName=e,t}),RE=OE("Router-History"),LE=function(e){var t=NE();return t.displayName=e,t},ME=LE("Router"),FE=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}c(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(ME.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(RE.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;e.Component;var BE={},UE=0;function VE(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,u=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=BE[n]||(BE[n]={});if(r[e])return r[e];var i=[],o={regexp:PE()(e,i,t),keys:i};return UE<1e4&&(r[e]=o,UE++),o}(n,{end:o,strict:u,sensitive:c}),i=r.regexp,a=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var jE=function(t){function n(){return t.apply(this,arguments)||this}return c(n,t),n.prototype.render=function(){var t=this;return e.createElement(ME.Consumer,null,(function(n){n||le(!1);var r=t.props.location||n.location,i=l({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?VE(r.pathname,t.props):n.match}),o=t.props,a=o.children,u=o.component,s=o.render;return Array.isArray(a)&&0===a.length&&(a=null),e.createElement(ME.Provider,{value:i},i.match?a?"function"===typeof a?a(i):a:u?e.createElement(u,i):s?s(i):null:"function"===typeof a?a(i):null)}))},n}(e.Component);function qE(e){return"/"===e.charAt(0)?e:"/"+e}function zE(e,t){if(!e)return t;var n=qE(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function GE(e){return"string"===typeof e?e:cE(e)}function HE(e){return function(){le(!1)}}function WE(){}e.Component;e.Component;e.useContext;var KE=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=mE(e.props),e}return c(n,t),n.prototype.render=function(){return e.createElement(FE,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var QE=function(e,t){return"function"===typeof e?e(t):e},$E=function(e,t){return"string"===typeof e?lE(e,null,null,t):e},YE=function(e){return e},XE=e.forwardRef;"undefined"===typeof XE&&(XE=YE);var JE=XE((function(t,n){var r=t.innerRef,i=t.navigate,o=t.onClick,a=C(t,["innerRef","navigate","onClick"]),u=a.target,s=l({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=YE!==XE&&n||r,e.createElement("a",s)}));var ZE=XE((function(t,n){var r=t.component,i=void 0===r?JE:r,o=t.replace,a=t.to,u=t.innerRef,s=C(t,["component","replace","to","innerRef"]);return e.createElement(ME.Consumer,null,(function(t){t||le(!1);var r=t.history,c=$E(QE(a,t.location),t.location),f=c?r.createHref(c):"",d=l({},s,{href:f,navigate:function(){var e=QE(a,t.location);(o?r.replace:r.push)(e)}});return YE!==XE?d.ref=n||u:d.innerRef=u,e.createElement(i,d)}))})),eS=function(e){return e},tS=e.forwardRef;"undefined"===typeof tS&&(tS=eS);tS((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.activeClassName,a=void 0===o?"active":o,u=t.activeStyle,s=t.className,c=t.exact,f=t.isActive,d=t.location,h=t.sensitive,p=t.strict,g=t.style,v=t.to,m=t.innerRef,y=C(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(ME.Consumer,null,(function(t){t||le(!1);var r=d||t.location,o=$E(QE(v,r),r),b=o.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=w?VE(r.pathname,{path:w,exact:c,sensitive:h,strict:p}):null,S=!!(f?f(E,r):E),I=S?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(s,a):s,_=S?l({},g,{},u):g,T=l({"aria-current":S&&i||null,className:I,style:_,to:o},y);return eS!==tS?T.ref=n||m:T.innerRef=m,e.createElement(ZE,T)}))}));const nS=()=>(0,Xw.jsx)("div",{className:"App",children:(0,Xw.jsxs)(KE,{basename:"/eurovision-scorer",children:[(0,Xw.jsx)(jE,{path:"/",exact:!0,component:eE}),(0,Xw.jsx)(jE,{path:"/score",component:tE})]})});t.render((0,Xw.jsx)(nS,{}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.4c5ba9cb.js.map